{
  "__id": "018f1058-7366-72e7-b2f1-ed9b0e7c66c7",
  "namespace": "ext_27c1fb4a-e011-47a6-aa26-cf0fc42c39cd",
  "code": "form_05859a44-c011-418a-91af-db0445ad204f",
  "__name": "Ознакомиться с отказом",
  "description": "",
  "extensionZoneCode": "",
  "sort": 0,
  "category": "00000000-0000-0000-0000-000000000000",
  "version": 16,
  "hidden": true,
  "draft": false,
  "readonly": false,
  "descriptor": {
    "types": ["form"],
    "template": {
      "id": "4c6afda2-ca76-4f2f-9d7c-618712f322aa",
      "descriptor": "item-form-complex-popup",
      "descriptorVersion": 2,
      "values": {
        "formType": "task-form",
        "formGroup": {
          "path": ["context"]
        },
        "systemFunctions": {}
      },
      "content": {
        "[footer]": [
          {
            "id": "31979bac-00bd-4123-a901-9d14190c8dde",
            "descriptor": "buttons-panel",
            "values": {
              "buttons": {
                "path": ["actionButtons"]
              }
            }
          }
        ],
        "[content]": [
          {
            "id": "c18e9118-cda2-49f4-ae50-5414c9b970b2",
            "descriptor": "modal-body",
            "values": {
              "shadow": true
            },
            "content": {
              "": [
                {
                  "id": "2c2bdf72-fd72-4888-9be7-f3af43d4a8ef",
                  "descriptor": "dynamic-form-row",
                  "values": {
                    "control": {
                      "path": ["context", "staff_comment"]
                    },
                    "tooltip": null,
                    "required": false,
                    "hideEmpty": true,
                    "__readOnly": true,
                    "bindingMode": false,
                    "__isConstValues": [],
                    "showDisplayName": true
                  }
                },
                {
                  "id": "cd4df6e8-d00b-4cba-adf4-f8f33b5aa620",
                  "descriptor": "dynamic-form-row",
                  "values": {
                    "control": {
                      "path": ["context", "usen_issue_confirm_type"]
                    },
                    "tooltip": null,
                    "__outlet": "",
                    "__readOnly": null,
                    "showDisplayName": true,
                    "__renderContentOnDemand": false,
                    "required": true,
                    "__baseURL": "",
                    "hideEmpty": false,
                    "bindingMode": false,
                    "__relativeURL": "",
                    "__isConstValues": []
                  }
                },
                {
                  "id": "98834d0d-879f-4d3d-817e-010b2e2d329a",
                  "descriptor": "groupbox",
                  "values": {
                    "__isConstValues": [],
                    "__renderContentAsync": false,
                    "title": "Данные сотрудника",
                    "expanded": true,
                    "styleEnum": [
                      {
                        "code": "default",
                        "name": "Default"
                      }
                    ],
                    "collapsible": true
                  },
                  "content": {
                    "": [
                      {
                        "id": "aa18822c-2c72-44da-b535-377556766390",
                        "descriptor": "dynamic-form-row",
                        "values": {
                          "tooltip": null,
                          "__outlet": "",
                          "__baseURL": "",
                          "__readOnly": true,
                          "bindingMode": false,
                          "onChangeValue": {
                            "kind": "Function",
                            "name": "checkDataChange",
                            "type": "client"
                          },
                          "__renderContentOnDemand": false,
                          "control": {
                            "path": ["context", "inn"]
                          },
                          "required": false,
                          "hideEmpty": false,
                          "__relativeURL": "",
                          "__isConstValues": [],
                          "showDisplayName": true
                        }
                      },
                      {
                        "id": "0198653a-e57b-4169-ae67-1f0aa0af0ab2",
                        "descriptor": "dynamic-form-row",
                        "values": {
                          "bindingMode": false,
                          "showDisplayName": true,
                          "tooltip": null,
                          "required": false,
                          "__baseURL": "",
                          "__readOnly": true,
                          "onChangeValue": {
                            "kind": "Function",
                            "name": "checkDataChange",
                            "type": "client"
                          },
                          "__isConstValues": [],
                          "__renderContentOnDemand": false,
                          "control": {
                            "path": ["context", "snils"]
                          },
                          "__outlet": "",
                          "hideEmpty": false,
                          "__relativeURL": ""
                        }
                      },
                      {
                        "id": "25bc2dea-4527-4833-b6f5-a1a5d971a4fa",
                        "descriptor": "dynamic-form-row",
                        "values": {
                          "__renderContentOnDemand": false,
                          "tooltip": null,
                          "required": false,
                          "__readOnly": true,
                          "__relativeURL": "",
                          "onChangeValue": {
                            "kind": "Function",
                            "name": "checkDataChange",
                            "type": "client"
                          },
                          "__isConstValues": [],
                          "showDisplayName": true,
                          "control": {
                            "path": ["context", "name"]
                          },
                          "__outlet": "",
                          "__baseURL": "",
                          "hideEmpty": false,
                          "bindingMode": false
                        }
                      },
                      {
                        "id": "dc8b8f6a-0f05-42af-9e74-de8005772e92",
                        "descriptor": "dynamic-form-row",
                        "values": {
                          "onChangeValue": {
                            "kind": "Function",
                            "name": "checkDataChange",
                            "type": "client"
                          },
                          "showDisplayName": true,
                          "__renderContentOnDemand": false,
                          "__outlet": "",
                          "__baseURL": "",
                          "hideEmpty": false,
                          "__readOnly": true,
                          "bindingMode": false,
                          "__relativeURL": "",
                          "__isConstValues": [],
                          "control": {
                            "path": ["context", "surname"]
                          },
                          "tooltip": null,
                          "required": false
                        }
                      },
                      {
                        "id": "df239ebf-15e2-40bb-a02d-153b282a896e",
                        "descriptor": "dynamic-form-row",
                        "values": {
                          "tooltip": null,
                          "__outlet": "",
                          "__baseURL": "",
                          "hideEmpty": false,
                          "bindingMode": false,
                          "control": {
                            "path": ["context", "lastname"]
                          },
                          "required": false,
                          "__readOnly": true,
                          "__relativeURL": "",
                          "onChangeValue": {
                            "kind": "Function",
                            "name": "checkDataChange",
                            "type": "client"
                          },
                          "__isConstValues": [],
                          "showDisplayName": true,
                          "__renderContentOnDemand": false
                        }
                      },
                      {
                        "id": "f01ff3c7-e6fd-4d4c-8388-27d408f79578",
                        "descriptor": "dynamic-form-row",
                        "values": {
                          "bindingMode": false,
                          "__relativeURL": "",
                          "showDisplayName": true,
                          "control": {
                            "path": ["context", "phone"]
                          },
                          "required": false,
                          "hideEmpty": false,
                          "__readOnly": true,
                          "__isConstValues": [],
                          "__renderContentOnDemand": false,
                          "tooltip": null,
                          "__outlet": "",
                          "__baseURL": "",
                          "onChangeValue": {
                            "kind": "Function",
                            "name": "checkDataChange",
                            "type": "client"
                          }
                        }
                      },
                      {
                        "id": "2ea4464f-3995-4000-b2e6-9f3f88aec29f",
                        "descriptor": "dynamic-form-row",
                        "values": {
                          "__isConstValues": [],
                          "__outlet": "",
                          "required": false,
                          "hideEmpty": false,
                          "__readOnly": true,
                          "bindingMode": false,
                          "__relativeURL": "",
                          "onChangeValue": {
                            "kind": "Function",
                            "name": "checkDataChange",
                            "type": "client"
                          },
                          "control": {
                            "path": ["context", "email"]
                          },
                          "tooltip": null,
                          "__baseURL": "",
                          "showDisplayName": true,
                          "__renderContentOnDemand": false
                        }
                      },
                      {
                        "id": "f2fd17d6-6fd0-4bdc-aa08-e56cab6c9498",
                        "descriptor": "dynamic-form-row",
                        "values": {
                          "showDisplayName": true,
                          "control": {
                            "path": ["context", "birth_date"]
                          },
                          "__relativeURL": "",
                          "__isConstValues": [],
                          "__baseURL": "",
                          "hideEmpty": false,
                          "__readOnly": true,
                          "bindingMode": false,
                          "onChangeValue": {
                            "kind": "Function",
                            "name": "checkDataChange",
                            "type": "client"
                          },
                          "tooltip": null,
                          "__outlet": "",
                          "required": false,
                          "__renderContentOnDemand": false
                        }
                      },
                      {
                        "id": "7e5bd6b4-62c7-46a5-a3e5-5317d3594438",
                        "descriptor": "dynamic-form-row",
                        "values": {
                          "tooltip": null,
                          "__relativeURL": "",
                          "showDisplayName": true,
                          "__renderContentOnDemand": false,
                          "control": {
                            "path": ["context", "passport_main_page"]
                          },
                          "__outlet": "",
                          "required": false,
                          "__baseURL": "",
                          "hideEmpty": false,
                          "__readOnly": true,
                          "bindingMode": false,
                          "onChangeValue": {
                            "kind": "Function",
                            "name": "checkDataChange",
                            "type": "client"
                          },
                          "__isConstValues": []
                        }
                      },
                      {
                        "id": "d5d05978-6776-4fc7-bc19-f7fedd1e2e6f",
                        "descriptor": "dynamic-form-row",
                        "values": {
                          "control": {
                            "path": ["context", "passport_number"]
                          },
                          "__outlet": "",
                          "bindingMode": false,
                          "__relativeURL": "",
                          "__isConstValues": [],
                          "showDisplayName": true,
                          "__renderContentOnDemand": false,
                          "tooltip": null,
                          "required": false,
                          "__baseURL": "",
                          "hideEmpty": false,
                          "__readOnly": true,
                          "onChangeValue": {
                            "kind": "Function",
                            "name": "checkDataChange",
                            "type": "client"
                          }
                        }
                      },
                      {
                        "id": "0b305072-e3ec-466d-99e9-026ed441a103",
                        "descriptor": "dynamic-form-row",
                        "values": {
                          "__relativeURL": "",
                          "__isConstValues": [],
                          "__renderContentOnDemand": false,
                          "tooltip": null,
                          "__baseURL": "",
                          "__readOnly": true,
                          "hideEmpty": false,
                          "bindingMode": false,
                          "onChangeValue": {
                            "kind": "Function",
                            "name": "checkDataChange",
                            "type": "client"
                          },
                          "showDisplayName": true,
                          "control": {
                            "path": ["context", "passport_series"]
                          },
                          "__outlet": "",
                          "required": false
                        }
                      },
                      {
                        "id": "483e15d7-941f-4fd0-8046-7780e436a816",
                        "descriptor": "dynamic-form-row",
                        "values": {
                          "__relativeURL": "",
                          "__outlet": "",
                          "__baseURL": "",
                          "required": false,
                          "hideEmpty": false,
                          "__readOnly": true,
                          "bindingMode": false,
                          "onChangeValue": {
                            "kind": "Function",
                            "name": "checkDataChange",
                            "type": "client"
                          },
                          "__isConstValues": [],
                          "control": {
                            "path": ["context", "passport_date"]
                          },
                          "tooltip": null,
                          "showDisplayName": true,
                          "__renderContentOnDemand": false
                        }
                      },
                      {
                        "id": "c48a82a8-72cf-4a53-a1ea-e95701affe59",
                        "descriptor": "dynamic-form-row",
                        "values": {
                          "onChangeValue": {
                            "kind": "Function",
                            "name": "checkDataChange",
                            "type": "client"
                          },
                          "__isConstValues": [],
                          "control": {
                            "path": ["context", "passport_code"]
                          },
                          "__outlet": "",
                          "__baseURL": "",
                          "__readOnly": true,
                          "bindingMode": false,
                          "__renderContentOnDemand": false,
                          "tooltip": null,
                          "required": false,
                          "hideEmpty": false,
                          "__relativeURL": "",
                          "showDisplayName": true
                        }
                      },
                      {
                        "id": "b67f0532-a1cf-4ae0-b74f-dc31ef5af65f",
                        "descriptor": "dynamic-form-row",
                        "values": {
                          "control": {
                            "path": ["context", "issued_by"]
                          },
                          "tooltip": null,
                          "__baseURL": "",
                          "hideEmpty": false,
                          "__readOnly": true,
                          "bindingMode": false,
                          "onChangeValue": {
                            "kind": "Function",
                            "name": "checkDataChange",
                            "type": "client"
                          },
                          "__outlet": "",
                          "required": false,
                          "__relativeURL": "",
                          "__isConstValues": [],
                          "showDisplayName": true,
                          "__renderContentOnDemand": false
                        }
                      },
                      {
                        "id": "8f92d3bd-89eb-46e0-821d-cd33c66a59b7",
                        "descriptor": "dynamic-form-row",
                        "values": {
                          "__outlet": "",
                          "bindingMode": false,
                          "__relativeURL": "",
                          "onChangeValue": {
                            "kind": "Function",
                            "name": "checkDataChange",
                            "type": "client"
                          },
                          "__isConstValues": [],
                          "control": {
                            "path": ["context", "country"]
                          },
                          "tooltip": null,
                          "hideEmpty": false,
                          "__readOnly": true,
                          "showDisplayName": true,
                          "__renderContentOnDemand": false,
                          "required": false,
                          "__baseURL": ""
                        }
                      },
                      {
                        "id": "f0c61ab8-b2fe-4f8e-925f-ef0c4932cde0",
                        "descriptor": "dynamic-form-row",
                        "values": {
                          "__isConstValues": [],
                          "__renderContentOnDemand": false,
                          "__outlet": "",
                          "bindingMode": false,
                          "__relativeURL": "",
                          "onChangeValue": {
                            "kind": "Function",
                            "name": "checkDataChange",
                            "type": "client"
                          },
                          "hideEmpty": false,
                          "__readOnly": true,
                          "showDisplayName": true,
                          "control": {
                            "path": ["context", "region"]
                          },
                          "tooltip": null,
                          "required": false,
                          "__baseURL": ""
                        }
                      },
                      {
                        "id": "07391225-5c36-48ad-b676-67a70ee80db7",
                        "descriptor": "dynamic-form-row",
                        "values": {
                          "tooltip": null,
                          "required": false,
                          "__baseURL": "",
                          "hideEmpty": false,
                          "bindingMode": false,
                          "__relativeURL": "",
                          "__renderContentOnDemand": false,
                          "control": {
                            "path": ["context", "city"]
                          },
                          "__outlet": "",
                          "__readOnly": true,
                          "onChangeValue": {
                            "kind": "Function",
                            "name": "checkDataChange",
                            "type": "client"
                          },
                          "__isConstValues": [],
                          "showDisplayName": true
                        }
                      }
                    ]
                  }
                }
              ]
            }
          }
        ],
        "[sidebar]": [
          {
            "id": "39d7757a-529f-4526-98f3-fddc66becf85",
            "descriptor": "sidebar-widget",
            "content": {
              "": [
                {
                  "id": "abe4b782-6e2d-49cc-a57e-81b636422ee5",
                  "descriptor": "target-widget",
                  "values": {
                    "context": {
                      "path": ["context"]
                    }
                  }
                }
              ]
            }
          },
          {
            "id": "231b371a-64ae-4b61-8014-cba6da318ac9",
            "descriptor": "sidebar-widget",
            "content": {
              "": [
                {
                  "id": "5e39b91d-aea4-467e-862f-0f8766eb44df",
                  "descriptor": "linked-item",
                  "values": {
                    "context": {
                      "path": ["context"]
                    }
                  }
                }
              ]
            }
          },
          {
            "id": "a4469de0-d7f3-11ec-9d64-0242ac120002",
            "descriptor": "sidebar-widget",
            "content": {
              "": [
                {
                  "id": "3ead7c41-6dfa-4144-80da-2bfb5f0ccf59",
                  "descriptor": "item-reminder",
                  "values": {
                    "formGroup": {
                      "path": ["context"]
                    }
                  }
                }
              ]
            }
          },
          {
            "id": "56d1d0e8-aa83-4cdd-ae43-294b26ad4d04",
            "descriptor": "sidebar-widget",
            "content": {
              "": [
                {
                  "id": "e1525e34-14ba-456b-b703-f407945c01e0",
                  "descriptor": "item-tasks",
                  "descriptorVersion": 4,
                  "values": {
                    "formGroup": {
                      "path": ["context"]
                    }
                  }
                }
              ]
            }
          },
          {
            "id": "eef018f2-1d3a-4600-a19d-791733b28b5e",
            "descriptor": "sidebar-widget",
            "content": {
              "": [
                {
                  "id": "e0a17dec-603a-461a-becf-861637630584",
                  "descriptor": "messages-target",
                  "values": {
                    "target": {
                      "path": ["target"]
                    }
                  }
                }
              ]
            }
          }
        ],
        "[formInfoPanel]": [
          {
            "id": "223574ea-0ad0-49e4-bc4d-d3359f55b7d4",
            "descriptor": "validation-info-block",
            "values": {
              "__validateResult": {
                "path": ["context", "__validateResult"]
              }
            }
          }
        ],
        "[headerControls]": [
          {
            "id": "475aa008-aaff-402f-8de2-408bae1f1928",
            "descriptor": "task-percent-widget",
            "values": {
              "task": {
                "path": ["task"]
              }
            }
          },
          {
            "id": "702d9c59-77ae-4dd5-b71a-a5fe7b58858f",
            "descriptor": "extension-zone-toolbar-widget",
            "values": {
              "item": {
                "path": ["__itemRef"]
              }
            }
          },
          {
            "id": "f7b11c79-4267-4f5b-a002-dd629d549682",
            "descriptor": "process-item-map",
            "values": {
              "task": {
                "path": ["task"]
              },
              "skipRulesCheck": true
            }
          },
          {
            "id": "ff2500ee-6573-49cd-a9e8-2d5c93350f26",
            "descriptor": "button",
            "values": {
              "icon": "menu_vertical",
              "view": "icon",
              "label": "bpm.tasks.item@menu",
              "action": {
                "path": ["menuAction"]
              },
              "runProcessSettings": {
                "kind": "",
                "settings": {
                  "code": "",
                  "field": "",
                  "binding": null,
                  "namespace": ""
                }
              },
              "createAppItemSettings": {
                "kind": "",
                "settings": {
                  "code": "",
                  "field": "",
                  "binding": null,
                  "namespace": ""
                }
              }
            }
          }
        ],
        "[headerCustomization]": []
      }
    },
    "fieldVisibilityConditions": {},
    "scriptOptions": {},
    "clientScripts": "declare const console: any;\n\ntype dataObj = {\n    inn: string;\n    snils: string;\n    name: string;\n    surname: string;\n    lastname: string;\n    phone: string;\n    email: string;\n    birthDate: string;\n    passportSeries: string;\n    passportNumber: string;\n    passportDate: string;\n    issuedBy: string;\n    mainPassportPage: string | undefined;\n    country: string;\n    region: string;\n    city: string;\n};\n\nlet oldData: dataObj;\n\n\nasync function onInit(): Promise\u003cvoid\u003e {\n    oldData = {\n        inn: Context.data.inn!,\n        snils: Context.data.snils!,\n        name: Context.data.name!,\n        surname: Context.data.surname!,\n        lastname: Context.data.lastname!,\n        phone: Context.data.phone![0].tel,\n        email: Context.data.email![0].email,\n        birthDate: Context.data.birth_date!.format(\"DD.MM.YYYY\"),\n        passportSeries: Context.data.passport_series!,\n        passportNumber: Context.data.passport_number!,\n        passportDate: Context.data.passport_date!.format(\"DD.MM.YYYY\"),\n        issuedBy: Context.data.issued_by!,\n        mainPassportPage: Context.data.passport_main_page?.id,\n        country: Context.data.country!,\n        region: Context.data.region!,\n        city: Context.data.city!,\n    }\n};\n\nasync function checkDataChange(): Promise\u003cvoid\u003e {\n    Context.data.data_changed = \n        oldData.inn != Context.data.inn! ||\n        oldData.snils != Context.data.snils! ||\n        oldData.name != Context.data.name! ||\n        oldData.surname != Context.data.surname! ||\n        oldData.lastname != Context.data.lastname! ||\n        oldData.phone != Context.data.phone![0].tel ||\n        oldData.email != Context.data.email![0].email ||\n        oldData.birthDate != Context.data.birth_date!.format(\"DD.MM.YYYY\") ||\n        oldData.passportSeries != Context.data.passport_series! ||\n        oldData.passportNumber != Context.data.passport_number! ||\n        oldData.passportDate != Context.data.passport_date!.format(\"DD.MM.YYYY\") ||\n        oldData.issuedBy != Context.data.issued_by! ||\n        oldData.mainPassportPage != Context.data.passport_main_page?.id ||\n        oldData.country != Context.data.country! ||\n        oldData.region != Context.data.region! ||\n        oldData.city != Context.data.city!;\n    console.log(oldData)\n    console.log(Context.data.data_changed)\n}",
    "clientScriptOptions": {
      "allowServer": true
    },
    "serverScripts": "/* Server scripts module */\n",
    "serverScriptOptions": {},
    "dataFieldCode": "context"
  },
  "dataNamespace": "ext_27c1fb4a-e011-47a6-aa26-cf0fc42c39cd",
  "dataCode": "_process_kontur_certificate_request",
  "runtime": {
    "version": 1,
    "clientScripts": "System.register([], function (exports_1, context_1) {\n    \"use strict\";\n    var __moduleName = context_1 \u0026\u0026 context_1.id;\n    function default_1(Context, ViewContext, Server, System) {\n        let oldData;\n        async function onInit() {\n            var _a;\n            oldData = {\n                inn: Context.data.inn,\n                snils: Context.data.snils,\n                name: Context.data.name,\n                surname: Context.data.surname,\n                lastname: Context.data.lastname,\n                phone: Context.data.phone[0].tel,\n                email: Context.data.email[0].email,\n                birthDate: Context.data.birth_date.format(\"DD.MM.YYYY\"),\n                passportSeries: Context.data.passport_series,\n                passportNumber: Context.data.passport_number,\n                passportDate: Context.data.passport_date.format(\"DD.MM.YYYY\"),\n                issuedBy: Context.data.issued_by,\n                mainPassportPage: (_a = Context.data.passport_main_page) === null || _a === void 0 ? void 0 : _a.id,\n                country: Context.data.country,\n                region: Context.data.region,\n                city: Context.data.city,\n            };\n        }\n        ;\n        async function checkDataChange() {\n            var _a;\n            Context.data.data_changed =\n                oldData.inn != Context.data.inn ||\n                    oldData.snils != Context.data.snils ||\n                    oldData.name != Context.data.name ||\n                    oldData.surname != Context.data.surname ||\n                    oldData.lastname != Context.data.lastname ||\n                    oldData.phone != Context.data.phone[0].tel ||\n                    oldData.email != Context.data.email[0].email ||\n                    oldData.birthDate != Context.data.birth_date.format(\"DD.MM.YYYY\") ||\n                    oldData.passportSeries != Context.data.passport_series ||\n                    oldData.passportNumber != Context.data.passport_number ||\n                    oldData.passportDate != Context.data.passport_date.format(\"DD.MM.YYYY\") ||\n                    oldData.issuedBy != Context.data.issued_by ||\n                    oldData.mainPassportPage != ((_a = Context.data.passport_main_page) === null || _a === void 0 ? void 0 : _a.id) ||\n                    oldData.country != Context.data.country ||\n                    oldData.region != Context.data.region ||\n                    oldData.city != Context.data.city;\n            console.log(oldData);\n            console.log(Context.data.data_changed);\n        }\n        return {\n            onInit,\n            checkDataChange\n        };\n    }\n    exports_1(\"default\", default_1);\n    return {\n        setters: [],\n        execute: function () {\n        }\n    };\n});\n",
    "clientFnDeclarations": [
      {
        "name": "onInit",
        "parameters": [],
        "type": "[object Object]"
      },
      {
        "name": "checkDataChange",
        "parameters": [],
        "type": "[object Object]"
      }
    ],
    "clientDependencies": {
      "applications": [],
      "collections": [],
      "pages": []
    }
  },
  "__createdAt": "2024-04-24T13:43:03.268288548Z",
  "__createdBy": "e6fbb566-3df2-420e-a7f3-03b97d2ac599",
  "__updatedAt": "2024-04-26T13:49:42.044863574Z",
  "__updatedBy": "e6fbb566-3df2-420e-a7f3-03b97d2ac599",
  "__deletedAt": null
}
