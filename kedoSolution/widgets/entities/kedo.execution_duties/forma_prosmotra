{"__id":"018e89f9-3906-7da3-9e69-938408390fbd","namespace":"kedo.execution_duties","code":"forma_prosmotra","__name":"Форма просмотра","description":"","extensionZoneCode":"","sort":0,"category":"00000000-0000-0000-0000-000000000000","version":1,"hidden":false,"draft":false,"readonly":false,"descriptor":{"types":["form"],"template":{"id":"f13c84fe-9759-47e3-8d91-24553984fc16","descriptor":"item-form-complex-popup","descriptorVersion":2,"values":{"formGroup":{"path":["item"]}},"content":{"[headerUpperTitle]":[{"id":"7fe87b6f-803f-40af-ae04-2c46f1919291","descriptor":"app-navigation-crumbs-tree-widget","values":{"item":{"path":["itemModel"]},"application":{"path":["application"]}}}],"[headerCustomization]":[],"[footer]":[{"id":"f69e7b9f-1e58-4dc6-9f39-9636aade1e28","descriptor":"zone-content","values":{"zoneCode":"[footer]"}}],"[content]":[{"id":"c18e9118-cda2-49f4-ae50-5414c9b970b2","descriptor":"modal-body","values":{"shadow":true},"content":{"":[{"id":"ebec224f-2c51-4f02-806b-441597bf262a","descriptor":"elma-info-block","values":{"text":"Внимание! По данному процессу запущен процесс отмены. До завершения процесса рекомендуем не выполнять данную задачу.","__outlet":"","__renderContentOnDemand":false,"__hidden":{"path":["item","is_cancellation_process"],"modifier":"not"},"typeEnum":[{"code":"danger","name":"Ошибка (красный)"}],"__baseURL":"","__relativeURL":"","__isConstValues":[],"__renderContentAsync":false},"content":{"":[]}},{"id":"c59d2540-fbc7-47a2-9eaf-734499b9371a","descriptor":"tabset","values":{"__outlet":"","__baseURL":"","__relativeURL":"","__isConstValues":[],"__renderContentAsync":false},"content":{"":[{"id":"48f07895-d338-49cb-b650-4017ee92fa19","descriptor":"tab","values":{"__relativeURL":"","__isConstValues":[],"__renderContentAsync":false,"__renderContentOnDemand":false,"title":"Заявка","__outlet":"","__baseURL":""},"content":{"":[{"id":"aec3226b-916d-4795-8bb2-13451ca61968","descriptor":"modal-body","content":{"":[{"id":"b9dbfcad-d5e2-49d0-bfc9-0e817c7a30e6","descriptor":"dynamic-form","values":{"fields":{"path":["fields"]},"form":{"path":["item"]}}}]}}]}},{"id":"8dd110c9-76e5-4653-b5f7-90d00e3e5595","descriptor":"tab","values":{"__baseURL":"","__relativeURL":"","__isConstValues":[],"__renderContentAsync":false,"__renderContentOnDemand":false,"title":"Приказ","__outlet":""},"content":{"":[{"id":"cbe1aef5-960e-4afe-8183-f2071596c4f5","descriptor":"modal-body","content":{"":[{"id":"952b5376-5ae6-438c-ba40-d9db02b92a51","descriptor":"linked-list","values":{"showReloadButton":false,"filterFieldsCodes":[],"linkedApplication":{"code":"order_execution_responsibilities","kind":"CollectionLink","namespace":"kedo"},"displayFieldsCodes":["__name","kedo_status"],"item":{"path":["itemModel"]},"linkedFieldCode":"execution_dutie"}}]}}]}},{"id":"e5dc335e-db87-40d5-b478-b30bed82d0bb","descriptor":"tab","values":{"title":"Служебные записки","__outlet":"","__baseURL":"","__relativeURL":"","__isConstValues":[],"__renderContentAsync":false,"__renderContentOnDemand":false},"content":{"":[{"id":"f58e0a32-2ac3-4d1e-a2b9-75324d3cf7ee","descriptor":"modal-body","content":{"":[{"id":"80fbad99-e3d6-49d2-a393-9b97b743da4d","descriptor":"linked-list","values":{"item":{"path":["itemModel"]},"linkedFieldCode":"execution_dutie","showReloadButton":false,"filterFieldsCodes":[],"linkedApplication":{"code":"memo_execution_responsibilities","kind":"CollectionLink","namespace":"kedo"},"displayFieldsCodes":["__name","kedo_status"]}}]}}]}},{"id":"642069a7-6d03-427c-bc06-fbe934af8621","descriptor":"tab","values":{"__renderContentAsync":false,"__renderContentOnDemand":false,"title":"Согласия","__outlet":"","__baseURL":"","__relativeURL":"","__isConstValues":[]},"content":{"":[{"id":"70adb757-c9ed-412c-9024-50e1e2d16ed6","descriptor":"modal-body","content":{"":[{"id":"6163ff1b-e9dd-49dc-ba40-0ecf85138658","descriptor":"linked-list","values":{"displayFieldsCodes":["__name","kedo_status"],"item":{"path":["itemModel"]},"linkedFieldCode":"execution_dutie","showReloadButton":false,"filterFieldsCodes":[],"linkedApplication":{"code":"execution_responsibilities_consent","kind":"CollectionLink","namespace":"kedo"}}}]}}]}},{"id":"9037557a-ca74-4cf7-adfb-71c0ddf87e41","descriptor":"tab","values":{"__isConstValues":[],"__renderContentAsync":false,"__renderContentOnDemand":false,"title":"Доп. соглашения","__outlet":"","__baseURL":"","__relativeURL":""},"content":{"":[{"id":"f828f3ec-a4da-4923-9f8c-fdd96b7139d3","descriptor":"modal-body","content":{"":[{"id":"a0a8649f-53ed-4042-9173-9c92480e1b96","descriptor":"linked-list","values":{"linkedApplication":{"code":"execution_responsibilities_additional_agreement","kind":"CollectionLink","namespace":"kedo"},"displayFieldsCodes":["__name","kedo_status"],"item":{"path":["itemModel"]},"linkedFieldCode":"execution_duties","showReloadButton":false,"filterFieldsCodes":[]}}]}}]}}]}}]}}],"[sidebar]":[{"id":"c88b4a32-6c5c-4003-a1bf-2bfee5d95299","descriptor":"sidebar-widget","values":{"__relativeURL":"","__isConstValues":[],"__renderContentAsync":false,"__renderContentOnDemand":false,"title":"Статус КЭДО","__outlet":"","__baseURL":""},"content":{"":[{"id":"0e65ae4b-a6a6-4727-981d-5b3cde19d1a7","descriptor":"ext_7fe3de7d-f459-4f75-940c-271c6e9ea1ed@kedo_status","descriptorVersion":19,"values":{"app":{"path":["__itemRef"]},"__outlet":"","__baseURL":"","kedo_status":{"path":["item","kedo_status"]},"__relativeURL":"","__isConstValues":[],"__renderContentOnDemand":false}}]}},{"id":"32a2c1e4-d376-4aea-8808-09ff7d74034b","descriptor":"sidebar-widget","content":{"":[{"id":"484d74f7-e2f0-413b-83fd-42416ffc4c9f","descriptor":"portal-user-profile-status","values":{"formGroup":{"path":["item"]}}}]}},{"id":"2f4caa85-bf2f-4379-b888-119b342093c8","descriptor":"sidebar-widget","values":{"title":"Статус в Диадок"},"content":{"":[{"id":"6dbf42cc-a55b-4720-827a-93d271b847b0","descriptor":"diadoc-status","values":{"tooltip":"app-integration@diadoc-status","itemModel":{"path":["itemModel"]},"applicationItem":{"path":["item"]}}}]}},{"id":"cbd8cadb-d5e7-4b19-91da-5881637efc78","descriptor":"sidebar-widget","values":{"title":"Статус подписи"},"content":{"":[{"id":"5476c0e0-829c-4d53-b03b-88b0d6534fb0","descriptor":"app-sign-status","values":{"itemModel":{"path":["itemModel"]}}}]}},{"id":"1c6ef61f-6d0e-41d1-8a1f-211bc70f3d92","descriptor":"sidebar-widget","content":{"":[{"id":"3a3d29c6-7fca-42eb-95f8-74789b8b7f22","descriptor":"docflow-approval-lists","values":{"item":{"path":["itemModel"]}}}]}},{"id":"8326be58-15ff-4903-8ab0-e20b08b8306b","descriptor":"sidebar-widget","content":{"":[{"id":"3a3d29c6-7fca-42eb-95f8-74789b8b7f22","descriptor":"docflow-inform-lists","values":{"item":{"path":["itemModel"]}}}]}},{"id":"a3c6e12f-c346-4519-932b-7ab965384039","descriptor":"sidebar-widget","values":{"__renderContentOnDemand":false,"__hidden":true,"__outlet":"","__baseURL":"","__relativeURL":"","__isConstValues":[],"__renderContentAsync":false},"content":{"":[{"id":"4cc755bb-f919-4ff7-8e47-5c59047dad62","descriptor":"item-status","values":{"item":{"path":["itemModel"]},"application":{"path":["application"]}}}]}},{"id":"ff81ce95-4e79-44b7-9084-d7b0e0f764c3","descriptor":"sidebar-widget","content":{"":[{"id":"d23366cd-07b0-4ae4-bb2c-73a203ec7786","descriptor":"item-tasks","descriptorVersion":4,"values":{"formGroup":{"path":["item"]}}}]}},{"id":"3ab3e301-da8a-4030-ba48-4e02c136b812","descriptor":"sidebar-widget","content":{"":[{"id":"5c77c4f0-b9f3-4d77-ac9c-5aaadde543dd","descriptor":"messages-target","values":{"target":{"path":["target"]}}}]}},{"id":"39952f62-bb37-4e34-96e1-f891c0b4530f","descriptor":"sidebar-widget","values":{"title":"Задачи связанных элементов","__outlet":"","__baseURL":"","__relativeURL":"","__isConstValues":[],"__renderContentAsync":false,"__renderContentOnDemand":false},"content":{"":[{"id":"1274b3b0-6840-4198-b604-49fa72d2d140","descriptor":"kedo@linked_tasks","descriptorVersion":77,"values":{"__renderContentOnDemand":false,"__outlet":"","item_ref":{"path":["__itemRef"]},"__baseURL":"","__relativeURL":"","__isConstValues":[]}}]}}],"[headerControls]":[{"id":"d8e970da-6c0b-49fb-963c-d2515788b7b1","descriptor":"item-subscribe","values":{"item":{"path":["itemModel"]},"application":{"path":["application"]}}},{"id":"5a72dd17-31f2-4412-a056-a474e01ac17c","descriptor":"button","values":{"runProcessSettings":{"kind":"","settings":{"code":"","field":"","binding":null,"namespace":""}},"createAppItemSettings":{"kind":"","settings":{"code":"","field":"","binding":null,"namespace":""}},"icon":"send_approve","view":"icon","action":{"path":["docflowSendAction"]},"tooltip":"Отправить"}},{"id":"b0237e26-4b99-4ce8-9d6f-a78b44c9263b","descriptor":"button","values":{"action":{"path":["accessSettings"]},"runProcessSettings":{"kind":"","settings":{"code":"","field":"","binding":null,"namespace":""}},"createAppItemSettings":{"kind":"","settings":{"code":"","field":"","binding":null,"namespace":""}},"icon":"lock","view":"icon","label":"Права доступа"}},{"id":"17a52e8f-7486-4031-bd01-5838fcfc8f70","descriptor":"extension-zone-toolbar-widget","values":{"item":{"path":["__itemRef"]}}},{"id":"13599e1c-12ed-11eb-adc1-0242ac120002","descriptor":"edo-diadoc-full-widget","values":{"icon":"lock","item":{"path":["item"]},"view":"icon","label":"Права доступа","itemModel":{"path":["itemModel"]}}},{"id":"1d3e0cf2-9996-43a6-945d-4b949ff7939e","descriptor":"app-signing","descriptorVersion":3,"values":{"label":"Права доступа","itemModel":{"path":["itemModel"]}}}]}},"fieldVisibilityConditions":{},"scriptOptions":{},"clientScripts":"/* Client scripts module */\n\ndeclare const document: any;\n\nasync function onInit(): Promise\u003cvoid\u003e {\n    if (Context.data.kedo_status) {\n        const status = await Context.data.kedo_status.fetch();\n        const button_cancel_documents = document.querySelectorAll('.btn-danger');\n        for (let button of button_cancel_documents){\n            if (button.innerText.includes('Отменить документы')) {\n                if (Context.data.is_cancellation_process === true || status.data.code == \"signing_application\") {\n                    button.hidden = true;\n                } else {\n                    button.hidden = false;\n                }\n            }\n        }\n    }\n}","clientScriptOptions":{"allowServer":true},"serverScripts":"/* Server scripts module */\n","serverScriptOptions":{},"widgetZones":[{"code":"[footer]"}],"dataFieldCode":"item"},"dataNamespace":"kedo","dataCode":"execution_duties","runtime":{"version":1,"clientScripts":"System.register([], function (exports_1, context_1) {\n    \"use strict\";\n    var __moduleName = context_1 \u0026\u0026 context_1.id;\n    function default_1(Context, ViewContext, Server, System) {\n        async function onInit() {\n            if (Context.data.kedo_status) {\n                const status = await Context.data.kedo_status.fetch();\n                const button_cancel_documents = document.querySelectorAll('.btn-danger');\n                for (let button of button_cancel_documents) {\n                    if (button.innerText.includes('Отменить документы')) {\n                        if (Context.data.is_cancellation_process === true || status.data.code == \"signing_application\") {\n                            button.hidden = true;\n                        }\n                        else {\n                            button.hidden = false;\n                        }\n                    }\n                }\n            }\n        }\n        return {\n            onInit\n        };\n    }\n    exports_1(\"default\", default_1);\n    return {\n        setters: [],\n        execute: function () {\n        }\n    };\n});\n","clientFnDeclarations":[{"name":"onInit","parameters":[],"type":"[object Object]"}],"clientDependencies":{"applications":[],"collections":[{"namespace":"kedo","code":"statuses"}],"pages":[]}},"__createdAt":"2024-03-29T11:29:55.460984155Z","__createdBy":"d78f4b2f-13a2-4903-aeeb-fdb72d5b9d0c","__updatedAt":"2024-03-29T11:29:55.460984155Z","__updatedBy":"d78f4b2f-13a2-4903-aeeb-fdb72d5b9d0c","__deletedAt":null}
