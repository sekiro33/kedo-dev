{"__id":"018c8758-3a1f-7dc9-9c52-3328a22cc907","namespace":"personnel_documents.benefit_application","code":"form_ed7df36b-0f5f-4dee-839f-cec6a78d9457","__name":"Скорректировать данные для заявки на пособие","description":"","extensionZoneCode":"","sort":0,"category":"00000000-0000-0000-0000-000000000000","version":4,"hidden":true,"draft":false,"readonly":false,"descriptor":{"types":["form"],"template":{"id":"c7dc2429-b931-4a7b-a7c6-b33daa6e19ef","descriptor":"item-form-complex-popup","descriptorVersion":2,"values":{"formType":"task-form","formGroup":{"path":["context"]},"systemFunctions":{}},"content":{"[formInfoPanel]":[{"id":"ca8b3711-a2b0-4670-a960-b5ee11b89bdb","descriptor":"validation-info-block","values":{"__validateResult":{"path":["context","__validateResult"]}}}],"[headerControls]":[{"id":"475aa008-aaff-402f-8de2-408bae1f1928","descriptor":"task-percent-widget","values":{"task":{"path":["task"]}}},{"id":"702d9c59-77ae-4dd5-b71a-a5fe7b58858f","descriptor":"extension-zone-toolbar-widget","values":{"item":{"path":["__itemRef"]}}},{"id":"f7b11c79-4267-4f5b-a002-dd629d549682","descriptor":"process-item-map","values":{"task":{"path":["task"]},"skipRulesCheck":true}},{"id":"ff2500ee-6573-49cd-a9e8-2d5c93350f26","descriptor":"button","values":{"icon":"menu_vertical","view":"icon","label":"bpm.tasks.item@menu","action":{"path":["menuAction"]},"runProcessSettings":{"kind":"","settings":{"code":"","field":"","binding":null,"namespace":""}},"createAppItemSettings":{"kind":"","settings":{"code":"","field":"","binding":null,"namespace":""}}}}],"[headerCustomization]":[],"[footer]":[{"id":"31979bac-00bd-4123-a901-9d14190c8dde","descriptor":"buttons-panel","values":{"buttons":{"path":["actionButtons"]}}}],"[content]":[{"id":"c18e9118-cda2-49f4-ae50-5414c9b970b2","descriptor":"modal-body","values":{"shadow":true},"content":{"":[{"id":"2fa5d35d-ccda-4ace-b5b8-8792dca7cc83","descriptor":"dynamic-form-row","values":{"bindingMode":false,"__relativeURL":"","control":{"path":["context","comment"]},"tooltip":null,"__outlet":"","required":false,"__baseURL":"","__readOnly":true,"showDisplayName":true,"hideEmpty":false,"__isConstValues":[]}},{"id":"1958ccd8-7db9-46f3-8123-2a0f21119984","descriptor":"dynamic-form-row","values":{"required":false,"__baseURL":"","__readOnly":null,"bindingMode":false,"displayName":"Сотрудник","__relativeURL":"","showCreateItem":false,"control":{"path":["context","edit_staff"]},"showDisplayName":true,"__isConstValues":[],"__outlet":"","hideEmpty":false,"tooltip":null}},{"id":"ac542879-15e0-49a4-be29-01984f1b370e","descriptor":"dynamic-form-row","values":{"__isConstValues":[],"control":{"path":["context","type_benefit"]},"__baseURL":"","__readOnly":null,"__relativeURL":"","onChangeValue":{"kind":"Function","name":"required_fields","type":"client"},"showCreateItem":false,"tooltip":null,"__outlet":"","required":true,"hideEmpty":false,"bindingMode":false,"showDisplayName":true}},{"id":"b8767741-5491-4e23-9167-566f91d6779c","descriptor":"dynamic-form-row","values":{"showDisplayName":true,"control":{"path":["context","employee_comment"]},"__outlet":"","hideEmpty":false,"__readOnly":null,"bindingMode":false,"__isConstValues":[],"tooltip":null,"required":false,"__baseURL":"","__relativeURL":""}},{"id":"9ffd89b4-4ec9-4fae-b9ef-f5f670f91bd7","descriptor":"groupbox","values":{"__relativeURL":"","__isConstValues":[],"__renderContentAsync":false,"title":"Дополнительные поля","__outlet":"","expanded":true,"__baseURL":"","styleEnum":[{"code":"default","name":"Default"}],"__hidden":{"path":["dates"],"modifier":"not"},"collapsible":false},"content":{"":[{"id":"ccf5d02c-a602-467e-b6ae-adb3fdd75ddb","descriptor":"dynamic-form-row","values":{"__baseURL":"","hideEmpty":false,"bindingMode":false,"__relativeURL":"","showDisplayName":true,"control":{"path":["context","start_date"]},"tooltip":null,"__outlet":"","required":{"path":["dates"]},"__readOnly":null,"__isConstValues":[]}},{"id":"eaab54aa-b0ea-48fd-94fb-c11a10c6bfc9","descriptor":"dynamic-form-row","values":{"__isConstValues":[],"showDisplayName":true,"control":{"path":["context","expiration_date"]},"__outlet":"","__baseURL":"","__readOnly":null,"bindingMode":false,"__relativeURL":"","tooltip":null,"required":{"path":["dates"]},"hideEmpty":false}}]}},{"id":"6cc2911e-6409-46d4-ab84-900ee538b271","descriptor":"groupbox","values":{"__isConstValues":[],"__outlet":"","expanded":true,"collapsible":false,"__relativeURL":"","__renderContentAsync":false,"title":"Дополнительные поля","__hidden":{"path":["child"],"modifier":"not"},"__baseURL":"","styleEnum":[{"code":"default","name":"Default"}]},"content":{"":[{"id":"74c264b9-e604-4ed3-813c-158037c6d590","descriptor":"dynamic-form-row","values":{"tooltip":null,"required":{"path":["child"]},"__baseURL":"","bindingMode":false,"control":{"path":["context","childs_name"]},"__outlet":"","hideEmpty":false,"__readOnly":null,"__relativeURL":"","__isConstValues":[],"showDisplayName":true}},{"id":"12bee83b-1f7e-48ab-a72d-30c0ba161f01","descriptor":"dynamic-form-row","values":{"hideEmpty":false,"bindingMode":false,"showDisplayName":true,"__isConstValues":[],"control":{"path":["context","date_of_birth"]},"tooltip":null,"__outlet":"","required":{"path":["child"]},"__baseURL":"","__readOnly":null,"__relativeURL":""}}]}},{"id":"eb78c53a-cf7b-4b36-b9f0-78e18d7902ae","descriptor":"groupbox","values":{"__relativeURL":"","__renderContentAsync":false,"expanded":true,"styleEnum":[{"code":"default","name":"Default"}],"collapsible":false,"__baseURL":"","__isConstValues":[],"title":"Дополнительные поля","__hidden":{"path":["injury"],"modifier":"not"},"__outlet":""},"content":{"":[{"id":"71f387cf-0750-4cfd-932c-58bf75af8143","descriptor":"dynamic-form-row","values":{"tooltip":null,"__outlet":"","required":{"path":["injury"]},"__baseURL":"","control":{"path":["context","date_of_accident"]},"hideEmpty":false,"__readOnly":null,"bindingMode":false,"__relativeURL":"","__isConstValues":[],"showDisplayName":true}}]}},{"id":"9ab589e3-934e-448b-b3cc-c01aaa9a7514","descriptor":"groupbox","values":{"__hidden":{"path":["death"],"modifier":"not"},"styleEnum":[{"code":"default","name":"Default"}],"__relativeURL":"","__isConstValues":[],"collapsible":false,"__renderContentAsync":false,"title":"Дополнительные поля","__outlet":"","expanded":true,"__baseURL":""},"content":{"":[{"id":"e4b39694-5c20-4b0a-8138-e691cae2df54","descriptor":"dynamic-form-row","values":{"tooltip":null,"__outlet":"","__baseURL":"","hideEmpty":false,"__relativeURL":"","__isConstValues":[],"showDisplayName":true,"control":{"path":["context","name_of_the_deceased"]},"required":{"path":["death"]},"__readOnly":null,"bindingMode":false}}]}},{"id":"53a910dc-f80b-4f39-8071-79bcfe68a605","descriptor":"dynamic-form-row","values":{"tooltip":null,"__baseURL":"","hideEmpty":false,"__readOnly":null,"bindingMode":false,"control":{"path":["context","required_files"]},"__outlet":"","required":{"path":["file_required"]},"__relativeURL":"","__isConstValues":[],"showDisplayName":true,"__hidden":{"path":["file_required"],"modifier":"not"}}}]}}],"[sidebar]":[{"id":"39d7757a-529f-4526-98f3-fddc66becf85","descriptor":"sidebar-widget","content":{"":[{"id":"abe4b782-6e2d-49cc-a57e-81b636422ee5","descriptor":"target-widget","values":{"context":{"path":["context"]}}}]}},{"id":"231b371a-64ae-4b61-8014-cba6da318ac9","descriptor":"sidebar-widget","content":{"":[{"id":"5e39b91d-aea4-467e-862f-0f8766eb44df","descriptor":"linked-item","values":{"context":{"path":["context"]}}}]}},{"id":"a4469de0-d7f3-11ec-9d64-0242ac120002","descriptor":"sidebar-widget","content":{"":[{"id":"3ead7c41-6dfa-4144-80da-2bfb5f0ccf59","descriptor":"item-reminder","values":{"formGroup":{"path":["context"]}}}]}},{"id":"56d1d0e8-aa83-4cdd-ae43-294b26ad4d04","descriptor":"sidebar-widget","content":{"":[{"id":"e1525e34-14ba-456b-b703-f407945c01e0","descriptor":"item-tasks","descriptorVersion":4,"values":{"formGroup":{"path":["context"]}}}]}},{"id":"eef018f2-1d3a-4600-a19d-791733b28b5e","descriptor":"sidebar-widget","content":{"":[{"id":"e0a17dec-603a-461a-becf-861637630584","descriptor":"messages-target","values":{"target":{"path":["target"]}}}]}}]}},"fields":[{"code":"dates","type":"BOOLEAN","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":false,"calcByFormula":false,"formula":"","data":{},"view":{"name":"dates","data":{"additionalType":"radio","noValue":"Нет","yesValue":"Да"}}},{"code":"child","type":"BOOLEAN","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":false,"calcByFormula":false,"formula":"","data":{},"view":{"name":"child","data":{"additionalType":"radio","noValue":"Нет","yesValue":"Да"}}},{"code":"injury","type":"BOOLEAN","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":false,"calcByFormula":false,"formula":"","data":{},"view":{"name":"injury","data":{"additionalType":"radio","noValue":"Нет","yesValue":"Да"}}},{"code":"death","type":"BOOLEAN","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":false,"calcByFormula":false,"formula":"","data":{},"view":{"name":"death","data":{"additionalType":"radio","noValue":"Нет","yesValue":"Да"}}},{"code":"file_required","type":"BOOLEAN","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":false,"calcByFormula":false,"formula":"","data":{},"view":{"name":"file_required","data":{"additionalType":"radio","noValue":"Нет","yesValue":"Да"}}}],"fieldVisibilityConditions":{"child":{"enabled":false,"conditions":[]},"dates":{"enabled":false,"conditions":[]},"death":{"enabled":false,"conditions":[]},"injury":{"enabled":false,"conditions":[]},"file_required":{"enabled":false,"conditions":[]}},"scriptOptions":{},"clientScripts":"/* Client scripts module */\n\nasync function onInit(): Promise\u003cvoid\u003e {\n    let type_benefit = await Context.data.type_benefit!.fetch();\n    \n    if (type_benefit.data.__name == 'Беременность и роды - Пособие по беременности и родам') {\n        ViewContext.data.dates = true;\n        ViewContext.data.child = false;\n        ViewContext.data.injury = false;\n        ViewContext.data.death = false;\n\n        ViewContext.data.file_required = true;\n    }\n    if (type_benefit.data.__name == 'Рождение ребенка - Единовременное пособие при рождении  ребенка'\n        || type_benefit.data.__name == 'Уход за ребенком - Ежемесячное пособие по уходу за ребенком') {\n        ViewContext.data.child = true;\n        ViewContext.data.dates = false;\n        ViewContext.data.injury = false;\n        ViewContext.data.death = false;\n\n        ViewContext.data.file_required = true;\n    }\n    if (type_benefit.data.__name == 'Проф. травма - Пособие по временной нетрудоспособности') {\n        ViewContext.data.injury = true;\n        ViewContext.data.child = false;\n        ViewContext.data.dates = false;\n        ViewContext.data.death = false;\n\n        ViewContext.data.file_required = true;\n    }\n    if (type_benefit.data.__name == 'Погребение - Социальное пособие на погребение') {\n        ViewContext.data.death = true;\n        ViewContext.data.child = false;\n        ViewContext.data.dates = false;\n        ViewContext.data.injury = false;\n\n        ViewContext.data.file_required = true;\n    }\n\n    if (type_benefit.data.__name == \"Возмещение расходов на оплату четырех дополнительных выходных дней одному из родителей для ухода за детьми-инвалидами\") {\n        ViewContext.data.death = false;\n        ViewContext.data.child = false;\n        ViewContext.data.dates = false;\n        ViewContext.data.injury = false;\n\n        ViewContext.data.file_required = true;\n    }\n}\n\nasync function required_fields(): Promise\u003cvoid\u003e {\n    let type_benefit = await Context.data.type_benefit!.fetch();\n    \n    if (type_benefit.data.__name == 'Беременность и роды - Пособие по беременности и родам') {\n        ViewContext.data.dates = true;\n        ViewContext.data.child = false;\n        ViewContext.data.injury = false;\n        ViewContext.data.death = false;\n\n        ViewContext.data.file_required = true;\n    }\n    if (type_benefit.data.__name == 'Рождение ребенка - Единовременное пособие при рождении  ребенка'\n        || type_benefit.data.__name == 'Уход за ребенком - Ежемесячное пособие по уходу за ребенком') {\n        ViewContext.data.child = true;\n        ViewContext.data.dates = false;\n        ViewContext.data.injury = false;\n        ViewContext.data.death = false;\n\n        ViewContext.data.file_required = true;\n    }\n    if (type_benefit.data.__name == 'Проф. травма - Пособие по временной нетрудоспособности') {\n        ViewContext.data.injury = true;\n        ViewContext.data.child = false;\n        ViewContext.data.dates = false;\n        ViewContext.data.death = false;\n\n        ViewContext.data.file_required = true;\n    }\n    if (type_benefit.data.__name == 'Погребение - Социальное пособие на погребение') {\n        ViewContext.data.death = true;\n        ViewContext.data.child = false;\n        ViewContext.data.dates = false;\n        ViewContext.data.injury = false;\n\n        ViewContext.data.file_required = true;\n    }\n\n    if (type_benefit.data.__name == \"Возмещение расходов на оплату четырех дополнительных выходных дней одному из родителей для ухода за детьми-инвалидами\") {\n        ViewContext.data.death = false;\n        ViewContext.data.child = false;\n        ViewContext.data.dates = false;\n        ViewContext.data.injury = false;\n\n        ViewContext.data.file_required = true;\n    }\n}\n","clientScriptOptions":{"allowServer":true},"serverScripts":"/* Server scripts module */\n","serverScriptOptions":{},"dataFieldCode":"context"},"dataNamespace":"personnel_documents.benefit_application","dataCode":"_process_benefit_processing","runtime":{"version":1,"clientScripts":"System.register([], function (exports_1, context_1) {\n    \"use strict\";\n    var __moduleName = context_1 \u0026\u0026 context_1.id;\n    function default_1(Context, ViewContext, Server, System) {\n        async function onInit() {\n            let type_benefit = await Context.data.type_benefit.fetch();\n            if (type_benefit.data.__name == 'Беременность и роды - Пособие по беременности и родам') {\n                ViewContext.data.dates = true;\n                ViewContext.data.child = false;\n                ViewContext.data.injury = false;\n                ViewContext.data.death = false;\n                ViewContext.data.file_required = true;\n            }\n            if (type_benefit.data.__name == 'Рождение ребенка - Единовременное пособие при рождении  ребенка'\n                || type_benefit.data.__name == 'Уход за ребенком - Ежемесячное пособие по уходу за ребенком') {\n                ViewContext.data.child = true;\n                ViewContext.data.dates = false;\n                ViewContext.data.injury = false;\n                ViewContext.data.death = false;\n                ViewContext.data.file_required = true;\n            }\n            if (type_benefit.data.__name == 'Проф. травма - Пособие по временной нетрудоспособности') {\n                ViewContext.data.injury = true;\n                ViewContext.data.child = false;\n                ViewContext.data.dates = false;\n                ViewContext.data.death = false;\n                ViewContext.data.file_required = true;\n            }\n            if (type_benefit.data.__name == 'Погребение - Социальное пособие на погребение') {\n                ViewContext.data.death = true;\n                ViewContext.data.child = false;\n                ViewContext.data.dates = false;\n                ViewContext.data.injury = false;\n                ViewContext.data.file_required = true;\n            }\n            if (type_benefit.data.__name == \"Возмещение расходов на оплату четырех дополнительных выходных дней одному из родителей для ухода за детьми-инвалидами\") {\n                ViewContext.data.death = false;\n                ViewContext.data.child = false;\n                ViewContext.data.dates = false;\n                ViewContext.data.injury = false;\n                ViewContext.data.file_required = true;\n            }\n        }\n        async function required_fields() {\n            let type_benefit = await Context.data.type_benefit.fetch();\n            if (type_benefit.data.__name == 'Беременность и роды - Пособие по беременности и родам') {\n                ViewContext.data.dates = true;\n                ViewContext.data.child = false;\n                ViewContext.data.injury = false;\n                ViewContext.data.death = false;\n                ViewContext.data.file_required = true;\n            }\n            if (type_benefit.data.__name == 'Рождение ребенка - Единовременное пособие при рождении  ребенка'\n                || type_benefit.data.__name == 'Уход за ребенком - Ежемесячное пособие по уходу за ребенком') {\n                ViewContext.data.child = true;\n                ViewContext.data.dates = false;\n                ViewContext.data.injury = false;\n                ViewContext.data.death = false;\n                ViewContext.data.file_required = true;\n            }\n            if (type_benefit.data.__name == 'Проф. травма - Пособие по временной нетрудоспособности') {\n                ViewContext.data.injury = true;\n                ViewContext.data.child = false;\n                ViewContext.data.dates = false;\n                ViewContext.data.death = false;\n                ViewContext.data.file_required = true;\n            }\n            if (type_benefit.data.__name == 'Погребение - Социальное пособие на погребение') {\n                ViewContext.data.death = true;\n                ViewContext.data.child = false;\n                ViewContext.data.dates = false;\n                ViewContext.data.injury = false;\n                ViewContext.data.file_required = true;\n            }\n            if (type_benefit.data.__name == \"Возмещение расходов на оплату четырех дополнительных выходных дней одному из родителей для ухода за детьми-инвалидами\") {\n                ViewContext.data.death = false;\n                ViewContext.data.child = false;\n                ViewContext.data.dates = false;\n                ViewContext.data.injury = false;\n                ViewContext.data.file_required = true;\n            }\n        }\n        return {\n            onInit,\n            required_fields\n        };\n    }\n    exports_1(\"default\", default_1);\n    return {\n        setters: [],\n        execute: function () {\n        }\n    };\n});\n","clientFnDeclarations":[{"name":"onInit","parameters":[],"type":"[object Object]"},{"name":"required_fields","parameters":[],"type":"[object Object]"}]},"__createdAt":"2023-12-20T13:09:15.419974883Z","__createdBy":"7303b866-4220-4086-a09e-348a76b12c73","__updatedAt":"2024-02-14T11:08:57.81456671Z","__updatedBy":"7303b866-4220-4086-a09e-348a76b12c73","__deletedAt":null}
