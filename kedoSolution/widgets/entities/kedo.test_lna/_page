{"__id":"018c8758-0e5a-7ad8-92e4-424a3584e606","namespace":"kedo.test_lna","code":"_page","__name":"тест лна","description":"","extensionZoneCode":"","sort":0,"category":"00000000-0000-0000-0000-000000000000","version":3,"hidden":true,"draft":false,"readonly":false,"descriptor":{"types":["page"],"template":{"id":"8ae5d06e-2eb6-477a-8018-6930e9c366a7","descriptor":"custom-page","content":{"":[{"id":"53e8f9fb-7a03-47be-812b-f853dde94f9a","descriptor":"page-header","content":{"[title]":[{"id":"f57cf9a5-faa2-4548-a04c-4e5a949e6b3c","descriptor":"label","values":{"text":"тест лна"}}]}},{"id":"cf7852d1-66b2-4c88-9444-077fe5805e59","descriptor":"page-content","content":{"":[{"id":"efd38ed5-6783-4f23-a9d6-37a0c5f115ca","descriptor":"dynamic-form-row","values":{"tooltip":null,"required":false,"__isConstValues":[],"showDisplayName":true,"showCreateItem":false,"control":{"path":["position"]},"hideEmpty":false,"__readOnly":null,"bindingMode":false}},{"id":"90ce4a7c-09c7-4a51-85b9-065c1ea37dfa","descriptor":"button","values":{"runActionEnum":[{"code":"undefined","name":"shared.common.button@widget-runAction-none","translate":true}],"runProcessSettings":{"kind":"","settings":{"code":"","field":"","binding":null,"namespace":""}},"view":"default","label":"fina lna","onClick":{"kind":"Function","name":"getDoc","type":"client"},"runInPopover":null,"action":null,"__isConstValues":[],"processPopoverSize":[{"code":"default","name":"shared.common.button@widget-process-popover-size-default","translate":true}],"createAppItemSettings":{"kind":"","settings":{"code":"","field":"","binding":null,"namespace":""}}}}]}}]}},"fields":[{"code":"position","type":"SYS_COLLECTION","searchable":false,"indexed":false,"deleted":false,"array":true,"required":false,"single":true,"defaultValue":null,"calcByFormula":false,"formula":"","data":{"code":"position","filter":{"value":{"tf":{}},"enabled":false},"bindings":null,"namespace":"kedo","isDependent":false,"linkedFieldCode":""},"view":{"name":"Должность","data":{}}},{"code":"lna_doc","type":"SYS_COLLECTION","searchable":false,"indexed":false,"deleted":false,"array":true,"required":false,"single":false,"defaultValue":null,"calcByFormula":false,"formula":"","data":{"code":"docs_lna","filter":{"value":{"tf":{}},"enabled":false},"bindings":null,"namespace":"kedo","isDependent":false,"linkedFieldCode":""},"view":{"name":"Документ ЛНА","data":{}}}],"fieldVisibilityConditions":{"lna_doc":{"enabled":false,"conditions":[]},"position":{"enabled":false,"conditions":[]}},"scriptOptions":{},"clientScripts":"declare const console: any;\n\nasync function getDoc(): Promise\u003cvoid\u003e {\n    let position = Context.data.position\n    let lnaDocs = await Context.fields.lna_doc.app.search().where((f, g) =\u003e g.and(\n        f.__deletedAt.eq(null),\n        f.positions_review.has(position!),\n        g.or(\n            f.__status.eq(Context.fields.lna_doc.app.fields.__status.variants.approved),\n            f.__status.eq(Context.fields.lna_doc.app.fields.__status.variants.current)\n        )\n    )).size(10000).all()\n    console.log(lnaDocs)\n};\n","clientScriptOptions":{"allowServer":true},"serverScripts":"/* Server scripts module */\n","serverScriptOptions":{}},"dataNamespace":"","dataCode":"","runtime":{"version":1,"clientScripts":"System.register([], function (exports_1, context_1) {\n    \"use strict\";\n    var __moduleName = context_1 \u0026\u0026 context_1.id;\n    function default_1(Context, ViewContext, Server) {\n        async function getDoc() {\n            let position = Context.data.position;\n            let lnaDocs = await Context.fields.lna_doc.app.search().where((f, g) =\u003e g.and(f.__deletedAt.eq(null), f.positions_review.has(position), g.or(f.__status.eq(Context.fields.lna_doc.app.fields.__status.variants.approved), f.__status.eq(Context.fields.lna_doc.app.fields.__status.variants.current)))).size(10000).all();\n            console.log(lnaDocs);\n        }\n        ;\n        return {\n            getDoc\n        };\n    }\n    exports_1(\"default\", default_1);\n    return {\n        setters: [],\n        execute: function () {\n        }\n    };\n});\n","clientFnDeclarations":[{"name":"getDoc","parameters":[],"type":"[object Object]"}]},"__createdAt":"2023-12-20T13:09:04.21778933Z","__createdBy":"7303b866-4220-4086-a09e-348a76b12c73","__updatedAt":"2024-02-14T11:07:35.603525839Z","__updatedBy":"7303b866-4220-4086-a09e-348a76b12c73","__deletedAt":null}
