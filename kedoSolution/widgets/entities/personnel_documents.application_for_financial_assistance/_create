{"__id":"018fb8c3-3003-72c9-aaa0-f3e86d80b7dd","namespace":"personnel_documents.application_for_financial_assistance","code":"_create","__name":"Форма создания","description":"","extensionZoneCode":"","sort":0,"category":"00000000-0000-0000-0000-000000000000","version":5,"hidden":false,"draft":false,"readonly":false,"descriptor":{"types":["form"],"template":{"id":"04d5053c-ddae-4229-a4b7-f2710c0956ae","descriptor":"item-form-complex-popup","descriptorVersion":2,"values":{"formGroup":{"path":["item"]},"systemFunctions":{}},"content":{"[content]":[{"id":"7d7bd35a-d521-4c08-9d55-d7c3a74932cc","descriptor":"modal-body","content":{"":[{"id":"e2541a82-f7b7-482d-a05b-68e9875f2879","descriptor":"kedo@forget_me_not_widget","descriptorVersion":1,"values":{"element_name":"заявления на метериальную помощь","__relativeURL":"","__isConstValues":[],"__renderContentOnDemand":false,"__outlet":"","__baseURL":""}},{"id":"6bf3faec-24fd-44db-ac0c-6c23ed2889ae","descriptor":"dynamic-form-row","values":{"__readOnly":true,"__relativeURL":"","__renderContentOnDemand":false,"control":{"path":["item","staff"]},"required":false,"__baseURL":"","hideEmpty":true,"bindingMode":false,"showCreateItem":false,"__isConstValues":[],"showDisplayName":true,"tooltip":null,"__outlet":""}},{"id":"008a7a27-1085-4735-84dc-783291bbe79b","descriptor":"kedo.employment_directory@employments_list_widget","descriptorVersion":1,"values":{"__outlet":"","__relativeURL":"","employment_placement":{"path":["item","employment_placement"]},"employment_placement_required":true,"staff":{"path":["item","staff"]},"__styles":"width: 100%","__baseURL":"","__isConstValues":[],"__renderContentOnDemand":false,"employment_placement_name_visible":true}},{"id":"a564bdcb-80a8-493f-978a-de228efc1a78","descriptor":"dynamic-form-row","values":{"__readOnly":null,"bindingMode":false,"showCreateItem":false,"__isConstValues":[],"showDisplayName":true,"control":{"path":["item","type_of_financial_assistance"]},"required":true,"onChangeValue":{"kind":"Function","name":"get_instruction","type":"client"},"tooltip":null,"hideEmpty":false}},{"id":"8f59b1a7-3e15-442e-aab8-2f19c178c343","descriptor":"dynamic-form-row","values":{"bindingMode":false,"__isConstValues":[],"showDisplayName":true,"control":{"path":["item","list_of_required_documents"]},"tooltip":null,"required":false,"hideEmpty":true,"__readOnly":true}},{"id":"d5c1498a-7b3a-4490-ad71-4219828acbcb","descriptor":"dynamic-form-row","values":{"tooltip":null,"required":false,"hideEmpty":false,"__readOnly":null,"bindingMode":false,"__isConstValues":[],"showDisplayName":true,"control":{"path":["item","reason"]}}},{"id":"5ce7c9fb-f292-46c7-aa0d-37dd115329eb","descriptor":"dynamic-form-row","values":{"__readOnly":null,"bindingMode":false,"__isConstValues":[],"showDisplayName":true,"control":{"path":["item","required_files"]},"tooltip":null,"required":false,"hideEmpty":false}}]}}],"[sidebar]":[{"id":"d66aba74-334f-4f04-b5d9-b0dc06e96ac0","descriptor":"sidebar-widget","values":{"title":"Инструкция","__renderContentAsync":false},"content":{"":[{"id":"478c36d7-60fc-44ee-a42c-38df546117ea","descriptor":"html","descriptorVersion":3,"values":{"html":"\u003cp\u003eВнимательно заполните данные для оформления заявки.  \u003c/p\u003e\u003cp\u003eПри помощи данной заявки Вы можете предоставить работодателю данные для предоставления Вам материальной помощи.\u003cbr/\u003e\u003cbr/\u003eПосле создания заявки необходимо будет подписать заявление, затем оно попадет на согласование. При положительном согласовании будет сформирован приказ, который Вам будет необходимо подписать.\u003c/p\u003e"}}]}},{"id":"b8e51b0f-99fa-4c7d-a757-1cccf3b21c88","descriptor":"sidebar-widget","content":{"":[{"id":"1e00d3ec-0b52-4912-98da-3c146f7d0c8f","descriptor":"document-reserve-widget","values":{"application":{"path":["application"]}}}]}}],"[headerControls]":[],"[headerCustomization]":[],"[footer]":[{"id":"9036aa6b-acf8-405e-9f62-4ec058f94248","descriptor":"zone-content","values":{"zoneCode":"[footer]"}}]}},"fields":[{"code":"instruction_text","type":"STRING","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":"Выберите вид материальной помощи.","calcByFormula":false,"formula":"","data":{},"view":{"name":"(не исп) Текст инструкции","data":{"additionalType":"text"}}},{"code":"staff_hide","type":"BOOLEAN","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":true,"calcByFormula":false,"formula":"","data":{},"view":{"name":"(не исп) staff_hide","data":{"additionalType":"radio","noValue":"Нет","yesValue":"Да"}}}],"fieldVisibilityConditions":{"staff_hide":{"enabled":false,"conditions":[]},"instruction_text":{"enabled":false,"conditions":[]}},"scriptOptions":{},"clientScripts":"async function onInit(): Promise\u003cvoid\u003e {\n    const user = await System.users.getCurrentUser();\n\n    Context.data.staff = await Context.fields.staff.app.search()\n        .where((f, g) =\u003e g.and(\n            f.__deletedAt.eq(null),\n            f.ext_user.eq(user)\n        ))\n        .first();\n}\n\nasync function get_instruction(): Promise\u003cvoid\u003e {\n    if (Context.data.type_of_financial_assistance) {\n        const type_of_financial_assistance = await Context.data.type_of_financial_assistance!.fetch();\n        Context.data.list_of_required_documents = type_of_financial_assistance.data.list_of_required_documents;\n    } else {\n        Context.data.list_of_required_documents = '';\n    }\n}\n","clientScriptOptions":{"allowServer":true},"serverScripts":"/* Server scripts module */\n","serverScriptOptions":{},"widgetZones":[{"code":"[footer]"}],"dataFieldCode":"item"},"dataNamespace":"personnel_documents","dataCode":"application_for_financial_assistance","runtime":{"version":1,"clientScripts":"System.register([], function (exports_1, context_1) {\n    \"use strict\";\n    var __moduleName = context_1 \u0026\u0026 context_1.id;\n    function default_1(Context, ViewContext, Server, System) {\n        async function onInit() {\n            const user = await System.users.getCurrentUser();\n            Context.data.staff = await Context.fields.staff.app.search()\n                .where((f, g) =\u003e g.and(f.__deletedAt.eq(null), f.ext_user.eq(user)))\n                .first();\n        }\n        async function get_instruction() {\n            if (Context.data.type_of_financial_assistance) {\n                const type_of_financial_assistance = await Context.data.type_of_financial_assistance.fetch();\n                Context.data.list_of_required_documents = type_of_financial_assistance.data.list_of_required_documents;\n            }\n            else {\n                Context.data.list_of_required_documents = '';\n            }\n        }\n        return {\n            onInit,\n            get_instruction\n        };\n    }\n    exports_1(\"default\", default_1);\n    return {\n        setters: [],\n        execute: function () {\n        }\n    };\n});\n","clientFnDeclarations":[{"name":"onInit","parameters":[],"type":"[object Object]"},{"name":"get_instruction","parameters":[],"type":"[object Object]"}]},"__createdAt":"2024-05-27T06:35:50.658055442Z","__createdBy":"59e0911f-230a-4b6d-becf-6b302a91977a","__updatedAt":"2024-06-05T06:53:47.716923585Z","__updatedBy":"59e0911f-230a-4b6d-becf-6b302a91977a","__deletedAt":null}
