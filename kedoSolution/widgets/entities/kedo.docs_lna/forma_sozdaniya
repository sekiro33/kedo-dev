{"__id":"018c8758-045f-7a9c-8f38-b4b733c138b6","namespace":"kedo.docs_lna","code":"forma_sozdaniya","__name":"Форма создания","description":"","extensionZoneCode":"","sort":0,"category":"00000000-0000-0000-0000-000000000000","version":3,"hidden":false,"draft":false,"readonly":false,"descriptor":{"types":["form"],"template":{"id":"9750f470-3079-4d78-a5ea-bdf4896c6a31","descriptor":"item-form-complex-popup","descriptorVersion":2,"values":{"formGroup":{"path":["item"]}},"content":{"[footer]":[{"id":"25335c7d-6c63-48ae-acd8-b583967b9538","descriptor":"zone-content","values":{"zoneCode":"[footer]"}}],"[content]":[{"id":"7d7bd35a-d521-4c08-9d55-d7c3a74932cc","descriptor":"modal-body","content":{"":[{"id":"24daa0ef-daa5-4f00-b0af-9b61c51c9227","descriptor":"dynamic-form","values":{"fields":{"path":["fields"]},"form":{"path":["item"]}}},{"id":"c413f6fa-2af5-4b8c-8646-c2d5a34a6853","descriptor":"dynamic-form-row","values":{"__isConstValues":[],"showDisplayName":true,"control":{"path":["item","run_process"]},"tooltip":null,"required":true,"hideEmpty":false,"__readOnly":null,"bindingMode":false}},{"id":"22ee12ad-de10-43b6-8a84-082b86df1abe","descriptor":"dynamic-form-row","values":{"required":true,"hideEmpty":false,"__isConstValues":[],"control":{"path":["item","organization"]},"tooltip":null,"showCreateItem":false,"showDisplayName":true,"__readOnly":null,"bindingMode":false}},{"id":"c6fc3467-9ddc-43ed-a18e-de0134e6c651","descriptor":"dynamic-form-row","values":{"__readOnly":null,"bindingMode":false,"__isConstValues":[],"showDisplayName":true,"control":{"path":["item","name"]},"tooltip":null,"required":true,"hideEmpty":false}},{"id":"1b82d21a-93ce-423d-bafb-76078bf7a78f","descriptor":"dynamic-form-row","values":{"control":{"path":["item","file_lna"]},"tooltip":"Файл формата .docx или .xlsx","required":true,"hideEmpty":false,"__readOnly":null,"bindingMode":false,"__isConstValues":[],"showDisplayName":true}},{"id":"92511d23-a19c-4a94-9ef2-6a3c6adabcab","descriptor":"dynamic-form-row","values":{"hideEmpty":false,"bindingMode":false,"showCreateItem":false,"__isConstValues":[],"control":{"path":["item","agreement_position"]},"tooltip":null,"required":{"path":["item","run_process"]},"__readOnly":null,"showDisplayName":true}},{"id":"111aeea3-1a2f-4f06-9e5e-6c55512e32d0","descriptor":"dynamic-form-row","values":{"required":false,"hideEmpty":false,"__readOnly":null,"bindingMode":false,"__isConstValues":[],"showDisplayName":true,"control":{"path":["item","iniciator_comment"]},"tooltip":null}},{"id":"17d99170-b0de-4edf-891e-5cd9c08d2738","descriptor":"dynamic-form-row","values":{"__readOnly":null,"onChangeValue":{"kind":"Function","name":"getPositions","type":"client"},"showDisplayName":true,"required":true,"tooltip":null,"hideEmpty":false,"bindingMode":false,"__isConstValues":[],"control":{"path":["item","wWho_acquainted"]}}},{"id":"6565709f-4c75-4489-8063-cb42d2f8c131","descriptor":"dynamic-form-row","values":{"__readOnly":null,"tooltip":null,"__hidden":{"path":["view_groups"],"modifier":"not"},"required":{"path":["view_groups"]},"showCreateItem":false,"__isConstValues":[],"showDisplayName":true,"control":{"path":["item","groups_lna"]},"hideEmpty":false,"bindingMode":false}}]}}],"[sidebar]":[{"id":"d66aba74-334f-4f04-b5d9-b0dc06e96ac0","descriptor":"sidebar-widget","content":{"":[{"id":"d5e76f29-e820-414a-b254-a7cf0b2d951b","descriptor":"user-guide"}]}},{"id":"b8e51b0f-99fa-4c7d-a757-1cccf3b21c88","descriptor":"sidebar-widget","content":{"":[{"id":"1e00d3ec-0b52-4912-98da-3c146f7d0c8f","descriptor":"document-reserve-widget","values":{"application":{"path":["application"]}}}]}}],"[headerControls]":[],"[headerCustomization]":[]}},"fields":[{"code":"view_groups","type":"BOOLEAN","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":null,"calcByFormula":false,"formula":"","data":{},"view":{"name":"view_groups","data":{"additionalType":"radio","noValue":"Нет","yesValue":"Да"}}}],"fieldVisibilityConditions":{"view_groups":{"enabled":false,"conditions":[]}},"scriptOptions":{},"clientScripts":"/* Client scripts module */\n\nasync function onInit(): Promise\u003cvoid\u003e {\n    let user = await System.users.getCurrentUser();\n    let staff = await Context.fields.staff.app.search()\n        .where((f, g) =\u003e g.and(\n            f.__deletedAt.eq(null),\n            f.ext_user.eq(user)\n        ))\n        .first();\n    if (staff) {\n        Context.data.staff = staff;\n    }\n}\n\nasync function getPositions(): Promise\u003cvoid\u003e {\n    if (Context.data.wWho_acquainted!.code == 'groups') {\n        ViewContext.data.view_groups = true\n    } else {\n        ViewContext.data.view_groups = false\n    }\n}\n","clientScriptOptions":{"allowServer":true},"serverScripts":"/* Server scripts module */\n","serverScriptOptions":{},"widgetZones":[{"code":"[footer]"}],"dataFieldCode":"item"},"dataNamespace":"kedo","dataCode":"docs_lna","runtime":{"version":1,"clientScripts":"System.register([], function (exports_1, context_1) {\n    \"use strict\";\n    var __moduleName = context_1 \u0026\u0026 context_1.id;\n    function default_1(Context, ViewContext, Server) {\n        async function onInit() {\n            let user = await System.users.getCurrentUser();\n            let staff = await Context.fields.staff.app.search()\n                .where((f, g) =\u003e g.and(f.__deletedAt.eq(null), f.ext_user.eq(user)))\n                .first();\n            if (staff) {\n                Context.data.staff = staff;\n            }\n        }\n        async function getPositions() {\n            if (Context.data.wWho_acquainted.code == 'groups') {\n                ViewContext.data.view_groups = true;\n            }\n            else {\n                ViewContext.data.view_groups = false;\n            }\n        }\n        return {\n            onInit,\n            getPositions\n        };\n    }\n    exports_1(\"default\", default_1);\n    return {\n        setters: [],\n        execute: function () {\n        }\n    };\n});\n","clientFnDeclarations":[{"name":"onInit","parameters":[],"type":"[object Object]"},{"name":"getPositions","parameters":[],"type":"[object Object]"}]},"__createdAt":"2023-12-20T13:09:01.662510655Z","__createdBy":"7303b866-4220-4086-a09e-348a76b12c73","__updatedAt":"2024-02-14T11:07:52.09150726Z","__updatedBy":"7303b866-4220-4086-a09e-348a76b12c73","__deletedAt":null}
