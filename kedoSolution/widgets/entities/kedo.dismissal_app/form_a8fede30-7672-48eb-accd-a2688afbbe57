{"__id":"018d3af0-ae19-7927-9ee7-315c1ac5b7e6","namespace":"kedo.dismissal_app","code":"form_a8fede30-7672-48eb-accd-a2688afbbe57","__name":"Форма запуска","description":"","extensionZoneCode":"","sort":0,"category":"00000000-0000-0000-0000-000000000000","version":4,"hidden":true,"draft":false,"readonly":false,"descriptor":{"types":["form"],"template":{"id":"a9845ec9-877f-4167-b0cb-b3f09f546e67","descriptor":"item-form-popover","values":{"formType":"start-process-form","formGroup":{"path":["context"]},"systemFunctions":{"validate":{"kind":"Function","name":"validation","type":"client"}}},"content":{"[footer]":[{"id":"cc734fcd-17d6-4b8c-8529-91a25cc2a94e","descriptor":"buttons-panel","values":{"buttons":{"path":["actionButtons"]}}}],"[content]":[{"id":"c18e9118-cda2-49f4-ae50-5414c9b970b2","descriptor":"modal-body","values":{"shadow":true},"content":{"":[{"id":"b2a865bd-41f4-486f-b016-1f6ae9d18456","descriptor":"dynamic-form-row","values":{"tooltip":null,"hideEmpty":false,"showCreateItem":false,"__isConstValues":[],"showDisplayName":true,"control":{"path":["context","staff"]},"__outlet":"","required":false,"__baseURL":"","__readOnly":true,"bindingMode":false,"__relativeURL":""}},{"id":"ae888507-355c-4a89-9584-2a24daa6b158","descriptor":"ext_7fe3de7d-f459-4f75-940c-271c6e9ea1ed@staff_position_list_widget","descriptorVersion":23,"values":{"__isConstValues":[],"employment_placement":{"path":["context","employment_placement"]},"staff":{"path":["context","staff"]},"__outlet":"","__styles":"width: 100%","__baseURL":"","__relativeURL":""}},{"id":"d322fa5c-e4ec-4223-a33e-8c7575047e6e","descriptor":"dynamic-form-row","values":{"tooltip":null,"hideEmpty":false,"bindingMode":false,"__isConstValues":[],"control":{"path":["context","dismissal_date"]},"__outlet":"","required":true,"__baseURL":"","__readOnly":null,"__relativeURL":"","showDisplayName":true}},{"id":"589e829c-3a7b-4522-a496-af19753e8b8c","descriptor":"dynamic-form-row","values":{"__outlet":"","__baseURL":"","__readOnly":null,"bindingMode":false,"__relativeURL":"","__isConstValues":[],"tooltip":null,"required":true,"hideEmpty":false,"showDisplayName":true,"control":{"path":["context","reason_for_leaving"]}}}]}}],"[sidebar]":[{"id":"0ceaa8ec-5cdc-4385-9a6b-b0ae1e04039b","descriptor":"sidebar-widget","content":{"":[{"id":"2c1bfe32-44b9-46d5-bee7-2ed66205f4d6","descriptor":"user-guide","values":{"userGuide":{"path":["instruction"]}}}]}},{"id":"2112f287-a8ad-433c-862d-f9808c2d4f7b","descriptor":"sidebar-widget","content":{"":[{"id":"8900384e-a047-46b0-8ba7-462c23711e72","descriptor":"target-widget","values":{"context":{"path":["context"]}}}]}}],"[headerControls]":[],"[headerCustomization]":[]}},"fieldVisibilityConditions":{},"scriptOptions":{},"clientScripts":"/* Client scripts module */\n\nasync function validation(): Promise\u003cValidationResult\u003e {\n    const result = new ValidationResult();\n\n    if (new TDate().after(Context.data.dismissal_date!) \u0026\u0026 new TDate().format() !== Context.data.dismissal_date!.format()) {\n        result.addContextError('dismissal_date', \"Дата увольнения не может быть раньше текущей даты\")\n    }\n\n    if (!Context.data.employment_placement) {\n        result.addContextError(\"employment_placement\", \"Укажите место занятости, по которому требуется оформить заявку\");\n    }\n\n    return result;\n}\n","clientScriptOptions":{"allowServer":true},"serverScripts":"/* Server scripts module */\n","serverScriptOptions":{},"dataFieldCode":"context"},"dataNamespace":"kedo.dismissal_app","dataCode":"_process_staff_dismissal_workflow","runtime":{"version":1,"clientScripts":"System.register([], function (exports_1, context_1) {\n    \"use strict\";\n    var __moduleName = context_1 \u0026\u0026 context_1.id;\n    function default_1(Context, ViewContext, Server, System) {\n        async function validation() {\n            const result = new ValidationResult();\n            if (new TDate().after(Context.data.dismissal_date) \u0026\u0026 new TDate().format() !== Context.data.dismissal_date.format()) {\n                result.addContextError('dismissal_date', \"Дата увольнения не может быть раньше текущей даты\");\n            }\n            if (!Context.data.employment_placement) {\n                result.addContextError(\"employment_placement\", \"Укажите место занятости, по которому требуется оформить заявку\");\n            }\n            return result;\n        }\n        return {\n            validation\n        };\n    }\n    exports_1(\"default\", default_1);\n    return {\n        setters: [],\n        execute: function () {\n        }\n    };\n});\n","clientFnDeclarations":[{"name":"validation","parameters":[],"type":"[object Object]"}]},"__createdAt":"2024-01-24T10:07:48.249896096Z","__createdBy":"b9287795-55a7-42be-989a-2677b5bb0a2c","__updatedAt":"2024-02-14T11:08:18.407778678Z","__updatedBy":"7303b866-4220-4086-a09e-348a76b12c73","__deletedAt":null}
