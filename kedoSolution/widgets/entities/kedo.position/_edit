{"__id":"018c8758-310f-7c86-a8f7-be23a56e0702","namespace":"kedo.position","code":"_edit","__name":"Форма редактирования","description":"","extensionZoneCode":"","sort":0,"category":"00000000-0000-0000-0000-000000000000","version":3,"hidden":false,"draft":false,"readonly":false,"descriptor":{"types":["form"],"template":{"id":"5fa8d143-862b-43a7-94ea-4b72e2ed8132","descriptor":"item-form-complex-popup","descriptorVersion":2,"values":{"formGroup":{"path":["item"]}},"content":{"[footer]":[{"id":"d00d51e6-7d56-4622-a53d-57d0dbb37b9f","descriptor":"zone-content","values":{"zoneCode":"[footer]"}}],"[content]":[{"id":"c18e9118-cda2-49f4-ae50-5414c9b970b2","descriptor":"modal-body","values":{"shadow":true},"content":{"":[{"id":"1a2c1476-72a3-4f77-84db-0cbb27d23fc2","descriptor":"tabset","values":{"__isConstValues":[],"__renderContentAsync":false},"content":{"":[{"id":"298ae3f5-f56d-476b-b738-d365fc784b1e","descriptor":"tab","values":{"__renderContentOnDemand":false,"title":"Основная информация","__isConstValues":[],"__renderContentAsync":false},"content":{"":[{"id":"7571f77c-c21f-4dc7-a819-ff949fd721b9","descriptor":"modal-body","content":{"":[{"id":"27294001-e5fb-471a-8079-62d990c921ea","descriptor":"dynamic-form","values":{"form":{"path":["item"]},"fields":{"path":["fields"]},"__isConstValues":[]}},{"id":"598146d7-3ffe-4bd7-9651-3b60c83b6cb7","descriptor":"extended-fields","values":{"__isConstValues":[],"form":{"path":["item"]},"fields":{"path":["fields"]},"__outlet":"","__baseURL":"","__relativeURL":""}}]}}]}},{"id":"da282d0d-7d48-4f05-b8cd-cd20edfe0162","descriptor":"tab","values":{"title":"Инф. из учетной системы","__isConstValues":[],"__renderContentAsync":false,"__renderContentOnDemand":false},"content":{"":[{"id":"41964af2-5eb9-4f6a-9ba3-b08dfed1264d","descriptor":"modal-body","content":{"":[{"id":"1c653389-e805-4f1c-8259-28b5375a3adb","descriptor":"dynamic-form-row","values":{"showDisplayName":true,"control":{"path":["item","org_id"]},"tooltip":null,"required":false,"hideEmpty":false,"__readOnly":null,"bindingMode":false,"__isConstValues":[]}},{"id":"45f3e514-cd36-4446-a433-bc89f219034b","descriptor":"dynamic-form-row","values":{"showDisplayName":true,"control":{"path":["item","ref_key"]},"tooltip":null,"required":false,"hideEmpty":false,"__readOnly":null,"bindingMode":false,"__isConstValues":[]}},{"id":"61d11021-cac9-4651-8932-062d09226098","descriptor":"dynamic-form-row","values":{"__readOnly":null,"bindingMode":false,"__isConstValues":[],"showDisplayName":true,"control":{"path":["item","owner_key"]},"tooltip":null,"required":false,"hideEmpty":false}},{"id":"974939cb-520e-4126-b3c5-1588de984acb","descriptor":"dynamic-form-row","values":{"bindingMode":false,"__isConstValues":[],"showDisplayName":true,"control":{"path":["item","parent_key"]},"tooltip":null,"required":false,"hideEmpty":false,"__readOnly":null}},{"id":"9f0a13b9-b06e-4b62-8906-c8abb62350ce","descriptor":"dynamic-form-row","values":{"showDisplayName":true,"control":{"path":["item","position_key"]},"tooltip":null,"required":false,"hideEmpty":false,"__readOnly":null,"bindingMode":false,"__isConstValues":[]}},{"id":"c41166f3-7a40-4172-a162-a45b229ddd32","descriptor":"dynamic-form-row","values":{"bindingMode":false,"__isConstValues":[],"showDisplayName":true,"control":{"path":["item","base_1c"]},"tooltip":null,"required":false,"hideEmpty":false,"__readOnly":null}}]}}]}}]}}]}}],"[sidebar]":[{"id":"662f08da-59da-4112-9ae1-763785ab8bf2","descriptor":"sidebar-widget","content":{"":[{"id":"1556d7a7-eaa5-41a2-b262-82ec3b86e64d","descriptor":"user-guide"}]}}],"[headerControls]":[],"[headerCustomization]":[]}},"fieldVisibilityConditions":{},"scriptOptions":{},"clientScripts":"/* Client scripts module */\ndeclare const console: any;\n\n\nasync function onSubdivisionChange(): Promise\u003cvoid\u003e {\n    const newSubdivision = await Context.data.subdivision?.fetch();\n    Context.data.organization = newSubdivision?.data.organization;\n\n    const orgApp = await newSubdivision?.data.organization?.fetch();\n    Context.data.owner_key = orgApp?.data.ref_key ?? \"\" \n    Context.data.parent_key = newSubdivision?.data.ref_key ?? \"\"\n}\n","clientScriptOptions":{"allowServer":true},"serverScripts":"/* Server scripts module */\n","serverScriptOptions":{},"widgetZones":[{"code":"[footer]"}],"dataFieldCode":"item"},"dataNamespace":"kedo","dataCode":"position","runtime":{"version":1,"clientScripts":"System.register([], function (exports_1, context_1) {\n    \"use strict\";\n    var __moduleName = context_1 \u0026\u0026 context_1.id;\n    function default_1(Context, ViewContext, Server) {\n        async function onSubdivisionChange() {\n            var _a, _b, _c, _d;\n            const newSubdivision = await ((_a = Context.data.subdivision) === null || _a === void 0 ? void 0 : _a.fetch());\n            Context.data.organization = newSubdivision === null || newSubdivision === void 0 ? void 0 : newSubdivision.data.organization;\n            const orgApp = await ((_b = newSubdivision === null || newSubdivision === void 0 ? void 0 : newSubdivision.data.organization) === null || _b === void 0 ? void 0 : _b.fetch());\n            Context.data.owner_key = (_c = orgApp === null || orgApp === void 0 ? void 0 : orgApp.data.ref_key) !== null \u0026\u0026 _c !== void 0 ? _c : \"\";\n            Context.data.parent_key = (_d = newSubdivision === null || newSubdivision === void 0 ? void 0 : newSubdivision.data.ref_key) !== null \u0026\u0026 _d !== void 0 ? _d : \"\";\n        }\n        return {\n            onSubdivisionChange\n        };\n    }\n    exports_1(\"default\", default_1);\n    return {\n        setters: [],\n        execute: function () {\n        }\n    };\n});\n","clientFnDeclarations":[{"name":"onSubdivisionChange","parameters":[],"type":"[object Object]"}]},"__createdAt":"2023-12-20T13:09:13.102232645Z","__createdBy":"7303b866-4220-4086-a09e-348a76b12c73","__updatedAt":"2024-02-14T11:08:35.511132543Z","__updatedBy":"7303b866-4220-4086-a09e-348a76b12c73","__deletedAt":null}
