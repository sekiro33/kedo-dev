{"__id":"018fb8c3-a065-775f-be88-57050b650194","namespace":"personnel_documents.certificate","code":"forma_prosmotra","__name":"Форма просмотра","description":"","extensionZoneCode":"","sort":0,"category":"00000000-0000-0000-0000-000000000000","version":5,"hidden":false,"draft":false,"readonly":false,"descriptor":{"types":["form"],"template":{"id":"a295bc41-197f-4012-97ff-06c4069f5e9c","descriptor":"item-form-complex-popup","descriptorVersion":2,"values":{"formGroup":{"path":["item"]},"systemFunctions":{}},"content":{"[footer]":[{"id":"aca1bd1e-015a-4903-a395-6dafb316e737","descriptor":"zone-content","values":{"zoneCode":"[footer]"}}],"[content]":[{"id":"25cc10fe-0419-4be1-8bda-266c5657800c","descriptor":"modal-body","content":{"":[{"id":"19dc8357-7f6e-4463-8e18-2a4c86bc2cf8","descriptor":"tabset","values":{"__isConstValues":[],"__renderContentAsync":false},"content":{"":[{"id":"86201390-d350-45e9-b32b-3eda0fb03323","descriptor":"tab","values":{"__renderContentOnDemand":false,"title":"Информация по справке","__isConstValues":[],"__renderContentAsync":false},"content":{"":[{"id":"f1dc56bb-3fc2-4b82-9790-4654b3714751","descriptor":"modal-body","content":{"":[{"id":"eb21a984-5720-404b-ad24-a38830fbed73","descriptor":"dynamic-form","values":{"form":{"path":["item"]},"fields":{"path":["fields"]},"__isConstValues":[]}}]}}]}},{"id":"508e7177-bad6-4024-a873-781a94cd67f1","descriptor":"tab","values":{"__renderContentAsync":false,"__renderContentOnDemand":false,"title":"Файл документа","__hidden":{"path":["tab_visibility"],"modifier":"not"},"__isConstValues":[]},"content":{"":[{"id":"ba3620eb-d4bf-41af-a995-367e26efdb06","descriptor":"modal-body","content":{"":[{"id":"92a21e26-06fe-45af-8a79-4a04568077f1","descriptor":"file-preview-download-panel","values":{"__isConstValues":[],"fieldFormControl":{"path":["item","__file"]}}},{"id":"919720e5-c732-46db-84bb-c693773fbf6d","descriptor":"file-preview","values":{"__isConstValues":[],"fieldFormControl":{"path":["item","__file"]}}}]}}]}}]}}]}}],"[sidebar]":[{"id":"60deda48-6db5-48c8-b813-935ddc7981a0","descriptor":"sidebar-widget","values":{"__isConstValues":[],"__renderContentAsync":false,"__renderContentOnDemand":false,"title":"Статус КЭДО","__outlet":"","__baseURL":"","__relativeURL":""},"content":{"":[{"id":"e835be51-f683-4a7c-aaae-01406c8972f5","descriptor":"kedo.statuses@kedo_status_widget","descriptorVersion":1,"values":{"__isConstValues":[],"__renderContentOnDemand":false,"app":{"path":["__itemRef"]},"__outlet":"","__baseURL":"","kedo_status":{"path":["item","kedo_status"]},"__relativeURL":""}}]}},{"id":"afbda94c-c38b-4c56-a20b-b0efe010e5b3","descriptor":"sidebar-widget","values":{"title":"Статус подписи","__hidden":{"path":["sign_status_visible"],"modifier":"not"},"__isConstValues":[],"__renderContentAsync":false},"content":{"":[{"id":"99cab471-5523-4fc5-8ea8-5d429abdb78c","descriptor":"app-sign-status","values":{"itemModel":{"path":["itemModel"]},"__isConstValues":[]}}]}},{"id":"6241e54f-28d4-42eb-9e4b-783b5c59f007","descriptor":"sidebar-widget","values":{"__hidden":true,"__outlet":"","__baseURL":"","__relativeURL":"","__isConstValues":[],"__renderContentAsync":false,"__renderContentOnDemand":false,"title":"Статус элемента Приложения"},"content":{"":[{"id":"989f2a0d-9b23-435b-8a63-281eac8850c9","descriptor":"item-status","values":{"item":{"path":["itemModel"]},"application":{"path":["application"]},"__isConstValues":[]}}]}},{"id":"50ab42c6-ec6f-455c-bacf-f3cbb021c306","descriptor":"sidebar-widget","values":{"__isConstValues":[],"__renderContentAsync":false,"title":"Информация по документу"},"content":{"":[{"id":"c5deedf1-1d39-4e1e-a82d-78fe4f710dd8","descriptor":"dynamic-form-row","values":{"__outlet":"","required":false,"hideEmpty":false,"__readOnly":true,"__relativeURL":"","__isConstValues":[],"showDisplayName":false,"control":{"path":["item","xml_file"]},"tooltip":null,"__baseURL":"","bindingMode":false}}]}},{"id":"184d2de7-2df8-493f-841a-4e0ddbb8060e","descriptor":"sidebar-widget","content":{"":[{"id":"d23366cd-07b0-4ae4-bb2c-73a203ec7786","descriptor":"item-tasks","descriptorVersion":4,"values":{"formGroup":{"path":["item"]}}}]}},{"id":"7f68300d-5ce0-4eb3-9e75-dea882c541a1","descriptor":"sidebar-widget","content":{"":[{"id":"05c90d54-b3dc-4d28-8b84-f32878377a61","descriptor":"messages-target","values":{"target":{"path":["target"]}}}]}}],"[headerControls]":[{"id":"17a52e8f-7486-4031-bd01-5838fcfc8f70","descriptor":"extension-zone-toolbar-widget","values":{"item":{"path":["__itemRef"]}}}],"[headerUpperTitle]":[{"id":"7fe87b6f-803f-40af-ae04-2c46f1919291","descriptor":"app-navigation-crumbs-tree-widget","values":{"item":{"path":["itemModel"]},"application":{"path":["application"]}}}],"[headerCustomization]":[]}},"fields":[{"code":"tab_visibility","type":"BOOLEAN","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":null,"calcByFormula":false,"formula":"","data":{},"view":{"name":"Видимость вкладки","data":{"additionalType":"radio","noValue":"Нет","yesValue":"Да"}}},{"code":"sign_status_visible","type":"BOOLEAN","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":false,"calcByFormula":false,"formula":"","data":{},"view":{"name":"Видимость подписи","data":{"additionalType":"radio","noValue":"Нет","yesValue":"Да"}}}],"fieldVisibilityConditions":{"tab_visibility":{"enabled":false,"conditions":[]},"sign_status_visible":{"enabled":false,"conditions":[]}},"scriptOptions":{},"clientScripts":"declare const console: any;\n\nasync function onInit(): Promise\u003cvoid\u003e {\n    if (Context.data.__file) {\n        ViewContext.data.tab_visibility = true;\n    } else {\n        ViewContext.data.tab_visibility = false;\n    }\n\n    const doc = await Application.search().where(f =\u003e f.__id.eq(Context.id)).first();\n    \n    if (doc) {\n        const data_signs = await doc.getDataSigns();\n\n        if (data_signs \u0026\u0026 data_signs.length \u003e 0) {\n            ViewContext.data.sign_status_visible = true;\n        }\n    }\n}","clientScriptOptions":{"allowServer":true},"serverScripts":"/* Server scripts module */\n","serverScriptOptions":{},"widgetZones":[{"code":"[footer]"}],"dataFieldCode":"item"},"dataNamespace":"personnel_documents","dataCode":"certificate","runtime":{"version":1,"clientScripts":"System.register([], function (exports_1, context_1) {\n    \"use strict\";\n    var __moduleName = context_1 \u0026\u0026 context_1.id;\n    function default_1(Context, ViewContext, Server, System) {\n        async function onInit() {\n            if (Context.data.__file) {\n                ViewContext.data.tab_visibility = true;\n            }\n            else {\n                ViewContext.data.tab_visibility = false;\n            }\n            const doc = await Application.search().where(f =\u003e f.__id.eq(Context.id)).first();\n            if (doc) {\n                const data_signs = await doc.getDataSigns();\n                if (data_signs \u0026\u0026 data_signs.length \u003e 0) {\n                    ViewContext.data.sign_status_visible = true;\n                }\n            }\n        }\n        return {\n            onInit\n        };\n    }\n    exports_1(\"default\", default_1);\n    return {\n        setters: [],\n        execute: function () {\n        }\n    };\n});\n","clientFnDeclarations":[{"name":"onInit","parameters":[],"type":"[object Object]"}]},"__createdAt":"2024-05-27T06:36:19.428225449Z","__createdBy":"59e0911f-230a-4b6d-becf-6b302a91977a","__updatedAt":"2024-06-05T07:02:49.526791226Z","__updatedBy":"59e0911f-230a-4b6d-becf-6b302a91977a","__deletedAt":null}
