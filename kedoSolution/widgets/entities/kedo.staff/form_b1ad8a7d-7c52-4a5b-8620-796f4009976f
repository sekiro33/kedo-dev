{"__id":"018e1367-b952-7fe0-b446-3c2baad0551f","namespace":"kedo.staff","code":"form_b1ad8a7d-7c52-4a5b-8620-796f4009976f","__name":"form_b1ad8a7d-7c52-4a5b-8620-796f4009976f","description":"","extensionZoneCode":"","sort":0,"category":"00000000-0000-0000-0000-000000000000","version":3,"hidden":true,"draft":false,"readonly":false,"descriptor":{"types":["form"],"template":{"id":"97f7295a-03d1-4093-bfbf-72f1d1ce9615","descriptor":"item-form-complex-popup","descriptorVersion":2,"values":{"formGroup":{"path":["context"]},"systemFunctions":{"onInit":{"kind":"Function","name":"onInit","type":"client"}},"formType":"start-process-form"},"content":{"[content]":[{"id":"c18e9118-cda2-49f4-ae50-5414c9b970b2","descriptor":"modal-body","values":{"shadow":true},"content":{"":[{"id":"11c9f46a-b3c4-4e77-8ee8-dd2b38dd892e","descriptor":"dynamic-form","values":{"form":{"path":["context"]},"fields":{"path":["fields"]}}},{"id":"e9eeb8e3-3369-4024-9b2a-06f88d2751e5","descriptor":"dynamic-form-row","values":{"control":{"path":["context","personal_data_employee"]},"__outlet":"","hideEmpty":false,"bindingMode":false,"onChangeValue":{"kind":"Function","name":"changePersonalData","type":"client"},"showDisplayName":true,"tooltip":null,"required":true,"__baseURL":"","__readOnly":null,"__relativeURL":"","__isConstValues":[],"__renderContentOnDemand":false}},{"id":"02ae47d6-6b69-4704-914d-b6b4d09a7074","descriptor":"dynamic-form-row","values":{"hideEmpty":false,"__isConstValues":[],"showDisplayName":true,"control":{"path":["context","doc_scans_required"]},"tooltip":null,"__outlet":"","required":true,"__baseURL":"","__renderContentOnDemand":false,"__hidden":{"path":["context","personal_data_employee"],"modifier":"not"},"__readOnly":null,"bindingMode":false,"__relativeURL":""}},{"id":"d3657b6a-547a-46c7-be06-75bac8ef1e20","descriptor":"dynamic-form-row","values":{"__renderContentOnDemand":false,"control":{"path":["context","soev_signing_in_office"]},"tooltip":null,"required":true,"hideEmpty":false,"bindingMode":false,"__isConstValues":[],"__outlet":"","__baseURL":"","__readOnly":null,"__relativeURL":"","showDisplayName":true}}]}}],"[sidebar]":[{"id":"0ceaa8ec-5cdc-4385-9a6b-b0ae1e04039b","descriptor":"sidebar-widget","content":{"":[{"id":"2c1bfe32-44b9-46d5-bee7-2ed66205f4d6","descriptor":"user-guide","values":{"userGuide":{"path":["instruction"]}}}]}},{"id":"2112f287-a8ad-433c-862d-f9808c2d4f7b","descriptor":"sidebar-widget","content":{"":[{"id":"8900384e-a047-46b0-8ba7-462c23711e72","descriptor":"target-widget","values":{"context":{"path":["context"]}}}]}}],"[headerControls]":[],"[headerCustomization]":[],"[footer]":[{"id":"cc734fcd-17d6-4b8c-8529-91a25cc2a94e","descriptor":"buttons-panel","values":{"buttons":{"path":["actionButtons"]}}}]}},"fields":[{"code":"kedo_settings","type":"SYS_COLLECTION","searchable":false,"indexed":false,"deleted":false,"array":true,"required":false,"single":true,"defaultValue":null,"calcByFormula":false,"formula":"","data":{"code":"settings","filter":{"value":{"tf":{}},"enabled":false},"bindings":null,"namespace":"kedo","isDependent":false,"linkedFieldCode":""},"view":{"name":"Настройки КЭДО","data":{}}}],"fieldVisibilityConditions":{"kedo_settings":{"enabled":false,"conditions":[]}},"scriptOptions":{},"clientScripts":"/* Client scripts module */\n\nasync function onInit(): Promise\u003cvoid\u003e {\n\n    //Получаем настройки КЭДО\n    const settings = await ViewContext.fields.kedo_settings.app.search()\n        .where((f, g) =\u003e g.and(\n            f.__deletedAt.eq(null)\n        ))\n        .size(10000)\n        .all();\n\n    const employed = settings.find(f =\u003e f.data.code === 'mass_invitation_employed');\n    Context.data.employed = employed ? employed.data.status : true;\n\n    const unep_required = settings.find(f =\u003e f.data.code === 'mass_invitation_need_signature');\n    Context.data.unep_required = unep_required ? unep_required.data.status : true;\n\n    const electronic_agreement_required = settings.find(f =\u003e f.data.code === 'mass_invitation_need_consent_data_processing');\n    Context.data.electronic_agreement_required = electronic_agreement_required ? electronic_agreement_required.data.status : false;\n\n    const personal_data_employee = settings.find(f =\u003e f.data.code === 'mass_invitation_personal_data_entered_employee');\n    Context.data.personal_data_employee = personal_data_employee ? personal_data_employee.data.status : false;\n\n    const mass_invitation_need_attach_scans_documents = settings.find(f =\u003e f.data.code === 'mass_invitation_need_attach_scans_documents');\n    Context.data.doc_scans_required = mass_invitation_need_attach_scans_documents ? mass_invitation_need_attach_scans_documents.data.status : false;\n\n    const soev_signing_in_office = settings.find(f =\u003e f.data.code === 'mass_invitation_agreement_signed_in_office');\n    Context.data.soev_signing_in_office = soev_signing_in_office ? soev_signing_in_office.data.status : true;\n\n    \n}\n\nasync function changePersonalData(): Promise\u003cvoid\u003e {\n    if (Context.data.personal_data_employee == false) {\n        Context.data.doc_scans_required = false\n    }\n}\n","clientScriptOptions":{"allowServer":true},"serverScripts":"/* Server scripts module */\n","serverScriptOptions":{},"dataFieldCode":"context"},"dataNamespace":"kedo.staff","dataCode":"_process_invite_selected_as_external","runtime":{"version":1,"clientScripts":"System.register([], function (exports_1, context_1) {\n    \"use strict\";\n    var __moduleName = context_1 \u0026\u0026 context_1.id;\n    function default_1(Context, ViewContext, Server, System) {\n        async function onInit() {\n            const settings = await ViewContext.fields.kedo_settings.app.search()\n                .where((f, g) =\u003e g.and(f.__deletedAt.eq(null)))\n                .size(10000)\n                .all();\n            const employed = settings.find(f =\u003e f.data.code === 'mass_invitation_employed');\n            Context.data.employed = employed ? employed.data.status : true;\n            const unep_required = settings.find(f =\u003e f.data.code === 'mass_invitation_need_signature');\n            Context.data.unep_required = unep_required ? unep_required.data.status : true;\n            const electronic_agreement_required = settings.find(f =\u003e f.data.code === 'mass_invitation_need_consent_data_processing');\n            Context.data.electronic_agreement_required = electronic_agreement_required ? electronic_agreement_required.data.status : false;\n            const personal_data_employee = settings.find(f =\u003e f.data.code === 'mass_invitation_personal_data_entered_employee');\n            Context.data.personal_data_employee = personal_data_employee ? personal_data_employee.data.status : false;\n            const mass_invitation_need_attach_scans_documents = settings.find(f =\u003e f.data.code === 'mass_invitation_need_attach_scans_documents');\n            Context.data.doc_scans_required = mass_invitation_need_attach_scans_documents ? mass_invitation_need_attach_scans_documents.data.status : false;\n            const soev_signing_in_office = settings.find(f =\u003e f.data.code === 'mass_invitation_agreement_signed_in_office');\n            Context.data.soev_signing_in_office = soev_signing_in_office ? soev_signing_in_office.data.status : true;\n        }\n        async function changePersonalData() {\n            if (Context.data.personal_data_employee == false) {\n                Context.data.doc_scans_required = false;\n            }\n        }\n        return {\n            onInit,\n            changePersonalData\n        };\n    }\n    exports_1(\"default\", default_1);\n    return {\n        setters: [],\n        execute: function () {\n        }\n    };\n});\n","clientFnDeclarations":[{"name":"onInit","parameters":[],"type":"[object Object]"},{"name":"changePersonalData","parameters":[],"type":"[object Object]"}]},"__createdAt":"2024-03-06T10:55:48.562712474Z","__createdBy":"d4c0aacb-19ed-44fa-b229-5f7ed736889c","__updatedAt":"2024-03-11T06:10:45.737805408Z","__updatedBy":"d4c0aacb-19ed-44fa-b229-5f7ed736889c","__deletedAt":null}
