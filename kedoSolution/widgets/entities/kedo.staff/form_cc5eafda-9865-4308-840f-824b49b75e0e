{"__id":"018c8757-fa29-7a2c-a589-f164e271758d","namespace":"kedo.staff","code":"form_cc5eafda-9865-4308-840f-824b49b75e0e","__name":"Сформировать данные по сотруднику в учётной системе","description":"","extensionZoneCode":"","sort":0,"category":"00000000-0000-0000-0000-000000000000","version":3,"hidden":true,"draft":false,"readonly":false,"descriptor":{"types":["form"],"template":{"id":"ec911c74-9890-4599-9f01-a5bc87f05695","descriptor":"item-form-complex-popup","descriptorVersion":2,"values":{"formGroup":{"path":["context"]},"formType":"task-form"},"content":{"[headerControls]":[{"id":"475aa008-aaff-402f-8de2-408bae1f1928","descriptor":"task-percent-widget","values":{"task":{"path":["task"]}}},{"id":"702d9c59-77ae-4dd5-b71a-a5fe7b58858f","descriptor":"extension-zone-toolbar-widget","values":{"item":{"path":["__itemRef"]}}},{"id":"f7b11c79-4267-4f5b-a002-dd629d549682","descriptor":"process-item-map","values":{"task":{"path":["task"]},"skipRulesCheck":true}},{"id":"ff2500ee-6573-49cd-a9e8-2d5c93350f26","descriptor":"button","values":{"label":"bpm.tasks.item@menu","action":{"path":["menuAction"]},"runProcessSettings":{"kind":"","settings":{"code":"","field":"","binding":null,"namespace":""}},"createAppItemSettings":{"kind":"","settings":{"code":"","field":"","binding":null,"namespace":""}},"icon":"menu_vertical","view":"icon"}}],"[headerCustomization]":[],"[footer]":[{"id":"31979bac-00bd-4123-a901-9d14190c8dde","descriptor":"buttons-panel","values":{"buttons":{"path":["actionButtons"]}}}],"[content]":[{"id":"c18e9118-cda2-49f4-ae50-5414c9b970b2","descriptor":"modal-body","values":{"shadow":true},"content":{"":[{"id":"f0cd86a8-b7cc-47e6-8f12-19baa62409e0","descriptor":"kedo@custom_info","descriptorVersion":13,"values":{"__hidden":{"path":["show_error"],"modifier":"not"},"__styles":"width: 100%","info_type":[{"code":"danger","name":"Ошибка"}],"info_string":{"path":["context","error"]},"__isConstValues":[]}},{"id":"a4914ec2-b1d0-4e1f-871a-395c75211793","descriptor":"kedo@custom_info","descriptorVersion":13,"values":{"info_type":[{"code":"warning","name":"Предупреждение"}],"info_string":"\u003cdiv style=\"display: flex; flex-direction: column; padding: 10px\"\u003e\n\u003cp style=\"color:red\"\u003e\u003cb\u003eВнимание!\u003c/b\u003e\u003c/p\u003e\n\u003cp\u003eНеобходимо дозаполнить документ в учетной системе, провести и отправить печатные формы в ELMA. После этого выполнить операцию \u003cb\u003eЗагрузить из учетной системы\u003c/b\u003e.\u003c/p\u003e\n\u003cp\u003eПосле закрытия данной задачи, вам придёт задача на \u003cb\u003eпроверку полученных документов\u003c/b\u003e.\u003c/p\u003e\n\u003cdiv style=\"border-top: 1px solid black; margin-bottom: 10px\"\u003e\u003c/div\u003e\n\u003cp\u003eВ случае, если не удаётся отправить печатные формы в ELMA, выполните операцию \u003cb\u003eПриложить файлы вручную\u003c/b\u003e и приложите нужные файлы.\u003c/p\u003e\n\u003c/div\u003e","__relativeURL":"","__isConstValues":[],"__outlet":"","__baseURL":""}},{"id":"680d0b77-c736-4d74-927e-d1ae377a42a2","descriptor":"row-layout","values":{"__isConstValues":[],"elementsAlignEnum":[{"code":"left","name":"shared.common.row-layout@widget-elements-align-left"}],"__renderContentAsync":false,"__styles":"margin-bottom: 10px"},"content":{"":[{"id":"350ef798-3643-419d-a437-98766777d5ec","descriptor":"row","values":{"__isConstValues":[],"__renderContentAsync":false},"content":{"":[{"id":"dabe20b7-50ba-450c-a651-7af712cffc66","descriptor":"column","content":{"":[{"id":"e4b6eac7-a221-4d1b-8a59-2bb32edc64ec","descriptor":"groupbox","values":{"collapsible":false,"__isConstValues":[],"__renderContentAsync":false,"title":"Основная информация","expanded":true,"styleEnum":[{"code":"default","name":"Default"}]},"content":{"":[{"id":"4e67011a-d312-4917-ada1-b1dc788759b5","descriptor":"dynamic-form-row","values":{"hideEmpty":false,"__readOnly":true,"bindingMode":false,"__isConstValues":[],"showDisplayName":true,"control":{"path":["fio"]},"tooltip":null,"required":false}},{"id":"740167f0-1336-4617-a01d-e60e9abaf9bb","descriptor":"dynamic-form-row","values":{"required":false,"hideEmpty":false,"__readOnly":true,"bindingMode":false,"__isConstValues":[],"showDisplayName":true,"control":{"path":["phone"]},"tooltip":null}},{"id":"8a6b434a-6605-4eb0-95ae-5fd98bf2777a","descriptor":"dynamic-form-row","values":{"__readOnly":true,"bindingMode":false,"__isConstValues":[],"showDisplayName":true,"control":{"path":["email"]},"tooltip":null,"required":false,"hideEmpty":false}},{"id":"a9b53cde-2c9d-4369-a7ee-e1aba9cd7da8","descriptor":"dynamic-form-row","values":{"tooltip":null,"showDisplayName":true,"control":{"path":["position"]},"required":false,"hideEmpty":false,"__readOnly":true,"bindingMode":false,"showCreateItem":false,"__isConstValues":[]}},{"id":"e866455f-25dd-4c70-9ab1-abb2e288ff24","descriptor":"dynamic-form-row","values":{"control":{"path":["subdivision"]},"required":false,"showDisplayName":true,"tooltip":null,"hideEmpty":false,"__readOnly":true,"bindingMode":false,"showCreateItem":false,"__isConstValues":[]}},{"id":"e4258c7f-e875-48be-994c-8bde23bfc4a6","descriptor":"dynamic-form-row","values":{"required":false,"showCreateItem":false,"showDisplayName":true,"__readOnly":true,"bindingMode":false,"__isConstValues":[],"control":{"path":["organization"]},"tooltip":null,"hideEmpty":false}}]}}]}}]}}]}},{"id":"664cce6b-a7c5-4f40-9e94-32b81ca5f842","descriptor":"row-layout","values":{"elementsAlignEnum":[{"code":"left","name":"shared.common.row-layout@widget-elements-align-left"}],"__renderContentAsync":false,"__isConstValues":[]},"content":{"":[{"id":"30ceca2c-b545-463d-89ef-31b5d60ab105","descriptor":"row","values":{"__isConstValues":[],"__renderContentAsync":false},"content":{"":[{"id":"dabe20b7-50ba-450c-a651-7af712cffc66","descriptor":"column","content":{"":[{"id":"2493ad12-00cc-4f2b-96fd-6c6cd2e7b71e","descriptor":"groupbox","values":{"expanded":true,"styleEnum":[{"code":"default","name":"Default"}],"collapsible":false,"__isConstValues":[],"__renderContentAsync":false,"title":"Адрес","__styles":"height: 100%"},"content":{"":[{"id":"8bd9163b-0261-4b21-aac3-c14d39b63964","descriptor":"dynamic-form-row","values":{"__isConstValues":[],"showDisplayName":true,"control":{"path":["region"]},"tooltip":null,"required":false,"hideEmpty":false,"__readOnly":true,"bindingMode":false}},{"id":"d99a3df6-748c-4ab8-8575-6f5a4a6c1919","descriptor":"dynamic-form-row","values":{"__readOnly":true,"bindingMode":false,"__isConstValues":[],"showDisplayName":true,"control":{"path":["city"]},"tooltip":null,"required":false,"hideEmpty":false}},{"id":"0ab9f833-81eb-4542-836f-460a9e9e19b1","descriptor":"dynamic-form-row","values":{"__readOnly":true,"bindingMode":false,"__isConstValues":[],"showDisplayName":true,"control":{"path":["street"]},"tooltip":null,"required":false,"hideEmpty":false}},{"id":"09298040-1edf-43b3-a230-9751a41f908d","descriptor":"dynamic-form-row","values":{"showDisplayName":true,"control":{"path":["home_number"]},"tooltip":null,"required":false,"hideEmpty":false,"__readOnly":true,"bindingMode":false,"__isConstValues":[]}},{"id":"7c7e7882-6c8d-4bc9-8c59-7362debe7414","descriptor":"dynamic-form-row","values":{"bindingMode":false,"__isConstValues":[],"showDisplayName":true,"control":{"path":["apartment"]},"tooltip":null,"required":false,"hideEmpty":true,"__readOnly":true}}]}}]}},{"id":"6805d0ce-dc80-479f-be00-03001f3d20bb","descriptor":"column","content":{"":[{"id":"ec316380-1d11-4f6f-8b4b-323f5d68b559","descriptor":"groupbox","values":{"styleEnum":[{"code":"default","name":"Default"}],"collapsible":false,"__isConstValues":[],"__renderContentAsync":false,"title":"Паспортные данные","expanded":true},"content":{"":[{"id":"b2d7a971-a92f-4c1f-b9e7-7b3282574c14","descriptor":"dynamic-form-row","values":{"tooltip":null,"required":false,"hideEmpty":false,"__readOnly":true,"bindingMode":false,"__isConstValues":[],"showDisplayName":true,"control":{"path":["passport_code"]}}},{"id":"0a626fdd-0377-4c76-ace6-f432d1af1704","descriptor":"dynamic-form-row","values":{"required":false,"hideEmpty":false,"__readOnly":true,"bindingMode":false,"__isConstValues":[],"showDisplayName":true,"control":{"path":["passport_series"]},"tooltip":null}},{"id":"5414e933-fb8a-4fec-9f83-5446915f7dd5","descriptor":"dynamic-form-row","values":{"showDisplayName":true,"control":{"path":["passport_number"]},"tooltip":null,"required":false,"hideEmpty":false,"__readOnly":true,"bindingMode":false,"__isConstValues":[]}},{"id":"f5a902d2-2f88-40af-9ed6-503f70ca77d8","descriptor":"dynamic-form-row","values":{"__readOnly":true,"bindingMode":false,"__isConstValues":[],"showDisplayName":true,"control":{"path":["issued_at"]},"tooltip":null,"required":false,"hideEmpty":false}},{"id":"3342da01-696f-48f9-aff1-da00cc7aef02","descriptor":"dynamic-form-row","values":{"tooltip":null,"required":false,"hideEmpty":false,"__readOnly":true,"bindingMode":false,"__isConstValues":[],"showDisplayName":true,"control":{"path":["issued_by"]}}}]}}]}},{"id":"ae263379-d2f8-4ed1-aed0-a4207796e63d","descriptor":"column","values":{"__isConstValues":[],"__renderContentAsync":false},"content":{"":[{"id":"f60678f0-24c9-40cb-b6f8-4672809bba98","descriptor":"groupbox","values":{"__isConstValues":[],"__renderContentAsync":false,"title":"ИНН, СНИЛС","__styles":"height: 100%","expanded":true,"styleEnum":[{"code":"default","name":"Default"}],"collapsible":false},"content":{"":[{"id":"7d1e215c-e20a-4822-8813-af4453a33cf4","descriptor":"dynamic-form-row","values":{"hideEmpty":false,"__readOnly":true,"bindingMode":false,"__isConstValues":[],"showDisplayName":true,"control":{"path":["inn"]},"tooltip":null,"required":false}},{"id":"0c0237b7-d163-4524-a716-bb38ad22c9f8","descriptor":"dynamic-form-row","values":{"__isConstValues":[],"showDisplayName":true,"control":{"path":["snils"]},"tooltip":null,"required":false,"hideEmpty":false,"__readOnly":true,"bindingMode":false}}]}}]}}]}}]}}]}}],"[sidebar]":[{"id":"39d7757a-529f-4526-98f3-fddc66becf85","descriptor":"sidebar-widget","content":{"":[{"id":"abe4b782-6e2d-49cc-a57e-81b636422ee5","descriptor":"target-widget","values":{"context":{"path":["context"]}}}]}},{"id":"231b371a-64ae-4b61-8014-cba6da318ac9","descriptor":"sidebar-widget","content":{"":[{"id":"5e39b91d-aea4-467e-862f-0f8766eb44df","descriptor":"linked-item","values":{"context":{"path":["context"]}}}]}},{"id":"a4469de0-d7f3-11ec-9d64-0242ac120002","descriptor":"sidebar-widget","content":{"":[{"id":"3ead7c41-6dfa-4144-80da-2bfb5f0ccf59","descriptor":"item-reminder","values":{"formGroup":{"path":["context"]}}}]}},{"id":"56d1d0e8-aa83-4cdd-ae43-294b26ad4d04","descriptor":"sidebar-widget","content":{"":[{"id":"e1525e34-14ba-456b-b703-f407945c01e0","descriptor":"item-tasks","descriptorVersion":4,"values":{"formGroup":{"path":["context"]},"itemModel":{"path":["itemModel"]}}}]}},{"id":"eef018f2-1d3a-4600-a19d-791733b28b5e","descriptor":"sidebar-widget","content":{"":[{"id":"e0a17dec-603a-461a-becf-861637630584","descriptor":"messages-target","values":{"target":{"path":["target"]}}}]}}],"[formInfoPanel]":[{"id":"960fa4a6-3bf5-4789-a3ef-d780a97ac57e","descriptor":"validation-info-block","values":{"__validateResult":{"path":["context","__validateResult"]}}}]}},"fields":[{"code":"fio","type":"STRING","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":null,"calcByFormula":false,"formula":"","data":{},"view":{"name":"ФИО","data":{"additionalType":"string"}}},{"code":"phone","type":"PHONE","searchable":false,"indexed":false,"deleted":false,"array":true,"required":false,"single":false,"defaultValue":null,"calcByFormula":false,"formula":"","data":{},"view":{"name":"Телефон","data":{"type":""}}},{"code":"email","type":"EMAIL","searchable":false,"indexed":false,"deleted":false,"array":true,"required":false,"single":false,"defaultValue":null,"calcByFormula":false,"formula":"","data":{},"view":{"name":"Электронная почта","data":{}}},{"code":"sex","type":"STRING","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":null,"calcByFormula":false,"formula":"","data":{},"view":{"name":"Пол","data":{"additionalType":"string"}}},{"code":"city","type":"STRING","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":null,"calcByFormula":false,"formula":"","data":{},"view":{"name":"Город","data":{"additionalType":"string"}}},{"code":"street","type":"STRING","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":null,"calcByFormula":false,"formula":"","data":{},"view":{"name":"Улица","data":{"additionalType":"string"}}},{"code":"home_number","type":"STRING","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":null,"calcByFormula":false,"formula":"","data":{},"view":{"name":"Дом","data":{"additionalType":"string"}}},{"code":"passport_series","type":"STRING","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":null,"calcByFormula":false,"formula":"","data":{},"view":{"name":"Серия","data":{"additionalType":"string"}}},{"code":"passport_number","type":"STRING","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":null,"calcByFormula":false,"formula":"","data":{},"view":{"name":"Номер паспорта","data":{"additionalType":"string"}}},{"code":"issued_by","type":"STRING","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":null,"calcByFormula":false,"formula":"","data":{},"view":{"name":"Выдан кем","data":{"additionalType":"string"}}},{"code":"issued_at","type":"DATETIME","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":null,"calcByFormula":false,"formula":"","data":{},"view":{"name":"Дата выдачи","data":{"additionalType":"date","defaultTimeType":"startOfDay","timeOptional":false}}},{"code":"inn","type":"STRING","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":null,"calcByFormula":false,"formula":"","data":{},"view":{"name":"ИНН","data":{"additionalType":"string"}}},{"code":"snils","type":"STRING","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":null,"calcByFormula":false,"formula":"","data":{},"view":{"name":"СНИЛС","data":{"additionalType":"string"}}},{"code":"position","type":"SYS_COLLECTION","searchable":false,"indexed":false,"deleted":false,"array":true,"required":false,"single":true,"defaultValue":null,"calcByFormula":false,"formula":"","data":{"code":"position","filter":{"value":{"tf":{}},"enabled":false},"bindings":null,"namespace":"kedo","isDependent":false,"linkedFieldCode":""},"view":{"name":"Позиция ШР","data":{}}},{"code":"subdivision","type":"SYS_COLLECTION","searchable":false,"indexed":false,"deleted":false,"array":true,"required":false,"single":true,"defaultValue":null,"calcByFormula":false,"formula":"","data":{"code":"structural_subdivision","filter":{"value":{"tf":{}},"enabled":false},"bindings":null,"namespace":"kedo","isDependent":false,"linkedFieldCode":""},"view":{"name":"Отдел","data":{}}},{"code":"organization","type":"SYS_COLLECTION","searchable":false,"indexed":false,"deleted":false,"array":true,"required":false,"single":true,"defaultValue":null,"calcByFormula":false,"formula":"","data":{"code":"organization","filter":{"value":{"tf":{}},"enabled":false},"bindings":null,"namespace":"kedo","isDependent":false,"linkedFieldCode":""},"view":{"name":"Организация","data":{}}},{"code":"passport_code","type":"STRING","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":null,"calcByFormula":false,"formula":"","data":{},"view":{"name":"Код подразделения","data":{"additionalType":"string"}}},{"code":"region","type":"STRING","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":null,"calcByFormula":false,"formula":"","data":{},"view":{"name":"Регион","data":{"additionalType":"string"}}},{"code":"apartment","type":"STRING","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":null,"calcByFormula":false,"formula":"","data":{},"view":{"name":"Квартира","data":{"additionalType":"string"}}},{"code":"show_error","type":"BOOLEAN","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":false,"calcByFormula":false,"formula":"","data":{},"view":{"name":"Показать ошибку","data":{"additionalType":"radio","noValue":"Нет","yesValue":"Да"}}}],"fieldVisibilityConditions":{"fio":{"enabled":false,"conditions":[]},"inn":{"enabled":false,"conditions":[]},"sex":{"enabled":false,"conditions":[]},"city":{"enabled":false,"conditions":[]},"email":{"enabled":false,"conditions":[]},"phone":{"enabled":false,"conditions":[]},"snils":{"enabled":false,"conditions":[]},"region":{"enabled":false,"conditions":[]},"street":{"enabled":false,"conditions":[]},"position":{"enabled":false,"conditions":[]},"apartment":{"enabled":false,"conditions":[]},"issued_at":{"enabled":false,"conditions":[]},"issued_by":{"enabled":false,"conditions":[]},"show_error":{"enabled":false,"conditions":[]},"home_number":{"enabled":false,"conditions":[]},"subdivision":{"enabled":false,"conditions":[]},"organization":{"enabled":false,"conditions":[]},"passport_code":{"enabled":false,"conditions":[]},"passport_number":{"enabled":false,"conditions":[]},"passport_series":{"enabled":false,"conditions":[]}},"scriptOptions":{},"clientScripts":"/* Client scripts module */\n\nasync function onInit(): Promise\u003cvoid\u003e {\n    await set_fields();\n\n    if (Context.data.error) {\n        ViewContext.data.show_error = true;\n    }\n}\n\nasync function set_fields(): Promise\u003cvoid\u003e {\n    if (Context.data.staff) {\n        const staff = await Context.data.staff.fetch();\n\n        ViewContext.data.phone = [];\n        ViewContext.data.email = [];\n\n        ViewContext.data.fio = staff.data.__name;\n        ViewContext.data.phone = ViewContext.data.phone.concat(staff.data.phone!)\n        ViewContext.data.email = ViewContext.data.email.concat(staff.data.email!);\n\n        ViewContext.data.passport_number = staff.data.passport_number;\n        ViewContext.data.passport_series = staff.data.passport_series;\n        ViewContext.data.passport_code = staff.data.passport_department_code;\n        ViewContext.data.issued_at = staff.data.date_of_issue;\n        ViewContext.data.issued_by = staff.data.issued_by;\n\n        ViewContext.data.inn = staff.data.inn;\n        ViewContext.data.snils = staff.data.snils;\n\n        ViewContext.data.home_number = staff.data.home;\n        ViewContext.data.street = staff.data.street;\n        ViewContext.data.city = staff.data.city;\n        ViewContext.data.region = staff.data.region;\n        ViewContext.data.apartment = staff.data.apartment;\n\n        ViewContext.data.position = staff.data.position;\n        ViewContext.data.subdivision = staff.data.structural_subdivision;\n        ViewContext.data.organization = staff.data.organization;\n    }\n}","clientScriptOptions":{"allowServer":true},"serverScripts":"/* Server scripts module */\n","serverScriptOptions":{},"dataFieldCode":"context"},"dataNamespace":"kedo.staff","dataCode":"_process_get_print_form_from_1c","runtime":{"version":1,"clientScripts":"System.register([], function (exports_1, context_1) {\n    \"use strict\";\n    var __moduleName = context_1 \u0026\u0026 context_1.id;\n    function default_1(Context, ViewContext, Server) {\n        async function onInit() {\n            await set_fields();\n            if (Context.data.error) {\n                ViewContext.data.show_error = true;\n            }\n        }\n        async function set_fields() {\n            if (Context.data.staff) {\n                const staff = await Context.data.staff.fetch();\n                ViewContext.data.phone = [];\n                ViewContext.data.email = [];\n                ViewContext.data.fio = staff.data.__name;\n                ViewContext.data.phone = ViewContext.data.phone.concat(staff.data.phone);\n                ViewContext.data.email = ViewContext.data.email.concat(staff.data.email);\n                ViewContext.data.passport_number = staff.data.passport_number;\n                ViewContext.data.passport_series = staff.data.passport_series;\n                ViewContext.data.passport_code = staff.data.passport_department_code;\n                ViewContext.data.issued_at = staff.data.date_of_issue;\n                ViewContext.data.issued_by = staff.data.issued_by;\n                ViewContext.data.inn = staff.data.inn;\n                ViewContext.data.snils = staff.data.snils;\n                ViewContext.data.home_number = staff.data.home;\n                ViewContext.data.street = staff.data.street;\n                ViewContext.data.city = staff.data.city;\n                ViewContext.data.region = staff.data.region;\n                ViewContext.data.apartment = staff.data.apartment;\n                ViewContext.data.position = staff.data.position;\n                ViewContext.data.subdivision = staff.data.structural_subdivision;\n                ViewContext.data.organization = staff.data.organization;\n            }\n        }\n        return {\n            onInit,\n            set_fields\n        };\n    }\n    exports_1(\"default\", default_1);\n    return {\n        setters: [],\n        execute: function () {\n        }\n    };\n});\n","clientFnDeclarations":[{"name":"onInit","parameters":[],"type":"[object Object]"},{"name":"set_fields","parameters":[],"type":"[object Object]"}]},"__createdAt":"2023-12-20T13:08:59.044114534Z","__createdBy":"7303b866-4220-4086-a09e-348a76b12c73","__updatedAt":"2024-02-14T11:07:41.840408534Z","__updatedBy":"7303b866-4220-4086-a09e-348a76b12c73","__deletedAt":null}
