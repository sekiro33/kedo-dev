{
  "__id": "018f0a75-2424-775f-8e02-439b094d6100",
  "namespace": "kedo",
  "code": "form_dde2d3d5-2c83-4908-9b98-a4d93a6fde06",
  "__name": "Выбрать способ подписи",
  "description": "",
  "extensionZoneCode": "",
  "sort": 0,
  "category": "00000000-0000-0000-0000-000000000000",
  "version": 1,
  "hidden": true,
  "draft": false,
  "readonly": false,
  "descriptor": {
    "types": ["form"],
    "template": {
      "id": "6f6773d7-fcac-4420-a387-8fb6977c36c5",
      "descriptor": "item-form-complex-popup",
      "descriptorVersion": 2,
      "values": {
        "formType": "task-form",
        "formGroup": {
          "path": ["context"]
        },
        "systemFunctions": {}
      },
      "content": {
        "[headerCustomization]": [],
        "[footer]": [
          {
            "id": "31979bac-00bd-4123-a901-9d14190c8dde",
            "descriptor": "buttons-panel",
            "values": {
              "buttons": {
                "path": ["actionButtons"]
              }
            }
          }
        ],
        "[content]": [
          {
            "id": "3eec0fa8-f4cc-46a8-b709-bc42c712d38a",
            "descriptor": "code",
            "values": {
              "html": "\u003cstyle\u003e\n    .modal-body {\n        padding: 0 28px;\n    }\n\n    .maintitle {\n        font-size: 18px;\n    }\n\u003c/style\u003e",
              "hideContent": false,
              "contentPlaceholder": ""
            }
          },
          {
            "id": "c18e9118-cda2-49f4-ae50-5414c9b970b2",
            "descriptor": "modal-body",
            "values": {
              "shadow": true
            },
            "content": {
              "": [
                {
                  "id": "508f896d-426d-4dc6-8c8e-7472bba17ca8",
                  "descriptor": "tabset",
                  "values": {
                    "__renderContentOnDemand": false,
                    "__outlet": "",
                    "__baseURL": "",
                    "horizontal": false,
                    "__relativeURL": "",
                    "__isConstValues": [],
                    "__renderContentAsync": false
                  },
                  "content": {
                    "": [
                      {
                        "id": "6e84aec4-d9a1-4f81-b4b8-f38ad2aaf195",
                        "descriptor": "tab",
                        "values": {
                          "__relativeURL": "",
                          "__isConstValues": [],
                          "__renderContentAsync": false,
                          "__renderContentOnDemand": false,
                          "title": "Госключ",
                          "__outlet": "",
                          "__baseURL": ""
                        },
                        "content": {
                          "": [
                            {
                              "id": "b978faa1-e7f9-40e5-b2aa-36bb07401cc6",
                              "descriptor": "modal-body",
                              "content": {
                                "": [
                                  {
                                    "id": "c7471f62-3cea-4ff4-963d-5dd325757bd0",
                                    "descriptor": "code",
                                    "values": {
                                      "html": "\u003cdiv style=\"margin-bottom: 32px;\"\u003e\n\u003cp class=\"goskey-text\"\u003e\u003cspan style=\"font-size: 13pt;\"\u003e\u003cb\u003e\u0026laquo;Отправить в Госключ\u0026raquo; \u003c/b\u003e\u0026mdash; документ поступит вам на подписание в мобильное приложение «Госключ», где вы сможете выпустить бесплатный сертификат УНЭП и подписать документы с мобильного устройства.\u003c/span\u003e\u003c/p\u003e\n\u003cbr\u003e\n\u003c% if (Context.data.leave_choice_to_staff) { %\u003e\n    \u003cp class=\"goskey-text\"\u003e\u003cspan style=\"font-size: 13pt;\"\u003e\u003cb\u003e\u0026laquo;Подписать в ELMA\u0026raquo;\u003c/b\u003e \u0026mdash; документ будет подписан в ELMA365 КЭДО с помощью одного из доступных сертификатов электронной подписи.\u003c/span\u003e\u003c/p\u003e\n    \u003cbr\u003e\n\u003c% } %\u003e\n\u003cp class=\"goskey-text\"\u003e\u003cspan style=\"font-size: 13pt;\"\u003e\u003cb\u003e\u0026laquo;Отказаться от подписания\u0026raquo;\u003c/b\u003e \u0026mdash; процесс подписания документов будет прерван.\u003c/span\u003e\u003c/p\u003e\n\u003c/div\u003e",
                                      "hideContent": false,
                                      "contentPlaceholder": ""
                                    }
                                  },
                                  {
                                    "id": "30ff4580-f489-4756-b627-248102758c5b",
                                    "descriptor": "html",
                                    "descriptorVersion": 3,
                                    "values": {
                                      "html": "\u003cdiv class=\"goskey-disclaimer\"\u003e\n\u003ch3 class=\"goskey-text\"\u003e\u003cb\u003eВажно!\u003c/b\u003e\u003c/h3\u003e\n\u003cp class=\"goskey-text\"\u003eМаксимальный срок для подписи документов в приложении Госключ \u003cspan\u003e— \u003c/span\u003e\u003cstrong\u003e\u003cspan style=\"color: rgb(0, 0, 0);\"\u003e24 часа\u003c/span\u003e\u003c/strong\u003e, после чего подписание в Госключе будет недоступно.\u003c/p\u003e\n\u003c/div\u003e"
                                    }
                                  },
                                  {
                                    "id": "5fd06366-bb86-43cc-8e43-a7ea6f3a1f98",
                                    "descriptor": "groupbox",
                                    "values": {
                                      "title": "Документы на подпись",
                                      "expanded": false,
                                      "styleEnum": [
                                        {
                                          "code": "default",
                                          "name": "Default"
                                        }
                                      ],
                                      "__renderContentAsync": false,
                                      "__outlet": "",
                                      "__styles": "margin-top: 2rem;",
                                      "__baseURL": "",
                                      "collapsible": true,
                                      "__relativeURL": "",
                                      "__isConstValues": [],
                                      "__renderContentOnDemand": false
                                    },
                                    "content": {
                                      "": [
                                        {
                                          "id": "d320aea5-e461-4ed5-a6f7-89e7e2058479",
                                          "descriptor": "dynamic-form-row",
                                          "values": {
                                            "__readOnly": true,
                                            "__relativeURL": "",
                                            "__isConstValues": [],
                                            "showDisplayName": true,
                                            "control": {
                                              "path": [
                                                "context",
                                                "goskey_docs"
                                              ]
                                            },
                                            "required": false,
                                            "hideEmpty": false,
                                            "bindingMode": false,
                                            "__renderContentOnDemand": false,
                                            "tooltip": null,
                                            "__outlet": "",
                                            "__baseURL": ""
                                          }
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "id": "aec40884-f3b7-4152-b230-182b99739f0d",
                                    "descriptor": "code",
                                    "values": {
                                      "html": "\u003c% if (ViewContext.data.first_goskey_sign) { %\u003e\r\n    \u003cdiv style=\"width: 100%; padding: 2rem 0;\"\u003e\r\n        \u003c%= UI.widget.groupbox({title: \"Что такое приложение Госключ?\", styleEnum: [{\"code\":\"default\",\"name\":\"Default\"}], collapsible: true, expanded: false}, goskeyTemplate) %\u003e\r\n        \u003c% $template goskeyTemplate %\u003e\r\n            \u003cdiv class=\"goskey-info-container\"\u003e\r\n            \u003cdiv\u003e\u003ca href=\"https://goskey.ru/\"\u003eГосключ\u003c/a\u003e — приложение позволяет бесплатно получить сертификат электронной подписи и подписывать документы. Ключ электронной подписи создаётся, хранится и применяется в самом приложении. Все функции приложения доступны дистанционно и в электронном формате — без бумаги.\u003c/div\u003e\r\n        \u003cbr\u003e\r\n        \u003cdiv\u003e\u003cspan\u003e\u003cb\u003eШаги выпуска сертификата УНЭП:\u003c/b\u003e\u003c/span\u003e\u003c/div\u003e\r\n        \u003cdiv class=\"goskey-steps\"\u003e\r\n            \u003cdiv class=\"steps-info\"\u003e\r\n                \u003cimg class=\"step-img\" src=\"\u003c%= UI.widget.filePath %\u003e/goskey.gif\"/\u003e\r\n            \u003c/div\u003e\r\n            \u003cdiv class=\"qr-and-info-container\"\u003e\r\n                \u003cdiv class=\"qr-link-container\"\u003e\r\n                    \u003cdiv style=\"display: flex; flex-direction: column;\"\u003e\r\n                        \u003cp style=\"margin: 0;\"\u003e\u003ca href=\"https://play.google.com/store/apps/details?id=ru.gosuslugi.goskey\" style=\"text-decoration: none\"\u003eСкачать\u003c/a\u003e в Google Play\u003c/p\u003e\r\n                        \u003cimg  src=\"\u003c%= UI.widget.filePath %\u003e/GooglePlay.png\"/\u003e\r\n                    \u003c/div\u003e\r\n                    \u003cdiv style=\"display: flex; flex-direction: column;\"\u003e\r\n                        \u003cp style=\"margin: 0;\"\u003e\u003ca href=\"https://apps.apple.com/ru/app/%D0%B3%D0%BE%D1%81%D0%BA%D0%BB%D1%8E%D1%87/id1566096745\"\u003eСкачать\u003c/a\u003e в AppStore\u003c/p\u003e\r\n                        \u003cimg  src=\"\u003c%= UI.widget.filePath %\u003e/AppStore.png\"/\u003e\r\n                    \u003c/div\u003e\r\n                    \u003cdiv style=\"display: flex; flex-direction: column;\"\u003e\r\n                        \u003cp style=\"margin: 0;\"\u003e\u003ca href=\"https://apps.rustore.ru/app/ru.gosuslugi.goskey\"\u003eСкачать\u003c/a\u003e в RuStore\u003c/p\u003e\r\n                        \u003cimg  src=\"\u003c%= UI.widget.filePath %\u003e/RuStore.png\"/\u003e\r\n                    \u003c/div\u003e\r\n                    \u003cdiv style=\"display: flex; flex-direction: column;\"\u003e\r\n                        \u003cp style=\"margin: 0;\"\u003e\u003ca href=\"https://appgallery.huawei.com/#/app/C104297607\"\u003eСкачать\u003c/a\u003e в AppGallery\u003c/p\u003e\r\n                        \u003cimg  src=\"\u003c%= UI.widget.filePath %\u003e/AppGallery.png\"/\u003e\r\n\r\n                    \u003c/div\u003e\r\n                \u003c/div\u003e\r\n                \u003cp\u003e1.Установите приложение Госключ на мобильное устройство\u003c/p\u003e\r\n                \u003cp\u003e2.Зарегистрируйтесь в приложении\u003c/p\u003e\r\n                \u003cp\u003e3.Обеспечьте защиту ваших личных данных: следуйте инструкциям в приложении\u003c/p\u003e\r\n                \u003cp\u003e4.Получите сертификат УНЭП\u003c/p\u003e\r\n            \u003c/div\u003e\r\n        \u003c/div\u003e\r\n        \u003c% $endtemplate %\u003e\r\n    \u003c/div\u003e\r\n\u003c% } %\u003e\r\n\r\n\u003cstyle\u003e\r\n    .goskey-disclaimer {\r\n        padding: 1.5rem;\r\n        background-color: #fee9be;\r\n        border-radius: 8px;\r\n        border: 1px solid #fbbe41;\r\n    }\r\n    .goskey-disclaimer p:last-child {\r\n        margin-bottom: 0;\r\n    }\r\n    .goskey-info-container {\r\n        display: flex;\r\n        flex-direction: column;\r\n        gap: 1rem;\r\n    }\r\n    .goskey-steps {\r\n        display: flex;\r\n        gap: 2rem;\r\n        justify-content: space-between;\r\n    }\r\n    .steps-info {\r\n        display: flex;\r\n        flex-direction: column;\r\n        gap: 1rem;\r\n        max-width: 35rem;\r\n    }\r\n    .qr-and-info-container {\r\n        display: flex;\r\n        flex-direction: column;\r\n    }\r\n    .mobile-type {\r\n        display: none;\r\n    }\r\n    elma-groupbox {\r\n        border: none !important;\r\n        padding: 0 !important;\r\n    }\r\n    .groupbox-header {\r\n        margin-bottom: 0 !important;\r\n    }\r\n    .mobile-type .groupbox-header {\r\n        position: relative;\r\n    }\r\n    .mobile-type .groupbox-header button {\r\n        position: absolute;\r\n        right: -2rem;\r\n        top: 0;\r\n    }\r\n    .step-label {\r\n        font-weight: 600\r\n    }\r\n    .goskey-step {\r\n        display: flex;\r\n        flex-direction: column;\r\n        margin-bottom: 2rem;\r\n    }\r\n    p.goskey-text, h3.goskey-text {\r\n        color: black !important;\r\n    }\r\n    .step-images {\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n    }\r\n    .step-img {\r\n        width: 30rem;\r\n    }\r\n    .svg-link {\r\n        max-width: 150px;\r\n        max-height: 150px;\r\n    }\r\n    .qr-link-container {\r\n        display: flex;\r\n        justify-content: space-evenly;\r\n        gap: 1rem;\r\n    }\r\n\r\n    .goskey-expand .template-renderer{\r\n        white-space: unset !important;\r\n        gap: 2rem;\r\n        margin-top: 1rem;\r\n    }\r\n\r\n    .goskey-info {\r\n        display: flex;\r\n        flex-direction: column;\r\n        gap: .5rem;\r\n        padding: 0;\r\n    }\r\n\r\n    .mobile-goskey {\r\n        display: none;\r\n    }\r\n\r\n    @media (max-width: 1000px) {\r\n        .mobile-goskey {\r\n            display: block;\r\n        }\r\n\r\n        .goskey-info-img {\r\n            display: none;\r\n        }\r\n        .goskey-step {\r\n            display: none;\r\n        }\r\n        .mobile-type {\r\n            display: block;\r\n        }\r\n    }\r\n\r\n    @media (max-width: 600px) {\r\n        .goskey-steps {\r\n            flex-direction: column;\r\n        }\r\n        .svg-link {\r\n            display: none;\r\n        }\r\n        .qr-link-container {\r\n            display: flex;\r\n            justify-content: space-around;\r\n        }\r\n    }\r\n\u003c/style\u003e",
                                      "hideContent": false,
                                      "contentPlaceholder": ""
                                    }
                                  },
                                  {
                                    "id": "4df27336-eace-4e3c-ad84-9e21c3c46d12",
                                    "descriptor": "groupbox",
                                    "values": {
                                      "collapsible": true,
                                      "__isConstValues": [],
                                      "__renderContentAsync": false,
                                      "__renderContentOnDemand": false,
                                      "__hidden": {
                                        "path": ["first_goskey_sign"],
                                        "modifier": "not"
                                      },
                                      "__outlet": "",
                                      "expanded": false,
                                      "styleEnum": [
                                        {
                                          "code": "default",
                                          "name": "Default"
                                        }
                                      ],
                                      "title": "Шаги для подписания документа в приложении Госключ",
                                      "__baseURL": "",
                                      "__relativeURL": ""
                                    },
                                    "content": {
                                      "": [
                                        {
                                          "id": "1927c1eb-94a4-4101-bb9c-d563c0640a32",
                                          "descriptor": "code",
                                          "values": {
                                            "hideContent": false,
                                            "contentPlaceholder": "",
                                            "html": "\u003cdiv class=\"goskey-info\"\u003e\n    \u003cdiv\u003e\n        1. Проверьте приложение Госключ - в нем доступны кадровые документы для подписания\n    \u003c/div\u003e\n    \u003cdiv\u003e\n        2. Подпишите документы используя УНЭП в приложении Госключ\n    \u003c/div\u003e\n    \u003cimg class=\"goskey-info-img\" src=\"\u003c%= UI.widget.filePath %\u003e/goskey_sign.png\"\u003e\n    \u003cdiv class=\"mobile-goskey\"\u003e\n        \u003cimg src=\"\u003c%= UI.widget.filePath %\u003e/goskey_task_mobile.png\"\u003e\n    \u003c/div\u003e\n\u003c/div\u003e"
                                          }
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            }
                          ]
                        }
                      },
                      {
                        "id": "969a940b-7cc8-49bd-9338-090516360853",
                        "descriptor": "tab",
                        "values": {
                          "__relativeURL": "",
                          "__isConstValues": [],
                          "__renderContentAsync": false,
                          "__renderContentOnDemand": false,
                          "title": "Подписание ELMA",
                          "__hidden": {
                            "path": ["context", "leave_choice_to_staff"],
                            "modifier": "not"
                          },
                          "__outlet": "",
                          "__baseURL": ""
                        },
                        "content": {
                          "": [
                            {
                              "id": "e7d2c465-291f-4a0a-9c25-fdaaa45a16ae",
                              "descriptor": "modal-body",
                              "content": {
                                "": [
                                  {
                                    "id": "1b9d4809-b651-481f-90ec-dd6aad31fd2b",
                                    "descriptor": "code",
                                    "values": {
                                      "html": "\u003cdiv style=\"margin-bottom: 32px;\"\u003e\n\u003cp class=\"goskey-text\"\u003e\u003cspan style=\"font-size: 13pt;\"\u003eПодписание в ELMA включает в себя подписание документа с помощью УНЭП (Усиленная Неквалифицированная Электронная Подпись). Сертификат на данную подпись выдается одним из УЦ (Удостоверяющий Центр).\u003c/span\u003e\u003c/p\u003e\n\u003cbr\u003e\n\u003cp class=\"goskey-text\"\u003e\u003cspan style=\"font-size: 13pt;\"\u003eПри выборе данного способа подписания Вам необходимо будет выбрать провайдера и сертификат электронной подписи. После этого подтвердить подписание документа через СМС-сообщение на Ваш мобильный телефон.\u003c/span\u003e\u003c/p\u003e\n\u003c/div\u003e\n",
                                      "hideContent": false,
                                      "contentPlaceholder": ""
                                    }
                                  }
                                ]
                              }
                            }
                          ]
                        }
                      }
                    ]
                  }
                }
              ]
            }
          }
        ],
        "[sidebar]": [
          {
            "id": "39d7757a-529f-4526-98f3-fddc66becf85",
            "descriptor": "sidebar-widget",
            "content": {
              "": [
                {
                  "id": "abe4b782-6e2d-49cc-a57e-81b636422ee5",
                  "descriptor": "target-widget",
                  "values": {
                    "context": {
                      "path": ["context"]
                    }
                  }
                }
              ]
            }
          },
          {
            "id": "231b371a-64ae-4b61-8014-cba6da318ac9",
            "descriptor": "sidebar-widget",
            "content": {
              "": [
                {
                  "id": "5e39b91d-aea4-467e-862f-0f8766eb44df",
                  "descriptor": "linked-item",
                  "values": {
                    "context": {
                      "path": ["context"]
                    }
                  }
                }
              ]
            }
          },
          {
            "id": "a4469de0-d7f3-11ec-9d64-0242ac120002",
            "descriptor": "sidebar-widget",
            "content": {
              "": [
                {
                  "id": "3ead7c41-6dfa-4144-80da-2bfb5f0ccf59",
                  "descriptor": "item-reminder",
                  "values": {
                    "task": {
                      "path": ["task"]
                    },
                    "formGroup": {
                      "path": ["context"]
                    }
                  }
                }
              ]
            }
          },
          {
            "id": "56d1d0e8-aa83-4cdd-ae43-294b26ad4d04",
            "descriptor": "sidebar-widget",
            "content": {
              "": [
                {
                  "id": "e1525e34-14ba-456b-b703-f407945c01e0",
                  "descriptor": "item-tasks",
                  "descriptorVersion": 4,
                  "values": {
                    "formGroup": {
                      "path": ["context"]
                    },
                    "itemModel": {
                      "path": ["itemModel"]
                    }
                  }
                }
              ]
            }
          },
          {
            "id": "bbc05832-b20c-4011-b92e-b4658aab3d14",
            "descriptor": "sidebar-widget",
            "values": {
              "title": "Дополнительная информация",
              "__hidden": {
                "path": ["first_goskey_sign"]
              },
              "__outlet": "",
              "__baseURL": "",
              "__relativeURL": "",
              "__isConstValues": [],
              "__renderContentAsync": false,
              "__renderContentOnDemand": false
            },
            "content": {
              "": [
                {
                  "id": "c0b77968-389a-4fbb-be12-9ffe5caec914",
                  "descriptor": "code",
                  "values": {
                    "contentPlaceholder": "",
                    "html": "\u003c% if (ViewContext.data.file_link) { %\u003e\r\n    \u003ca target=\"_blank\" href=\"\u003c%= ViewContext.data.file_link %\u003e\"\u003eПомощь с приложением Госключ\u003c/a\u003e\r\n\u003c% } else { %\u003e\r\n    \u003cdiv\u003e\u003ca href=\"https://goskey.ru/\"\u003eГосключ\u003c/a\u003e — приложение позволяет бесплатно получить сертификат электронной подписи и подписывать документы. Ключ электронной подписи создаётся, хранится и применяется в самом приложении. Все функции приложения доступны дистанционно и в электронном формате — без бумаги.\u003c/div\u003e\r\n\u003c% } %\u003e",
                    "hideContent": false
                  }
                }
              ]
            }
          },
          {
            "id": "eef018f2-1d3a-4600-a19d-791733b28b5e",
            "descriptor": "sidebar-widget",
            "content": {
              "": [
                {
                  "id": "e0a17dec-603a-461a-becf-861637630584",
                  "descriptor": "messages-target",
                  "values": {
                    "target": {
                      "path": ["target"]
                    }
                  }
                }
              ]
            }
          }
        ],
        "[formInfoPanel]": [
          {
            "id": "bff3e49e-510e-41b0-bf0c-9a49d6a050da",
            "descriptor": "validation-info-block",
            "values": {
              "__validateResult": {
                "path": ["context", "__validateResult"]
              }
            }
          }
        ],
        "[headerControls]": [
          {
            "id": "475aa008-aaff-402f-8de2-408bae1f1928",
            "descriptor": "task-percent-widget",
            "values": {
              "task": {
                "path": ["task"]
              }
            }
          },
          {
            "id": "702d9c59-77ae-4dd5-b71a-a5fe7b58858f",
            "descriptor": "extension-zone-toolbar-widget",
            "values": {
              "item": {
                "path": ["__itemRef"]
              }
            }
          },
          {
            "id": "f7b11c79-4267-4f5b-a002-dd629d549682",
            "descriptor": "process-item-map",
            "values": {
              "task": {
                "path": ["task"]
              },
              "skipRulesCheck": true
            }
          },
          {
            "id": "ff2500ee-6573-49cd-a9e8-2d5c93350f26",
            "descriptor": "button",
            "values": {
              "createAppItemSettings": {
                "kind": "",
                "settings": {
                  "code": "",
                  "field": "",
                  "binding": null,
                  "namespace": ""
                }
              },
              "icon": "menu_vertical",
              "view": "icon",
              "label": "bpm.tasks.item@menu",
              "action": {
                "path": ["menuAction"]
              },
              "runProcessSettings": {
                "kind": "",
                "settings": {
                  "code": "",
                  "field": "",
                  "binding": null,
                  "namespace": ""
                }
              }
            }
          }
        ]
      }
    },
    "fields": [
      {
        "code": "first_goskey_sign",
        "type": "BOOLEAN",
        "searchable": false,
        "indexed": false,
        "deleted": false,
        "array": false,
        "required": false,
        "single": true,
        "defaultValue": true,
        "calcByFormula": false,
        "formula": "",
        "data": {},
        "view": {
          "name": "Первое подписание",
          "data": {
            "additionalType": "radio",
            "noValue": "Нет",
            "yesValue": "Да"
          },
          "input": true,
          "output": true
        }
      },
      {
        "code": "next_action",
        "type": "ENUM",
        "searchable": false,
        "indexed": false,
        "deleted": false,
        "array": true,
        "required": false,
        "single": true,
        "defaultValue": null,
        "calcByFormula": false,
        "formula": "",
        "data": {
          "enumItems": [
            {
              "code": "goskey",
              "name": "Отправить в Госключ",
              "checked": true
            },
            {
              "code": "inner_sign",
              "name": "Отправить на подписание в ELMA",
              "checked": false
            },
            {
              "code": "reject",
              "name": "Отказаться от подписания",
              "checked": false
            }
          ]
        },
        "view": {
          "name": "Дальнейшее действие",
          "data": {},
          "input": true,
          "output": true
        }
      },
      {
        "code": "one_doc_for_sign",
        "type": "BOOLEAN",
        "searchable": false,
        "indexed": false,
        "deleted": false,
        "array": false,
        "required": false,
        "single": true,
        "defaultValue": false,
        "calcByFormula": false,
        "formula": "",
        "data": {},
        "view": {
          "name": "Единственный документ для подписания",
          "data": {
            "additionalType": "radio",
            "noValue": "Нет",
            "yesValue": "Да"
          },
          "input": true,
          "output": true
        }
      },
      {
        "code": "doc_for_preview",
        "type": "FILE",
        "searchable": false,
        "indexed": false,
        "deleted": false,
        "array": true,
        "required": false,
        "single": true,
        "defaultValue": null,
        "calcByFormula": false,
        "formula": "",
        "data": {},
        "view": {
          "name": "Документ для предпросмотра",
          "data": {},
          "input": true,
          "output": true
        }
      },
      {
        "code": "file_link",
        "type": "STRING",
        "searchable": false,
        "indexed": false,
        "deleted": false,
        "array": false,
        "required": false,
        "single": true,
        "defaultValue": null,
        "calcByFormula": false,
        "formula": "",
        "data": {},
        "view": {
          "name": "Ссылка на файл",
          "data": {
            "additionalType": "string"
          },
          "input": true,
          "output": true
        }
      }
    ],
    "fieldVisibilityConditions": {
      "file_link": {
        "enabled": false,
        "conditions": []
      },
      "next_action": {
        "enabled": false,
        "conditions": []
      },
      "doc_for_preview": {
        "enabled": false,
        "conditions": []
      },
      "one_doc_for_sign": {
        "enabled": false,
        "conditions": []
      },
      "first_goskey_sign": {
        "enabled": false,
        "conditions": []
      }
    },
    "scriptOptions": {},
    "clientScripts": "declare const document: any, console: any, window: any;\n\nconst hiddenItems = [\n    \"не определён\",\n    \"дать выбор\"\n];\n\nasync function onInit(): Promise\u003cvoid\u003e {\n    const staff = await Context.data.staff!.fetch();\n\n    if (staff.data.goskey_sign_approved) {\n        ViewContext.data.first_goskey_sign = false;\n    } else {\n        ViewContext.data.first_goskey_sign = true;\n    };\n    \n    // if (Context.data.goskey_docs \u0026\u0026 Context.data.goskey_docs.length \u003c 2) {\n    //     const doc = await Context.data.goskey_docs[0].fetch();\n    //     ViewContext.data.doc_for_preview = doc.data.__file;\n    //     ViewContext.data.one_doc_for_sign = true;\n    // };\n\n    await Server.rpc.getFileLink();\n};\n\nasync function onLoad(): Promise\u003cvoid\u003e {\n    if (!Context.data.leave_choice_to_staff) {\n        window.setTimeout(() =\u003e {\n            const modals = document.querySelectorAll(\"elma-complex-popup\")\n            console.log({modals})\n            \n            const buttons = document.querySelectorAll(\"elma-complex-popup footer .btn-group .fluid-nav-item\");\n            console.log(buttons)\n            \n\n            buttons.forEach((button: any) =\u003e {\n                const innerNode = button.querySelector(\"button\");\n                console.log(innerNode)\n                \n                if (innerNode.textContent.toLowerCase().includes(\"elma\")) {\n                    button.remove();\n                };\n            });\n        }, 500)\n    };\n};",
    "clientScriptOptions": {
      "allowServer": true
    },
    "serverScripts": "async function getFileLink(): Promise\u003cvoid\u003e {\n    if (!Namespace.params.data.goskey_info_file) {\n        return;\n    };\n    ViewContext.data.file_link = await Namespace.params.data.goskey_info_file.getDownloadUrl();\n};",
    "serverScriptOptions": {},
    "dataFieldCode": "context"
  },
  "dataNamespace": "kedo",
  "dataCode": "_process_check_sign_type",
  "runtime": {
    "version": 1,
    "clientScripts": "System.register([], function (exports_1, context_1) {\n    \"use strict\";\n    var __moduleName = context_1 \u0026\u0026 context_1.id;\n    function default_1(Context, ViewContext, Server, System) {\n        const hiddenItems = [\n            \"не определён\",\n            \"дать выбор\"\n        ];\n        async function onInit() {\n            const staff = await Context.data.staff.fetch();\n            if (staff.data.goskey_sign_approved) {\n                ViewContext.data.first_goskey_sign = false;\n            }\n            else {\n                ViewContext.data.first_goskey_sign = true;\n            }\n            ;\n            await Server.rpc.getFileLink();\n        }\n        ;\n        async function onLoad() {\n            if (!Context.data.leave_choice_to_staff) {\n                window.setTimeout(() =\u003e {\n                    const modals = document.querySelectorAll(\"elma-complex-popup\");\n                    console.log({ modals });\n                    const buttons = document.querySelectorAll(\"elma-complex-popup footer .btn-group .fluid-nav-item\");\n                    console.log(buttons);\n                    buttons.forEach((button) =\u003e {\n                        const innerNode = button.querySelector(\"button\");\n                        console.log(innerNode);\n                        if (innerNode.textContent.toLowerCase().includes(\"elma\")) {\n                            button.remove();\n                        }\n                        ;\n                    });\n                }, 500);\n            }\n            ;\n        }\n        ;\n        return {\n            onInit,\n            onLoad\n        };\n    }\n    exports_1(\"default\", default_1);\n    return {\n        setters: [],\n        execute: function () {\n        }\n    };\n});\n",
    "clientFnDeclarations": [
      {
        "name": "onInit",
        "parameters": [],
        "type": "[object Object]"
      },
      {
        "name": "onLoad",
        "parameters": [],
        "type": "[object Object]"
      }
    ],
    "serverScripts": "async function getFileLink() {\n    if (!Namespace.params.data.goskey_info_file) {\n        return;\n    }\n    ;\n    ViewContext.data.file_link = await Namespace.params.data.goskey_info_file.getDownloadUrl();\n}\n;\n",
    "serverFnDeclarations": [
      {
        "name": "getFileLink",
        "parameters": [],
        "type": "[object Object]"
      }
    ],
    "clientDependencies": {
      "applications": [],
      "collections": [],
      "pages": []
    }
  },
  "__createdAt": "2024-04-23T10:16:40.223866795Z",
  "__createdBy": "099fd2a1-8125-406b-aaff-0db06d81aa40",
  "__updatedAt": "2024-04-23T10:16:40.223866795Z",
  "__updatedBy": "099fd2a1-8125-406b-aaff-0db06d81aa40",
  "__deletedAt": null
}
