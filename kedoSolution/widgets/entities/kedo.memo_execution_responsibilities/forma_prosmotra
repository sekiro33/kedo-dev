{"__id":"018e89f9-2acd-7b60-a47b-c2d9e735a570","namespace":"kedo.memo_execution_responsibilities","code":"forma_prosmotra","__name":"Форма просмотра","description":"","extensionZoneCode":"","sort":0,"category":"00000000-0000-0000-0000-000000000000","version":3,"hidden":false,"draft":false,"readonly":false,"descriptor":{"types":["form"],"template":{"id":"b160eab2-7cff-4888-ab20-1418a32488d0","descriptor":"item-form-complex-popup","descriptorVersion":2,"values":{"formGroup":{"path":["item"]}},"content":{"[headerControls]":[{"id":"0418a119-d87d-43fb-9a61-455aa5160568","descriptor":"button","values":{"icon":"system_add_round","view":"icon","action":{"path":["addVersionAction"]},"tooltip":"Добавить версию","runProcessSettings":{"kind":"","settings":{"code":"","field":"","binding":null,"namespace":""}},"createAppItemSettings":{"kind":"","settings":{"code":"","field":"","binding":null,"namespace":""}}}},{"id":"5a72dd17-31f2-4412-a056-a474e01ac17c","descriptor":"button","values":{"icon":"send_approve","view":"icon","action":{"path":["docflowSendAction"]},"tooltip":"Отправить","runProcessSettings":{"kind":"","settings":{"code":"","field":"","binding":null,"namespace":""}},"createAppItemSettings":{"kind":"","settings":{"code":"","field":"","binding":null,"namespace":""}}}},{"id":"b0237e26-4b99-4ce8-9d6f-a78b44c9263b","descriptor":"button","values":{"icon":"lock","view":"icon","label":"Права доступа","action":{"path":["accessSettings"]},"runProcessSettings":{"kind":"","settings":{"code":"","field":"","binding":null,"namespace":""}},"createAppItemSettings":{"kind":"","settings":{"code":"","field":"","binding":null,"namespace":""}}}},{"id":"17a52e8f-7486-4031-bd01-5838fcfc8f70","descriptor":"extension-zone-toolbar-widget","values":{"item":{"path":["__itemRef"]}}},{"id":"13599e1c-12ed-11eb-adc1-0242ac120002","descriptor":"edo-diadoc-full-widget","values":{"itemModel":{"path":["itemModel"]},"icon":"lock","item":{"path":["item"]},"view":"icon","label":"Права доступа"}},{"id":"1d3e0cf2-9996-43a6-945d-4b949ff7939e","descriptor":"app-signing","descriptorVersion":3,"values":{"signFile":[{"code":"preferably","name":"bpm.editor.settings-sign@preferably","translate":true}],"itemModel":{"path":["itemModel"]},"showComment":[{"code":"preferably","name":"bpm.editor.settings-sign@preferably","translate":true}],"signAttributes":[{"code":"preferably","name":"bpm.editor.settings-sign@preferably","translate":true}],"preselectedProvider":{"code":"system.__digital_sign_provider/CryptoPro","name":"app.modules.admin.integration@digital-sign-cryptopro-name","checked":false,"translate":true},"label":"Права доступа"}}],"[headerUpperTitle]":[{"id":"7fe87b6f-803f-40af-ae04-2c46f1919291","descriptor":"app-navigation-crumbs-tree-widget","values":{"item":{"path":["itemModel"]},"application":{"path":["application"]}}}],"[headerCustomization]":[],"[footer]":[{"id":"bb0dff47-1dfd-42ad-a4f8-89b3e4665d79","descriptor":"zone-content","values":{"zoneCode":"[footer]"}}],"[content]":[{"id":"25cc10fe-0419-4be1-8bda-266c5657800c","descriptor":"modal-body","content":{"":[{"id":"f2ae21ec-fec4-42b9-9c37-6bbbbf948745","descriptor":"elma-info-block","values":{"typeEnum":[{"code":"danger","name":"Ошибка (красный)"}],"__baseURL":"","__relativeURL":"","text":"Внимание! По данному процессу запущен процесс отмены. До завершения процесса рекомендуем не выполнять данную задачу.","__outlet":"","__renderContentAsync":false,"__renderContentOnDemand":false,"__hidden":{"path":["is_cancellation_process"],"modifier":"not"},"__isConstValues":[]},"content":{"":[]}},{"id":"208ff8b1-3ac5-4092-ba7d-0e7b44c279f0","descriptor":"tabset","values":{"__isConstValues":[],"__renderContentAsync":false},"content":{"":[{"id":"c3d38d0b-8f61-4447-941f-07df0074bdf7","descriptor":"tab","values":{"__isConstValues":[],"__renderContentAsync":false,"__renderContentOnDemand":false,"title":"Файл СЗ"},"content":{"":[{"id":"0dbf4799-8d64-4520-b845-e2bbfbdb0fe9","descriptor":"file-preview-download-panel","values":{"file":{"path":["fileModel"]}}},{"id":"a9945e22-779f-4e99-870c-3197582b9957","descriptor":"modal-body","content":{"":[{"id":"b961beb6-e05d-47f1-8745-bfe8958faa9f","descriptor":"file-preview","values":{"file":{"path":["fileModel"]},"fieldFormControl":{"path":["item","__file"]}}}]}}]}},{"id":"747204ff-bd4e-4dc4-a1ed-40f10c6d76d2","descriptor":"tab","values":{"__outlet":"","__baseURL":"","__relativeURL":"","__isConstValues":[],"__renderContentAsync":false,"__renderContentOnDemand":false,"title":"Заявка на совмещение"},"content":{"":[{"id":"30271647-d4d8-4d1b-98c8-0175e3ba5324","descriptor":"modal-body","content":{"":[{"id":"b9dbfcad-d5e2-49d0-bfc9-0e817c7a30e6","descriptor":"dynamic-form","values":{"fields":{"path":["fields"]},"form":{"path":["item"]}}}]}}]}},{"id":"cf6759be-f9bc-4d62-a9c0-193fa03941cc","descriptor":"tab","values":{"title":"Согласие","__hidden":{"path":["view_tab_consent"],"modifier":"not"},"__outlet":"","__baseURL":"","__relativeURL":"","__isConstValues":[],"__renderContentAsync":false,"__renderContentOnDemand":false},"content":{"":[{"id":"41114632-a952-4433-b136-ddf5a556f943","descriptor":"modal-body","content":{"":[{"id":"c3d0aeae-722b-47d6-8c40-c2741419d550","descriptor":"file-preview","values":{"__outlet":"","__baseURL":"","__relativeURL":"","__isConstValues":[],"fieldFormControl":{"path":["item","execution_dutie","execution_responsibilities_consent","__file"]}}}]}}]}}]}}]}}],"[sidebar]":[{"id":"235bd772-c1cb-4d30-b0f2-011642825f65","descriptor":"sidebar-widget","values":{"title":"Статус КЭДО","__outlet":"","__baseURL":"","__relativeURL":"","__isConstValues":[],"__renderContentAsync":false,"__renderContentOnDemand":false},"content":{"":[{"id":"58e3747d-12c2-464e-b954-b3aac44adecb","descriptor":"ext_7fe3de7d-f459-4f75-940c-271c6e9ea1ed@kedo_status","descriptorVersion":3,"values":{"__renderContentOnDemand":false,"app":{"path":["__itemRef"]},"__outlet":"","__baseURL":"","kedo_status":{"path":["item","kedo_status"]},"__relativeURL":"","__isConstValues":[]}}]}},{"id":"2f4caa85-bf2f-4379-b888-119b342093c8","descriptor":"sidebar-widget","values":{"title":"Статус в Диадок"},"content":{"":[{"id":"6dbf42cc-a55b-4720-827a-93d271b847b0","descriptor":"diadoc-status","values":{"itemModel":{"path":["itemModel"]},"applicationItem":{"path":["item"]},"tooltip":"app-integration@diadoc-status"}}]}},{"id":"cbd8cadb-d5e7-4b19-91da-5881637efc78","descriptor":"sidebar-widget","values":{"title":"Статус подписи"},"content":{"":[{"id":"5476c0e0-829c-4d53-b03b-88b0d6534fb0","descriptor":"app-sign-status","values":{"itemModel":{"path":["itemModel"]}}}]}},{"id":"1c6ef61f-6d0e-41d1-8a1f-211bc70f3d92","descriptor":"sidebar-widget","content":{"":[{"id":"3a3d29c6-7fca-42eb-95f8-74789b8b7f22","descriptor":"docflow-approval-lists","values":{"item":{"path":["itemModel"]}}}]}},{"id":"8326be58-15ff-4903-8ab0-e20b08b8306b","descriptor":"sidebar-widget","content":{"":[{"id":"3a3d29c6-7fca-42eb-95f8-74789b8b7f22","descriptor":"docflow-inform-lists","values":{"item":{"path":["itemModel"]}}}]}},{"id":"07aeb5c8-b251-4f6d-a5f7-217c8deb182e","descriptor":"sidebar-widget","content":{"":[{"id":"1a0ebdad-66c2-4ad8-b050-74bda9847f2a","descriptor":"item-registration","values":{"item":{"path":["itemModel"]},"application":{"path":["application"]}}}]}},{"id":"d294be2c-65bd-4d27-a11f-5364897855e9","descriptor":"sidebar-widget","values":{"__isConstValues":[],"__renderContentAsync":false,"title":"Информация по документу"},"content":{"":[{"id":"a8a23e8e-1b8f-4714-a576-8d86d8fa7b17","descriptor":"dynamic-form-row","values":{"__isConstValues":[],"showDisplayName":false,"__baseURL":"","hideEmpty":false,"__readOnly":true,"bindingMode":false,"displayName":"xml_file","__relativeURL":"","control":{"path":["item","xml_file"]},"tooltip":null,"__outlet":"","required":false}}]}},{"id":"00103f82-2f58-4cbd-bc81-07e341784f59","descriptor":"sidebar-widget","values":{"__hidden":true,"__outlet":"","__baseURL":"","__relativeURL":"","__isConstValues":[],"__renderContentAsync":false,"__renderContentOnDemand":false},"content":{"":[{"id":"4cc755bb-f919-4ff7-8e47-5c59047dad62","descriptor":"item-status","values":{"item":{"path":["itemModel"]},"application":{"path":["application"]}}}]}},{"id":"184d2de7-2df8-493f-841a-4e0ddbb8060e","descriptor":"sidebar-widget","content":{"":[{"id":"d23366cd-07b0-4ae4-bb2c-73a203ec7786","descriptor":"item-tasks","descriptorVersion":4,"values":{"formGroup":{"path":["item"]}}}]}},{"id":"1e70306c-b439-46a0-af74-f63ae5a8b063","descriptor":"sidebar-widget","content":{"":[{"id":"4dad6c56-a886-42c6-989b-63e2ec75c677","descriptor":"disk-file-versions-widget","values":{"file":{"path":["fileModel"]},"item":{"path":["itemModel"]},"afterChangeCurrentVersionAction":{"path":["versionListAction"]}}}]}},{"id":"7f68300d-5ce0-4eb3-9e75-dea882c541a1","descriptor":"sidebar-widget","content":{"":[{"id":"05c90d54-b3dc-4d28-8b84-f32878377a61","descriptor":"messages-target","values":{"target":{"path":["target"]}}}]}}]}},"fields":[{"code":"view_tab_consent","type":"BOOLEAN","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":null,"calcByFormula":false,"formula":"","data":{},"view":{"name":"Показать вкладку согласие","data":{"additionalType":"radio","noValue":"Нет","yesValue":"Да"},"input":true,"output":true}},{"code":"is_cancellation_process","type":"BOOLEAN","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":false,"calcByFormula":false,"formula":"","data":{},"view":{"name":"Инициирован процесс анннулирования документов?","data":{"additionalType":"radio","noValue":"Нет","yesValue":"Да"},"input":true,"output":true}}],"fieldVisibilityConditions":{"view_tab_consent":{"enabled":false,"conditions":[]},"is_cancellation_process":{"enabled":false,"conditions":[]}},"scriptOptions":{},"clientScripts":"/* Client scripts module */\n\nasync function onInit(): Promise\u003cvoid\u003e {\n    if(Context.data.view_consent \u0026\u0026 (await Context.data.execution_dutie!.fetch()).data.execution_responsibilities_consent) {\n        ViewContext.data.view_tab_consent = true;\n    } else {\n        ViewContext.data.view_tab_consent = false;\n    }\n\n    if (Context.data.execution_dutie) {\n        const app = await Context.data.execution_dutie.fetch();\n        ViewContext.data.is_cancellation_process = app.data.is_cancellation_process;\n    }\n}\n","clientScriptOptions":{"allowServer":true},"serverScripts":"/* Server scripts module */\n","serverScriptOptions":{},"widgetZones":[{"code":"[footer]"}],"dataFieldCode":"item"},"dataNamespace":"kedo","dataCode":"memo_execution_responsibilities","runtime":{"version":1,"clientScripts":"System.register([], function (exports_1, context_1) {\n    \"use strict\";\n    var __moduleName = context_1 \u0026\u0026 context_1.id;\n    function default_1(Context, ViewContext, Server, System) {\n        async function onInit() {\n            if (Context.data.view_consent \u0026\u0026 (await Context.data.execution_dutie.fetch()).data.execution_responsibilities_consent) {\n                ViewContext.data.view_tab_consent = true;\n            }\n            else {\n                ViewContext.data.view_tab_consent = false;\n            }\n            if (Context.data.execution_dutie) {\n                const app = await Context.data.execution_dutie.fetch();\n                ViewContext.data.is_cancellation_process = app.data.is_cancellation_process;\n            }\n        }\n        return {\n            onInit\n        };\n    }\n    exports_1(\"default\", default_1);\n    return {\n        setters: [],\n        execute: function () {\n        }\n    };\n});\n","clientFnDeclarations":[{"name":"onInit","parameters":[],"type":"[object Object]"}],"clientDependencies":{"applications":[],"collections":[{"namespace":"kedo","code":"execution_duties"}],"pages":[]}},"__createdAt":"2024-03-29T11:29:51.819000498Z","__createdBy":"d78f4b2f-13a2-4903-aeeb-fdb72d5b9d0c","__updatedAt":"2024-04-15T09:28:28.7083072Z","__updatedBy":"1a8a4a0b-7e7e-4e0e-895e-ab2a0a301d1e","__deletedAt":null}
