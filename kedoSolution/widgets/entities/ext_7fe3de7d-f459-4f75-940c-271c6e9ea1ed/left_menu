{"__id":"018c8758-5833-7f0d-8ffc-b5ef19a6ab4a","namespace":"ext_7fe3de7d-f459-4f75-940c-271c6e9ea1ed","code":"left_menu","__name":"Меню страницы пользователя","description":"","extensionZoneCode":"","sort":0,"category":"00000000-0000-0000-0000-000000000000","version":3,"hidden":false,"draft":false,"readonly":false,"descriptor":{"template":{"id":"af8d9df6-1930-4956-9e56-e8f84619936e","descriptor":"component","content":{"":[{"id":"47f8c56d-0bb2-41c9-b2b1-f53e06ac542b","descriptor":"code","values":{"html":"\u003cscript\u003e\n    //Текст футера\n    const menuFooterText = \"Разработано на базе версии ELMA365 КЭДО\";\n\u003c/script\u003e\n","hideContent":true,"contentPlaceholder":"Текст футера"}},{"id":"579845be-de7c-4f26-ad6b-f18e4cb82e2d","descriptor":"code","values":{"html":"\u003cdiv class=\"user_page__menu kedo-menu\"\u003e\n    \u003cul class=\"kedo-menu__list\"\u003e\u003c/ul\u003e\n    \u003cdiv class=\"kedo-menu__footer\"\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"user-page__info-popup user-info-popup\"\u003e\n    \u003cdiv class=\"user-info-popup__user-card\"\u003e\n        \u003cdiv class=\"user-info-popup__avatar\"\u003e\n            \u003cdiv\u003e\u003c/div\u003e\n        \u003c/div\u003e\n        \u003cdiv class=\"user-info-popup__name-container\"\u003e\n            \u003cp class=\"user-info-popup__user-name\"\u003e\u003c/p\u003e\n            \u003cp class=\"user-info-popup__user-company-name\"\u003e\u003c/p\u003e\n        \u003c/div\u003e\n    \u003c/div\u003e\n    \u003cnav class=\"user-info-popup__nav\"\u003e\n        \u003cdiv class=\"user-info-popup__vacations\"\u003e\n            \u003cdiv class=\"user-info-popup__nav-item user-info-popup__nav_item--vacations\"\u003e\n                \u003cdiv class=\"user-info-popup__icon-container\"\u003e\n                    \u003cdiv class=\"kedo-menu__list-item-icon icon-vacations\"\u003e\u003c/div\u003e\n                \u003c/div\u003e\n                \u003cp class=\"user-info-popup__nav-item-text\"\u003eМои отпуска\u003c/p\u003e\n            \u003c/div\u003e\n        \u003c/div\u003e\n        \u003cdiv class=\"user-info-popup__trips\"\u003e\n            \u003cdiv class=\"user-info-popup__nav-item user-info-popup__nav_item--trips\"\u003e\n                \u003cdiv class=\"user-info-popup__icon-container\"\u003e\n                    \u003cdiv class=\"kedo-menu__list-item-icon icon-business-trips\"\u003e\u003c/div\u003e\n                \u003c/div\u003e\n                \u003cp class=\"user-info-popup__nav-item-text\"\u003eМои командировки\u003c/p\u003e\n            \u003c/div\u003e\n        \u003c/div\u003e\n        \u003cdiv class=\"user-info-popup__profile\"\u003e\n            \u003cdiv class=\"user-info-popup__nav-item user-info-popup__nav_item--profile\"\u003e\n                \u003cdiv class=\"user-info-popup__icon-container\"\u003e\n                    \u003cdiv class=\"kedo-menu__list-item-icon icon-profile\"\u003e\u003c/div\u003e\n                \u003c/div\u003e\n                \u003cp class=\"user-info-popup__nav-item-text\"\u003eМой профиль\u003c/p\u003e\n            \u003c/div\u003e\n        \u003c/div\u003e\n        \n        \n        \u003cdiv class=\"user-info-popup__nav-item user-info-popup__nav_item--exit\"\u003e\n            \u003cdiv class=\"user-info-popup__icon-container user-info-popup__icon-container--clear\"\u003e\n                \u003cdiv class=\"kedo-menu__list-item-icon icon-exit\"\u003e\u003c/div\u003e\n            \u003c/div\u003e\n            \u003cp class=\"user-info-popup__nav-item-text\"\u003eВыйти\u003c/p\u003e\n        \u003c/div\u003e\n    \u003c/nav\u003e\n\u003c/div\u003e\n\n\u003ctemplate class=\"kedo-menu__list-item-template\"\u003e\n    \u003cli class=\"kedo-menu__list-item\"\u003e\n        \u003cdiv class=\"kedo-menu__list-item-icon\"\u003e\u003c/div\u003e\n        \u003cp class=\"kedo-menu__list-item-text\"\u003e\u003c/p\u003e\n    \u003c/li\u003e\n\u003c/template\u003e\n","hideContent":true,"contentPlaceholder":"HTML"}},{"id":"86b715ed-df61-4e28-a175-13eef0bc2588","descriptor":"code","values":{"contentPlaceholder":"CSS","html":"\u003cstyle\u003e\n    .kedo-menu {\n        height: 100%;\n        min-height: calc(100vh - 70px);\n        background: #f2f8fc;\n        padding: 24px 0 30px;\n        display: flex;\n        flex-direction: column;\n        justify-content: space-between;\n    }\n    .kedo-menu__list {\n        list-style: none;\n        margin: 0;\n        padding: 0;\n    }\n    .kedo-menu__list-item {\n        width: 100%;\n        padding: 6px 0 8px 30px;\n        display: flex;\n        align-items: center;\n\n        cursor: pointer;\n    }\n\n    .kedo-menu__list-item.adaptive {\n        display: none\n    }\n\n    .kedo-menu__list-item--active {\n        background: #e2ecf3;\n    }\n\n    .kedo-menu__list-item--active .kedo-menu__list-item-text {\n        font-weight: 600;\n    }\n\n    .kedo-menu__list-item-icon {\n        width: 16px;\n        height: 16px;\n        background-position: center;\n        background-repeat: no-repeat;\n    }\n\n    .kedo-menu__list-item-icon.icon-main {\n\t    background-image: url(\"data:image/svg+xml,%3Csvg width='16' height='14' viewBox='0 0 16 14' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M15.8402 6.765L8.99656 1.23035C8.71678 1.00105 8.36423 0.875488 8.00017 0.875488C7.63612 0.875488 7.28356 1.00105 7.00379 1.23035L0.160175 6.765C0.115413 6.80188 0.0784694 6.84707 0.0514525 6.898C0.0244356 6.94894 0.00787481 7.00461 0.00271593 7.06184C-0.00244295 7.11907 0.00390107 7.17674 0.0213857 7.23156C0.0388704 7.28638 0.0671532 7.33727 0.104619 7.38133L0.389064 7.71766C0.464713 7.80656 0.573128 7.86227 0.690481 7.87252C0.807833 7.88278 0.92452 7.84674 1.0149 7.77235L1.77795 7.15547V12.2499C1.77861 12.4817 1.87247 12.7039 2.03903 12.8679C2.20559 13.0318 2.4313 13.1242 2.66684 13.1249H6.2224C6.45794 13.1242 6.68365 13.0318 6.85021 12.8679C7.01676 12.7039 7.11063 12.4817 7.11129 12.2499V9.40613H8.88906V12.2499C8.88972 12.4817 8.98358 12.7039 9.15014 12.8679C9.3167 13.0318 9.54241 13.1242 9.77795 13.1249H13.3335C13.5679 13.1244 13.7927 13.0329 13.9591 12.8704C14.1255 12.7078 14.2201 12.4872 14.2224 12.2564V7.15492L14.9871 7.77344C15.0775 7.84784 15.1942 7.88387 15.3115 7.87361C15.4289 7.86336 15.5373 7.80766 15.613 7.71875L15.8971 7.3827C15.9347 7.33852 15.9631 7.28746 15.9806 7.23246C15.9981 7.17746 16.0043 7.1196 15.9991 7.0622C15.9938 7.0048 15.977 6.949 15.9497 6.898C15.9225 6.84699 15.8852 6.8018 15.8402 6.765ZM12.8849 11.8124H10.2224V8.96863C10.2217 8.73677 10.1279 8.51459 9.96132 8.35063C9.79476 8.18668 9.56905 8.09428 9.33351 8.09363H6.66684C6.4313 8.09428 6.20559 8.18668 6.03903 8.35063C5.87247 8.51459 5.77861 8.73677 5.77795 8.96863V11.8124H3.11129V6.07758L8.00017 2.12313L12.8891 6.07594L12.8849 11.8124Z' fill='%235082E6'/%3E%3C/svg%3E\");\n    }\n\n    .kedo-menu__list-item-icon.icon-exit{\n        background-image: url(\"data:image/svg+xml,%3Csvg width='14' height='14' viewBox='0 0 14 14' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M0.914524 0.0180395C0.539848 0.098439 0.211065 0.380282 0.0773719 0.735661C-0.0051131 0.954926 8.77496e-05 0.533115 8.77496e-05 7.00157C8.77496e-05 13.5126 -0.00597038 13.0513 0.0825871 13.28C0.139554 13.4271 0.236027 13.5678 0.362462 13.6882C0.492669 13.8123 0.622862 13.8909 0.800219 13.9527L0.935956 14H4.90804H8.88012L8.99361 13.967C9.39562 13.8503 9.70131 13.5325 9.80539 13.1232C9.83682 12.9995 9.83742 12.9811 9.83742 12.1376C9.83742 11.2908 9.83695 11.2765 9.80587 11.1777C9.71802 10.8985 9.49781 10.7112 9.20923 10.6702C8.84104 10.6179 8.48591 10.8706 8.40773 11.2404C8.39233 11.3133 8.38763 11.4774 8.38743 11.9478L8.38718 12.5603L4.91875 12.5566L1.45033 12.553V7.00157V1.4501L4.91875 1.44649L8.38718 1.44288L8.38743 2.16997C8.3877 2.96632 8.39177 3.0154 8.47028 3.17101C8.55787 3.34462 8.71878 3.47991 8.9052 3.53668C9.03533 3.57632 9.2539 3.56936 9.37627 3.52168C9.61809 3.42749 9.79153 3.20345 9.83021 2.93535C9.84917 2.8039 9.84861 1.16693 9.82956 1.01278C9.7725 0.551252 9.47076 0.19252 9.00871 0.0368356L8.9087 0.00314003L4.95805 0.00061859C1.63068 -0.00150171 0.992737 0.00124895 0.914524 0.0180395ZM10.7463 3.9145C10.5717 3.96362 10.4193 4.07815 10.3166 4.23744C10.1794 4.45033 10.1749 4.74745 10.3053 4.98155C10.337 5.03854 10.5154 5.22782 10.95 5.66564L11.5509 6.27093H8.72858C6.18681 6.27093 5.89853 6.2732 5.82865 6.29378C5.58053 6.36685 5.3906 6.55413 5.32154 6.79384C5.29272 6.89382 5.28923 7.07962 5.31445 7.1717C5.36293 7.34881 5.49403 7.52186 5.65199 7.61723C5.82819 7.72362 5.59691 7.71614 8.7367 7.71706L11.5509 7.71789L10.9578 8.31601C10.3228 8.9564 10.3171 8.96335 10.2662 9.15956C10.2042 9.39816 10.2775 9.65627 10.459 9.83819C10.6993 10.0791 11.0757 10.1217 11.3569 9.93962C11.3935 9.91595 11.9709 9.34675 12.6401 8.67473C13.7879 7.522 13.8597 7.44696 13.9084 7.34888C14.0435 7.07657 14.0293 6.81987 13.8649 6.56717C13.8142 6.48922 13.5107 6.17547 12.6107 5.27087C11.9102 4.56676 11.3896 4.05464 11.341 4.02186C11.2138 3.93601 11.116 3.90434 10.959 3.89818C10.8667 3.89454 10.7987 3.89975 10.7463 3.9145Z' fill='%235082E6'/%3E%3C/svg%3E\");\n    }\n\n    .kedo-menu__list-item-icon.icon-documents { \n\t    background-image: url(\"data:image/svg+xml,%3Csvg width='12' height='16' viewBox='0 0 12 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M9 7.75V8.625C9 8.83125 8.83125 9 8.625 9H3.375C3.16875 9 3 8.83125 3 8.625V7.75C3 7.54375 3.16875 7.375 3.375 7.375H8.625C8.83125 7.375 9 7.54375 9 7.75ZM8.625 10H3.375C3.16875 10 3 10.1687 3 10.375V11.25C3 11.4563 3.16875 11.625 3.375 11.625H8.625C8.83125 11.625 9 11.4563 9 11.25V10.375C9 10.1687 8.83125 10 8.625 10ZM12 4.12187V14.5C12 15.3281 11.3281 16 10.5 16H1.5C0.671875 16 0 15.3281 0 14.5V1.5C0 0.671875 0.671875 0 1.5 0H7.87813C8.275 0 8.65625 0.159375 8.9375 0.440625L11.5594 3.0625C11.8406 3.34063 12 3.725 12 4.12187ZM8 1.62188V4H10.3781L8 1.62188ZM10.5 14.5V5.5H7.25C6.83437 5.5 6.5 5.16563 6.5 4.75V1.5H1.5V14.5H10.5Z' fill='%235082E6'/%3E%3C/svg%3E\");\n    }\n\n    .kedo-menu__list-item-icon.icon-services {\n\t    background-image: url(\"data:image/svg+xml,%3Csvg width='12' height='16' viewBox='0 0 12 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8.75 7.5H5.25C5.1125 7.5 5 7.6125 5 7.75V8.25C5 8.3875 5.1125 8.5 5.25 8.5H8.75C8.8875 8.5 9 8.3875 9 8.25V7.75C9 7.6125 8.8875 7.5 8.75 7.5ZM8.75 10.5H5.25C5.1125 10.5 5 10.6125 5 10.75V11.25C5 11.3875 5.1125 11.5 5.25 11.5H8.75C8.8875 11.5 9 11.3875 9 11.25V10.75C9 10.6125 8.8875 10.5 8.75 10.5ZM3.5 7.25C3.08437 7.25 2.75 7.58437 2.75 8C2.75 8.41562 3.08437 8.75 3.5 8.75C3.91563 8.75 4.25 8.41562 4.25 8C4.25 7.58437 3.91563 7.25 3.5 7.25ZM3.5 10.25C3.08437 10.25 2.75 10.5844 2.75 11C2.75 11.4156 3.08437 11.75 3.5 11.75C3.91563 11.75 4.25 11.4156 4.25 11C4.25 10.5844 3.91563 10.25 3.5 10.25ZM10.5 2H8C8 0.896875 7.10313 0 6 0C4.89687 0 4 0.896875 4 2H1.5C0.671875 2 0 2.67188 0 3.5V14.5C0 15.3281 0.671875 16 1.5 16H10.5C11.3281 16 12 15.3281 12 14.5V3.5C12 2.67188 11.3281 2 10.5 2ZM6 1.5C6.275 1.5 6.5 1.725 6.5 2C6.5 2.275 6.275 2.5 6 2.5C5.725 2.5 5.5 2.275 5.5 2C5.5 1.725 5.725 1.5 6 1.5ZM10.5 14.25C10.5 14.3875 10.3875 14.5 10.25 14.5H1.75C1.6125 14.5 1.5 14.3875 1.5 14.25V3.75C1.5 3.6125 1.6125 3.5 1.75 3.5H3V4.5C3 4.775 3.225 5 3.5 5H8.5C8.775 5 9 4.775 9 4.5V3.5H10.25C10.3875 3.5 10.5 3.6125 10.5 3.75V14.25Z' fill='%235082E6'/%3E%3C/svg%3E\");\n    }\n\n    .kedo-menu__list-item-icon.icon-vacations {\n\t    background-image: url(\"data:image/svg+xml,%3Csvg width='16' height='13' viewBox='0 0 16 13' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11.087 0.459062C10.2443 0.14752 9.38275 0 8.53525 0C6.2735 0 4.11425 1.05244 2.69925 2.85213C2.53175 3.06516 2.6325 3.38635 2.88475 3.47953L8.61425 5.59736L6.371 11.7812H0.4C0.179 11.7812 0 11.963 0 12.1875V12.5938C0 12.8182 0.179 13 0.4 13H14C14.221 13 14.4 12.8182 14.4 12.5938V12.1875C14.4 11.963 14.221 11.7812 14 11.7812H7.65025L9.742 6.01453L15.4585 8.12754C15.5043 8.14455 15.551 8.15242 15.5968 8.15242C15.8035 8.15242 15.9925 7.99119 15.9977 7.76801C16.0735 4.60281 14.1785 1.60189 11.087 0.459062ZM11.3145 5.29877L7.685 3.95713C8.04125 3.31576 8.4485 2.75641 8.889 2.33289C9.5225 1.72275 10.1398 1.46555 10.5743 1.62779C11.0125 1.78979 11.3203 2.38748 11.4202 3.26854C11.4895 3.8807 11.4475 4.57488 11.3145 5.29877ZM4.44875 2.76098C5.521 1.83016 6.894 1.28223 8.3125 1.22916C8.20075 1.32463 7.391 1.95152 6.55525 3.53971L4.44875 2.76098ZM12.4443 5.71645C12.6287 4.826 12.7458 3.75959 12.547 2.71324C13.6913 3.6852 14.4755 5.0408 14.7188 6.55713L12.4443 5.71645Z' fill='%235082E6'/%3E%3C/svg%3E\");\n    }\n\n    .kedo-menu__list-item-icon.icon-business-trips {\n\t    background-image: url(\"data:image/svg+xml,%3Csvg width='16' height='14' viewBox='0 0 16 14' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M6.65466 1.3125L9.44828 6.125H12.6666C13.3897 6.125 14.413 6.66449 14.6416 7C14.413 7.33551 13.3897 7.875 12.6666 7.875H9.44828L6.65466 12.6875H5.62299L7.01994 7.875H3.77771L2.77771 9.1875H1.62993L2.27771 7L1.62993 4.8125H2.77771L3.77771 6.125H7.01994L5.62299 1.3125H6.65466ZM7.1705 0H4.44466C4.14938 0 3.93632 0.278086 4.01744 0.557539L5.25216 4.8125H4.44438L3.57771 3.675C3.49382 3.5648 3.36188 3.5 3.22216 3.5H0.44465C0.155482 3.5 -0.0567404 3.76742 0.0135375 4.04359L0.888817 7L0.0135375 9.95641C-0.0567404 10.2326 0.155482 10.5 0.44465 10.5H3.22216C3.36216 10.5 3.49382 10.4352 3.57771 10.325L4.44438 9.1875H5.25216L4.01716 13.4422C3.93605 13.7216 4.1491 14 4.44438 14H7.17022C7.32966 14 7.47689 13.9158 7.55605 13.7796L10.2222 9.1875H12.6666C13.8938 9.1875 16 8.20805 16 7C16 5.79168 13.8938 4.8125 12.6666 4.8125H10.2222L7.55633 0.220391C7.51746 0.153438 7.4613 0.0977902 7.39354 0.0590864C7.32578 0.0203827 7.24884 -1.37766e-06 7.1705 0V0Z' fill='%235082E6'/%3E%3C/svg%3E\");\n    }\n    .kedo-menu__list-item-icon.icon-more {\n        background-image: url(\"data:image/svg+xml,%3Csvg width='25' height='24' viewBox='0 0 25 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cg id='dehaze_24px'%3E%3Cpath id='icon/image/dehaze_24px' fill-rule='evenodd' clip-rule='evenodd' d='M2.97314 7V5H22.9731V7H2.97314ZM2.97314 11V13H22.9731V11H2.97314ZM2.97314 17V19H22.9731V17H2.97314Z' fill='%23979797'/%3E%3C/g%3E%3C/svg%3E\");\n    }\n    .kedo-menu__list-item-icon.icon-monitor{\n        background-image: url(\"data:image/svg+xml,%3Csvg width='18' height='16' viewBox='0 0 22 20' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M2.36117 18.3548H7.19971C7.62748 18.3548 7.99968 18.7715 7.99968 19.1992C7.99968 19.627 7.62748 19.9103 7.19971 19.9103H2.36117C1.64954 19.9103 0.984562 19.5914 0.533469 19.0392C0.0784872 18.4832 -0.0965058 17.7637 0.0512661 17.0599C0.517914 14.82 1.75453 12.7784 3.53168 11.3162C4.49998 10.5151 5.60827 9.91238 6.79044 9.52351C5.50327 8.55911 4.66719 7.01917 4.66719 5.28868C4.66719 2.37213 7.03932 0 9.95587 0C12.8724 0 15.2446 2.37213 15.2446 5.28868C15.2446 7.01917 14.4085 8.55522 13.1213 9.51962C13.2535 9.56239 13.3818 9.60905 13.5101 9.6557C13.9106 9.80736 14.1168 10.2585 13.9652 10.659C13.8135 11.0596 13.3624 11.2657 12.9619 11.114C12.0636 10.7757 11.1225 10.5968 10.1542 10.5735C10.0881 10.5774 10.022 10.5774 9.95587 10.5774C9.88976 10.5774 9.82366 10.5774 9.75755 10.5735C5.80659 10.6668 2.38451 13.4978 1.57565 17.3788C1.5251 17.6199 1.58343 17.8687 1.73898 18.0593C1.82842 18.1682 2.03063 18.3548 2.36117 18.3548ZM9.95587 1.55549C7.89873 1.55549 6.22269 3.23154 6.22269 5.28868C6.22269 7.28749 7.79763 8.92076 9.7731 9.01798C9.83532 9.01409 9.89365 9.01409 9.95587 9.01409C9.98698 9.01409 10.0171 9.01506 10.0473 9.01603C10.0774 9.017 10.1075 9.01798 10.1386 9.01798C12.1102 8.92076 13.6891 7.28749 13.6891 5.28868C13.6891 3.23154 12.013 1.55549 9.95587 1.55549Z' fill='%235082E6'/%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M15.9994 11.1973C19.5338 11.1973 22.3991 14.0625 22.3991 17.597C22.3991 21.1315 19.5338 23.9968 15.9994 23.9968C12.4649 23.9968 9.59961 21.1315 9.59961 17.597C9.59961 14.0625 12.4649 11.1973 15.9994 11.1973ZM15.9994 22.5568C16.0437 22.5568 16.4714 22.4834 16.9739 21.4784C17.1886 21.0491 17.374 20.5213 17.5107 19.9185H14.4877C14.6244 20.5213 14.8098 21.0491 15.0245 21.4784C15.527 22.4834 15.955 22.5568 15.9994 22.5568ZM14.2732 18.4785C14.251 18.1937 14.2393 17.8994 14.2393 17.597C14.2393 17.296 14.2509 17.0029 14.2729 16.7192H17.7255C17.7475 17.0029 17.7591 17.296 17.7591 17.597C17.7591 17.8994 17.7474 18.1937 17.7252 18.4785H14.2732ZM18.9821 19.9185C18.8325 20.6869 18.6108 21.3833 18.3336 21.9743C19.2046 21.5088 19.9205 20.791 20.3835 19.9185H18.9821ZM20.8811 18.4785H19.169C19.1888 18.1904 19.1991 17.8961 19.1991 17.597C19.1991 17.2992 19.1889 17.0062 19.1692 16.7192H20.8817C20.9326 17.0041 20.9592 17.2975 20.9592 17.597C20.9592 17.8979 20.9324 18.1924 20.8811 18.4785ZM12.8294 18.4785H11.1177C11.0663 18.1924 11.0396 17.8979 11.0396 17.597C11.0396 17.2975 11.0661 17.0041 11.117 16.7192H12.8292C12.8095 17.0062 12.7993 17.2992 12.7993 17.597C12.7993 17.8961 12.8096 18.1904 12.8294 18.4785ZM11.6153 19.9185H13.0164C13.166 20.6868 13.3877 21.3832 13.6649 21.9742C12.794 21.5087 12.0782 20.7909 11.6153 19.9185ZM14.4868 15.2793H17.5116C17.3748 14.6749 17.189 14.1458 16.9739 13.7157C16.4714 12.7106 16.0437 12.6372 15.9994 12.6372C15.955 12.6372 15.527 12.7106 15.0245 13.7157C14.8094 14.1458 14.6236 14.6749 14.4868 15.2793ZM18.9828 15.2793H20.3854C19.9225 14.4051 19.2059 13.6858 18.3336 13.2197C18.6112 13.8117 18.8332 14.5094 18.9828 15.2793ZM13.6649 13.2198C13.3872 13.8118 13.1653 14.5094 13.0156 15.2793H11.6133C12.0762 14.4051 12.7927 13.686 13.6649 13.2198Z' fill='%235082E6'/%3E%3C/svg%3E%0A\");\n    }\n    .kedo-menu__list-item-icon.icon-profile{\n        background-image: url(\"data:image/svg+xml,%3Csvg width='14' height='16' viewBox='0 0 14 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M9.8 9.5C8.90312 9.5 8.47188 10 7 10C5.52812 10 5.1 9.5 4.2 9.5C1.88125 9.5 0 11.3813 0 13.7V14.5C0 15.3281 0.671875 16 1.5 16H12.5C13.3281 16 14 15.3281 14 14.5V13.7C14 11.3813 12.1187 9.5 9.8 9.5ZM12.5 14.5H1.5V13.7C1.5 12.2125 2.7125 11 4.2 11C4.65625 11 5.39687 11.5 7 11.5C8.61563 11.5 9.34062 11 9.8 11C11.2875 11 12.5 12.2125 12.5 13.7V14.5ZM7 9C9.48438 9 11.5 6.98438 11.5 4.5C11.5 2.01562 9.48438 0 7 0C4.51562 0 2.5 2.01562 2.5 4.5C2.5 6.98438 4.51562 9 7 9ZM7 1.5C8.65312 1.5 10 2.84687 10 4.5C10 6.15312 8.65312 7.5 7 7.5C5.34688 7.5 4 6.15312 4 4.5C4 2.84687 5.34688 1.5 7 1.5Z' fill='%235082E6'/%3E%3C/svg%3E\");\n    }\n    .kedo-menu__list-item-text {\n        margin: 0;\n        padding-left: 16px;\n        color: #323232;\n        font-size: 16px;\n        line-height: 140%;\n    }\n    .kedo-menu__footer {\n        color: #d7dee3;\n        font-size: 12px;\n        line-height: 140%;\n\n        padding: 0 30px;\n    }\n    .user-page__info-popup {\n        display: none;\n    }\n\n    @media (max-width: 930px) {\n        .kedo-menu {\n            height: auto;\n            min-height: auto;\n            background: #fff;\n            padding: 0;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            position: fixed;\n            bottom: 0;\n            z-index: 100;\n        }\n        .kedo-menu__list {\n            width: 100vw;\n            margin: 0;\n            padding: 4px 16px 0;\n            display: flex;\n            gap: 24px;\n            flex-wrap: nowrap;\n            justify-content: space-evenly;\n            border-top: 1px solid #979797;\n        }\n\n        .kedo-menu__list::-webkit-scrollbar {\n            display: none; \n        }\n        .kedo-menu__list-item {\n            width: auto;\n            padding: 6px 0 8px;\n            display: none;\n            align-items: center;\n            justify-content: center;\n            flex-direction: column;\n            flex-grow: 1;\n            position: relative;\n        }\n\n        .message-counter {\n            \n        }\n\n        .kedo-menu__list-item.adaptive {\n            display: flex\n        }\n\n        .kedo-menu__list-item--active {\n            background: #fff;\n        }\n\n        .kedo-menu__list-item--active .kedo-menu__list-item-text {\n            color: #5082E6;\n        }\n        \n\n        .kedo-menu__list-item-icon {\n            width: 24px;\n            height: 24px;\n        }\n\n        .kedo-menu__list-item--active .kedo-menu__list-item-icon.icon-main {\n\t        background-image: url(\"data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 22 18' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M21.7797 8.66457L12.3697 0.757926C11.985 0.43035 11.5002 0.250977 10.9997 0.250977C10.4991 0.250977 10.0143 0.43035 9.62963 0.757926L0.219661 8.66457C0.158114 8.71725 0.107316 8.78181 0.0701674 8.85457C0.0330191 8.92733 0.010248 9.00686 0.00315457 9.08862C-0.00393889 9.17038 0.00478414 9.25277 0.0288256 9.33108C0.052867 9.40939 0.0917559 9.48209 0.143272 9.54504L0.534383 10.0255C0.638401 10.1525 0.787472 10.2321 0.948831 10.2467C1.11019 10.2614 1.27064 10.2099 1.3949 10.1036L2.4441 9.22238V16.5001C2.44501 16.8313 2.57407 17.1488 2.80309 17.383C3.0321 17.6172 3.34245 17.7492 3.66633 17.7501H8.55522C8.87909 17.7492 9.18944 17.6172 9.41846 17.383C9.64747 17.1488 9.77653 16.8313 9.77744 16.5001V12.4376H12.2219V16.5001C12.2228 16.8313 12.3518 17.1488 12.5809 17.383C12.8099 17.6172 13.1202 17.7492 13.4441 17.7501H18.333C18.6554 17.7494 18.9644 17.6188 19.1932 17.3865C19.422 17.1543 19.5521 16.8392 19.5552 16.5095V9.2216L20.6067 10.1052C20.731 10.2115 20.8914 10.2629 21.0528 10.2483C21.2141 10.2336 21.3632 10.1541 21.4672 10.0271L21.858 9.54699C21.9097 9.48387 21.9487 9.41094 21.9727 9.33236C21.9968 9.25379 22.0054 9.17113 21.9981 9.08913C21.9908 9.00714 21.9678 8.92742 21.9303 8.85456C21.8928 8.7817 21.8416 8.71713 21.7797 8.66457ZM17.7162 15.8751H14.0552V11.8126C14.0543 11.4814 13.9252 11.164 13.6962 10.9298C13.4672 10.6955 13.1569 10.5635 12.833 10.5626H9.16633C8.84245 10.5635 8.5321 10.6955 8.30309 10.9298C8.07407 11.164 7.94501 11.4814 7.9441 11.8126V15.8751H4.27744V7.68253L10.9997 2.03332L17.7219 7.68019L17.7162 15.8751Z' fill='%235082E6'/%3E%3C/svg%3E%0A\");\n        }\n\n        .kedo-menu__list-item-icon.icon-main {\n\t        background-image: url(\"data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 22 18' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M21.7797 8.66457L12.3697 0.757926C11.985 0.43035 11.5002 0.250977 10.9997 0.250977C10.4991 0.250977 10.0143 0.43035 9.62963 0.757926L0.219661 8.66457C0.158114 8.71725 0.107316 8.78181 0.0701674 8.85457C0.0330191 8.92733 0.010248 9.00686 0.00315457 9.08862C-0.00393889 9.17038 0.00478414 9.25277 0.0288256 9.33108C0.052867 9.40939 0.0917559 9.48209 0.143272 9.54504L0.534383 10.0255C0.638401 10.1525 0.787472 10.2321 0.948831 10.2467C1.11019 10.2614 1.27064 10.2099 1.3949 10.1036L2.4441 9.22238V16.5001C2.44501 16.8313 2.57407 17.1488 2.80309 17.383C3.0321 17.6172 3.34245 17.7492 3.66633 17.7501H8.55522C8.87909 17.7492 9.18944 17.6172 9.41846 17.383C9.64747 17.1488 9.77653 16.8313 9.77744 16.5001V12.4376H12.2219V16.5001C12.2228 16.8313 12.3518 17.1488 12.5809 17.383C12.8099 17.6172 13.1202 17.7492 13.4441 17.7501H18.333C18.6554 17.7494 18.9644 17.6188 19.1932 17.3865C19.422 17.1543 19.5521 16.8392 19.5552 16.5095V9.2216L20.6067 10.1052C20.731 10.2115 20.8914 10.2629 21.0528 10.2483C21.2141 10.2336 21.3632 10.1541 21.4672 10.0271L21.858 9.54699C21.9097 9.48387 21.9487 9.41094 21.9727 9.33236C21.9968 9.25379 22.0054 9.17113 21.9981 9.08913C21.9908 9.00714 21.9678 8.92742 21.9303 8.85456C21.8928 8.7817 21.8416 8.71713 21.7797 8.66457ZM17.7162 15.8751H14.0552V11.8126C14.0543 11.4814 13.9252 11.164 13.6962 10.9298C13.4672 10.6955 13.1569 10.5635 12.833 10.5626H9.16633C8.84245 10.5635 8.5321 10.6955 8.30309 10.9298C8.07407 11.164 7.94501 11.4814 7.9441 11.8126V15.8751H4.27744V7.68253L10.9997 2.03332L17.7219 7.68019L17.7162 15.8751Z' fill='%23979797'/%3E%3C/svg%3E%0A\");\n        }\n\n        .kedo-menu__list-item--active .kedo-menu__list-item-icon.icon-profile {\n\t        background-image: url(\"data:image/svg+xml,%3Csvg width='16' height='14' viewBox='0 0 14 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M9.8 9.5C8.90312 9.5 8.47188 10 7 10C5.52812 10 5.1 9.5 4.2 9.5C1.88125 9.5 0 11.3813 0 13.7V14.5C0 15.3281 0.671875 16 1.5 16H12.5C13.3281 16 14 15.3281 14 14.5V13.7C14 11.3813 12.1187 9.5 9.8 9.5ZM12.5 14.5H1.5V13.7C1.5 12.2125 2.7125 11 4.2 11C4.65625 11 5.39687 11.5 7 11.5C8.61563 11.5 9.34062 11 9.8 11C11.2875 11 12.5 12.2125 12.5 13.7V14.5ZM7 9C9.48438 9 11.5 6.98438 11.5 4.5C11.5 2.01562 9.48438 0 7 0C4.51562 0 2.5 2.01562 2.5 4.5C2.5 6.98438 4.51562 9 7 9ZM7 1.5C8.65312 1.5 10 2.84687 10 4.5C10 6.15312 8.65312 7.5 7 7.5C5.34688 7.5 4 6.15312 4 4.5C4 2.84687 5.34688 1.5 7 1.5Z' fill='%235082E6'/%3E%3C/svg%3E\");\n        }\n\n        .kedo-menu__list-item-icon.icon-profile {\n\t        background-image: url(\"data:image/svg+xml,%3Csvg width='16' height='14' viewBox='0 0 14 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M9.8 9.5C8.90312 9.5 8.47188 10 7 10C5.52812 10 5.1 9.5 4.2 9.5C1.88125 9.5 0 11.3813 0 13.7V14.5C0 15.3281 0.671875 16 1.5 16H12.5C13.3281 16 14 15.3281 14 14.5V13.7C14 11.3813 12.1187 9.5 9.8 9.5ZM12.5 14.5H1.5V13.7C1.5 12.2125 2.7125 11 4.2 11C4.65625 11 5.39687 11.5 7 11.5C8.61563 11.5 9.34062 11 9.8 11C11.2875 11 12.5 12.2125 12.5 13.7V14.5ZM7 9C9.48438 9 11.5 6.98438 11.5 4.5C11.5 2.01562 9.48438 0 7 0C4.51562 0 2.5 2.01562 2.5 4.5C2.5 6.98438 4.51562 9 7 9ZM7 1.5C8.65312 1.5 10 2.84687 10 4.5C10 6.15312 8.65312 7.5 7 7.5C5.34688 7.5 4 6.15312 4 4.5C4 2.84687 5.34688 1.5 7 1.5Z' fill='%235082E6'/%3E%3C/svg%3E\");\n        }\n\n        .kedo-menu__list-item-icon.icon-documents { \n\t        background-image: url(\"data:image/svg+xml,%3Csvg width='25' height='24' viewBox='0 0 25 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M16.21 10.6875V11.7812C16.21 12.0391 15.999 12.25 15.7412 12.25H9.17871C8.9209 12.25 8.70996 12.0391 8.70996 11.7812V10.6875C8.70996 10.4297 8.9209 10.2188 9.17871 10.2188H15.7412C15.999 10.2188 16.21 10.4297 16.21 10.6875ZM15.7412 13.5H9.17871C8.9209 13.5 8.70996 13.7109 8.70996 13.9688V15.0625C8.70996 15.3203 8.9209 15.5312 9.17871 15.5312H15.7412C15.999 15.5312 16.21 15.3203 16.21 15.0625V13.9688C16.21 13.7109 15.999 13.5 15.7412 13.5ZM19.96 6.15234V19.125C19.96 20.1602 19.1201 21 18.085 21H6.83496C5.7998 21 4.95996 20.1602 4.95996 19.125V2.875C4.95996 1.83984 5.7998 1 6.83496 1H14.8076C15.3037 1 15.7803 1.19922 16.1318 1.55078L19.4092 4.82812C19.7607 5.17578 19.96 5.65625 19.96 6.15234ZM14.96 3.02734V6H17.9326L14.96 3.02734ZM18.085 19.125V7.875H14.0225C13.5029 7.875 13.085 7.45703 13.085 6.9375V2.875H6.83496V19.125H18.085Z' fill='%23979797'/%3E%3C/svg%3E\");\n        }\n\n        .kedo-menu__list-item--active .kedo-menu__list-item-icon.icon-documents { \n             background-image: url(\"data:image/svg+xml,%3Csvg width='25' height='24' viewBox='0 0 25 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M16.21 10.6875V11.7812C16.21 12.0391 15.999 12.25 15.7412 12.25H9.17871C8.9209 12.25 8.70996 12.0391 8.70996 11.7812V10.6875C8.70996 10.4297 8.9209 10.2188 9.17871 10.2188H15.7412C15.999 10.2188 16.21 10.4297 16.21 10.6875ZM15.7412 13.5H9.17871C8.9209 13.5 8.70996 13.7109 8.70996 13.9688V15.0625C8.70996 15.3203 8.9209 15.5312 9.17871 15.5312H15.7412C15.999 15.5312 16.21 15.3203 16.21 15.0625V13.9688C16.21 13.7109 15.999 13.5 15.7412 13.5ZM19.96 6.15234V19.125C19.96 20.1602 19.1201 21 18.085 21H6.83496C5.7998 21 4.95996 20.1602 4.95996 19.125V2.875C4.95996 1.83984 5.7998 1 6.83496 1H14.8076C15.3037 1 15.7803 1.19922 16.1318 1.55078L19.4092 4.82812C19.7607 5.17578 19.96 5.65625 19.96 6.15234ZM14.96 3.02734V6H17.9326L14.96 3.02734ZM18.085 19.125V7.875H14.0225C13.5029 7.875 13.085 7.45703 13.085 6.9375V2.875H6.83496V19.125H18.085Z' fill='%235082E6'/%3E%3C/svg%3E\");\n        }\n\n        .kedo-menu__list-item-icon.icon-services {\n\t        background-image: url(\"data:image/svg+xml,%3Csvg width='25' height='24' viewBox='0 0 25 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cg%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M19.8667 4H15.6867C15.2667 2.84 14.1667 2 12.8667 2C11.5667 2 10.4667 2.84 10.0467 4H5.8667C5.7267 4 5.5967 4.01 5.4667 4.04C5.0767 4.12 4.7267 4.32 4.4567 4.59C4.2767 4.77 4.1267 4.99 4.0267 5.23C3.9267 5.46 3.8667 5.72 3.8667 6V20C3.8667 20.27 3.9267 20.54 4.0267 20.78C4.1267 21.02 4.2767 21.23 4.4567 21.42C4.7267 21.69 5.0767 21.89 5.4667 21.97C5.5967 21.99 5.7267 22 5.8667 22H19.8667C20.9667 22 21.8667 21.1 21.8667 20V6C21.8667 4.9 20.9667 4 19.8667 4ZM12.8667 3.75C13.2767 3.75 13.6167 4.09 13.6167 4.5C13.6167 4.91 13.2767 5.25 12.8667 5.25C12.4567 5.25 12.1167 4.91 12.1167 4.5C12.1167 4.09 12.4567 3.75 12.8667 3.75ZM5.8667 6V20H19.8667V6H5.8667Z' fill='%23979797'/%3E%3Cpath d='M12.1332 9.63299L12.3217 9.45287L12.1338 9.27208L11.6638 8.81985L11.4911 8.65365L11.3177 8.81924L9.29345 10.7533L8.6028 10.096L8.43012 9.93163L8.25775 10.0963L7.78775 10.5454L7.59855 10.7261L7.78775 10.9069L9.12108 12.1808L9.29378 12.3458L9.46648 12.1808L12.1332 9.63299Z' fill='%23979797' stroke='%23979797' stroke-width='0.5'/%3E%3Crect x='13.9604' y='10' width='4' height='2' fill='%23979797'/%3E%3Crect x='11.9604' y='15' width='6' height='2' fill='%23979797'/%3E%3Crect x='7.96045' y='15' width='2' height='2' fill='%23979797'/%3E%3C/g%3E%3C/svg%3E\");\n        }\n\n        .kedo-menu__list-item--active .kedo-menu__list-item-icon.icon-services {\n\t        background-image: url(\"data:image/svg+xml,%3Csvg width='25' height='24' viewBox='0 0 25 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cg%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M19.8667 4H15.6867C15.2667 2.84 14.1667 2 12.8667 2C11.5667 2 10.4667 2.84 10.0467 4H5.8667C5.7267 4 5.5967 4.01 5.4667 4.04C5.0767 4.12 4.7267 4.32 4.4567 4.59C4.2767 4.77 4.1267 4.99 4.0267 5.23C3.9267 5.46 3.8667 5.72 3.8667 6V20C3.8667 20.27 3.9267 20.54 4.0267 20.78C4.1267 21.02 4.2767 21.23 4.4567 21.42C4.7267 21.69 5.0767 21.89 5.4667 21.97C5.5967 21.99 5.7267 22 5.8667 22H19.8667C20.9667 22 21.8667 21.1 21.8667 20V6C21.8667 4.9 20.9667 4 19.8667 4ZM12.8667 3.75C13.2767 3.75 13.6167 4.09 13.6167 4.5C13.6167 4.91 13.2767 5.25 12.8667 5.25C12.4567 5.25 12.1167 4.91 12.1167 4.5C12.1167 4.09 12.4567 3.75 12.8667 3.75ZM5.8667 6V20H19.8667V6H5.8667Z' fill='%235082E6'/%3E%3Cpath d='M12.1332 9.63299L12.3217 9.45287L12.1338 9.27208L11.6638 8.81985L11.4911 8.65365L11.3177 8.81924L9.29345 10.7533L8.6028 10.096L8.43012 9.93163L8.25775 10.0963L7.78775 10.5454L7.59855 10.7261L7.78775 10.9069L9.12108 12.1808L9.29378 12.3458L9.46648 12.1808L12.1332 9.63299Z' fill='%235082E6' stroke='%235082E6' stroke-width='0.5'/%3E%3Crect x='13.9604' y='10' width='4' height='2' fill='%235082E6'/%3E%3Crect x='11.9604' y='15' width='6' height='2' fill='%235082E6'/%3E%3Crect x='7.96045' y='15' width='2' height='2' fill='%235082E6'/%3E%3C/g%3E%3C/svg%3E\");\n        }\n\n        .kedo-kedo-menu__list-item-icon.icon-more {\n\t        background-image: url(\"data:image/svg+xml,%3Csvg width='25' height='24' viewBox='0 0 25 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cg id='dehaze_24px'%3E%3Cpath id='icon/image/dehaze_24px' fill-rule='evenodd' clip-rule='evenodd' d='M2.97314 7V5H22.9731V7H2.97314ZM2.97314 11V13H22.9731V11H2.97314ZM2.97314 17V19H22.9731V17H2.97314Z' fill='%23979797'/%3E%3C/g%3E%3C/svg%3E\");\n        }\n\n        .kedo-menu__list-item--active .kedo-menu__list-item-icon.icon-more {\n\t        background-image: url(\"data:image/svg+xml,%3Csvg width='25' height='24' viewBox='0 0 25 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cg id='dehaze_24px'%3E%3Cpath id='icon/image/dehaze_24px' fill-rule='evenodd' clip-rule='evenodd' d='M2.97314 7V5H22.9731V7H2.97314ZM2.97314 11V13H22.9731V11H2.97314ZM2.97314 17V19H22.9731V17H2.97314Z' fill='%235082E6'/%3E%3C/g%3E%3C/svg%3E\");\n        }\n\n        .kedo-menu__list-item-text {\n            padding: 0;\n            padding-top: 4px;\n            white-space: nowrap;\n            font-weight: 500;\n            font-size: 10px;\n            line-height: 12px;\n            color: #979797;\n            letter-spacing: -0.241177px;\n        }\n        .kedo-menu__footer {\n            display: none;\n        }\n\n        .user-info-popup {\n            position: fixed;\n            top: 0;\n            left: 0;\n            z-index: 50;\n\n            height: calc(100vh - 59px);\n            width: 100vw;\n\n            background-color: #f2f8fc;\n            display: none;\n            flex-direction: column;\n        }\n        .user-info-popup--active {\n            display: flex;\n        }\n        .user-info-popup__user-card {\n            padding: 22px 20px;\n            width: 100%;\n            display: flex;\n        }\n        .user-info-popup__avatar {\n            width: 42px;\n            height: 42px;\n            border-radius: 100%;\n            background-color: #5082E6;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n        }\n        .user-info-popup__avatar div {\n            font-size: 14px;\n            color: #fff;\n        }\n        .user-info-popup__name-container {\n            padding-left: 12px;\n        }\n        .user-info-popup__user-name {\n            margin: 0;\n            color: #000;\n            font-weight: 600;\n            font-size: 14px;\n            line-height: 22px;\n        }\n        .user-info-popup__user-company-name {\n            margin: 0;\n            color: #323232;\n            font-weight: 400;\n            font-size: 12px;\n            line-height: 20px;\n        }\n        .user-info-popup__nav {\n            width: 100%;\n            flex-grow: 1;\n\n            background-color: #fff;\n            border-radius: 30px 30px 0px 0px;\n            padding: 26px 0 0 0;\n        }\n        .user-info-popup__nav-item {\n            display: flex;\n            align-items: center;\n            padding: 11px 22px;\n        }\n\n        .user-info-popup__nav-item:active {\n            background-color: #f2f8fc;\n        }\n        .user-info-popup__icon-container {\n            min-width: 32px;\n            min-height: 32px;\n            background-color: #f2f8fc;\n            border-radius: 100%;\n\n            display: flex;\n            justify-content: center;\n            align-items: center;\n        }\n        .user-info-popup__icon-container--clear {\n            background-color: white;\n        }\n        .user-info-popup__nav-item-text {\n            margin: 0;\n            padding-left: 14px;\n            font-weight: 400;\n            font-size: 18px;\n            line-height: 32px;\n            color: #5082E6\n        }\n\n        .user-info-popup__vacations-and-trips .user-info-popup__nav-item-text {\n            color: #000;\n        }\n    }\n\u003c/style\u003e","hideContent":true}},{"id":"33871152-e57a-46c5-a1af-3c0ed320278a","descriptor":"code","values":{"hideContent":true,"contentPlaceholder":"Render init","html":"<% Scripts.init() %>"}}]}},"fields":[{"code":"menu_main_active","type":"BOOLEAN","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":false,"calcByFormula":false,"formula":"","data":{},"view":{"name":"Главное меню активно","data":{"additionalType":"radio","noValue":"Нет","yesValue":"Да"},"input":false,"output":false}},{"code":"menu_documents_active","type":"BOOLEAN","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":true,"calcByFormula":false,"formula":"","data":{},"view":{"name":"Мои документы активны","data":{"additionalType":"radio","noValue":"Нет","yesValue":"Да"},"input":false,"output":false}},{"code":"menu_services_active","type":"BOOLEAN","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":true,"calcByFormula":false,"formula":"","data":{},"view":{"name":"Мои сервисы активны","data":{"additionalType":"radio","noValue":"Нет","yesValue":"Да"},"input":false,"output":false}},{"code":"menu_vacation_active","type":"BOOLEAN","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":true,"calcByFormula":false,"formula":"","data":{},"view":{"name":"Мои отпуска активны","data":{"additionalType":"radio","noValue":"Нет","yesValue":"Да"},"input":false}},{"code":"menu_trips_active","type":"BOOLEAN","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":true,"calcByFormula":false,"formula":"","data":{},"view":{"name":"Мои командировки активны","data":{"additionalType":"radio","noValue":"Нет","yesValue":"Да"},"input":false}},{"code":"hide_my_services","type":"BOOLEAN","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":false,"calcByFormula":false,"formula":"","data":{},"view":{"name":"Скрыть мои сервисы","data":{"additionalType":"radio","noValue":"Нет","yesValue":"Да"},"input":false}},{"code":"show_service_cards","type":"BOOLEAN","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":false,"calcByFormula":false,"formula":"","data":{},"view":{"name":"Показать карточки сервисов","data":{"additionalType":"radio","noValue":"Нет","yesValue":"Да"},"input":false}},{"code":"hide_my_documents","type":"BOOLEAN","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":false,"calcByFormula":false,"formula":"","data":{},"view":{"name":"Скрыть мои документы","data":{"additionalType":"radio","noValue":"Нет","yesValue":"Да"},"input":false}},{"code":"show_search_in_my_documents","type":"BOOLEAN","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":false,"calcByFormula":false,"formula":"","data":{},"view":{"name":"Показать поиск по документам","data":{"additionalType":"radio","noValue":"Нет","yesValue":"Да"},"input":false}},{"code":"user_application","type":"SYS_COLLECTION","searchable":false,"indexed":false,"deleted":false,"array":true,"required":false,"single":true,"defaultValue":null,"calcByFormula":false,"formula":"","data":{"code":"staff","filter":{"value":{"tf":{}},"enabled":false},"bindings":null,"namespace":"kedo","isDependent":false,"linkedFieldCode":""},"view":{"name":"Карточка сотрудника","data":{},"input":false}},{"code":"current_user","type":"SYS_USER","searchable":false,"indexed":false,"deleted":false,"array":true,"required":false,"single":true,"defaultValue":null,"calcByFormula":false,"formula":"","data":{"filter":{"value":{"tf":{}},"enabled":false}},"view":{"name":"Пользователь","data":{},"input":false}},{"code":"menu_more_active","type":"BOOLEAN","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":true,"calcByFormula":false,"formula":"","data":{},"view":{"name":"Еще активно","data":{"additionalType":"radio","noValue":"Нет","yesValue":"Да"},"input":false,"output":false}},{"code":"user_display_name","type":"STRING","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":null,"calcByFormula":false,"formula":"","data":{},"view":{"name":"Отображаемое имя пользователя","data":{"additionalType":"string"},"input":false,"output":false}},{"code":"company_display_name","type":"STRING","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":null,"calcByFormula":false,"formula":"","data":{},"view":{"name":"Отображаемое название компании","data":{"additionalType":"string"},"input":false,"output":false}},{"code":"is_vacations_active","type":"BOOLEAN","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":true,"calcByFormula":false,"formula":"","data":{},"view":{"name":"Отпуска активны","data":{"additionalType":"radio","noValue":"Нет","yesValue":"Да"},"input":false}},{"code":"is_trips_active","type":"BOOLEAN","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":true,"calcByFormula":false,"formula":"","data":{},"view":{"name":"Командировки активны","data":{"additionalType":"radio","noValue":"Нет","yesValue":"Да"},"input":false}},{"code":"parameters_set","type":"BOOLEAN","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":false,"calcByFormula":false,"formula":"","data":{},"view":{"name":"Параметры заданы","data":{"additionalType":"radio","noValue":"Нет","yesValue":"Да"},"input":false,"output":false}},{"code":"hide_right_column","type":"BOOLEAN","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":false,"calcByFormula":false,"formula":"","data":{},"view":{"name":"Скрыть правую колонку","data":{"additionalType":"radio","noValue":"Нет","yesValue":"Да"},"input":false}},{"code":"token","type":"STRING","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":null,"calcByFormula":false,"formula":"","data":{},"view":{"name":"Токен","data":{"additionalType":"string"},"input":false}},{"code":"is_user_data_rendered","type":"BOOLEAN","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":false,"calcByFormula":false,"formula":"","data":{},"view":{"name":"Данные пользователя добавлены","data":{"additionalType":"radio","noValue":"Нет","yesValue":"Да"},"input":false,"output":false}},{"code":"entity","type":"STRING","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":null,"calcByFormula":false,"formula":"","data":{},"view":{"name":"Название компании","data":{"additionalType":"string"},"input":false,"output":false}},{"code":"trips_button_active","type":"BOOLEAN","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":false,"calcByFormula":false,"formula":"","data":{},"view":{"name":"Командировки слушатели активны","data":{"additionalType":"radio","noValue":"Нет","yesValue":"Да"},"input":true,"output":true}},{"code":"vacation_button_active","type":"BOOLEAN","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":false,"calcByFormula":false,"formula":"","data":{},"view":{"name":"Отпуска слушатели активны","data":{"additionalType":"radio","noValue":"Нет","yesValue":"Да"}}},{"code":"settings","type":"SYS_COLLECTION","searchable":false,"indexed":false,"deleted":false,"array":true,"required":false,"single":true,"defaultValue":null,"calcByFormula":false,"formula":"","data":{"code":"settings","filter":{"value":{"tf":{}},"enabled":false},"bindings":null,"namespace":"kedo","isDependent":false,"linkedFieldCode":""},"view":{"name":"Натройки","data":{}}},{"code":"menu_my_profile_active","type":"BOOLEAN","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":true,"calcByFormula":false,"formula":"","data":{},"view":{"name":"Мой профиль","data":{"additionalType":"radio","noValue":"Нет","yesValue":"Да"}}},{"code":"my_profile_choose","type":"BOOLEAN","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":false,"calcByFormula":false,"formula":"","data":{},"view":{"name":"Мой профиль активек","data":{"additionalType":"radio","noValue":"Нет","yesValue":"Да"}}},{"code":"my_profile_button_active","type":"BOOLEAN","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":false,"calcByFormula":false,"formula":"","data":{},"view":{"name":"Мой профиль слушатели активны","data":{"additionalType":"radio","noValue":"Нет","yesValue":"Да"}}},{"code":"menu_absence_monitor_active","type":"BOOLEAN","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":true,"calcByFormula":false,"formula":"","data":{},"view":{"name":"График отсутствий активен","data":{"additionalType":"radio","noValue":"Нет","yesValue":"Да"},"input":false,"output":false}},{"code":"show_absence_monitor","type":"BOOLEAN","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":false,"calcByFormula":false,"formula":"","data":{},"view":{"name":"Показать график отсутствий","data":{"additionalType":"radio","noValue":"Нет","yesValue":"Да"},"input":false}}],"fieldVisibilityConditions":{"token":{"enabled":false,"conditions":[]},"entity":{"enabled":false,"conditions":[]},"settings":{"enabled":false,"conditions":[]},"current_user":{"enabled":false,"conditions":[]},"parameters_set":{"enabled":false,"conditions":[]},"is_trips_active":{"enabled":false,"conditions":[]},"hide_my_services":{"enabled":false,"conditions":[]},"menu_main_active":{"enabled":false,"conditions":[]},"menu_more_active":{"enabled":false,"conditions":[]},"user_application":{"enabled":false,"conditions":[]},"hide_my_documents":{"enabled":false,"conditions":[]},"hide_right_column":{"enabled":false,"conditions":[]},"menu_trips_active":{"enabled":false,"conditions":[]},"my_profile_choose":{"enabled":false,"conditions":[]},"user_display_name":{"enabled":false,"conditions":[]},"show_service_cards":{"enabled":false,"conditions":[]},"is_vacations_active":{"enabled":false,"conditions":[]},"trips_button_active":{"enabled":false,"conditions":[]},"company_display_name":{"enabled":false,"conditions":[]},"menu_services_active":{"enabled":false,"conditions":[]},"menu_vacation_active":{"enabled":false,"conditions":[]},"show_absence_monitor":{"enabled":false,"conditions":[]},"is_user_data_rendered":{"enabled":false,"conditions":[]},"menu_documents_active":{"enabled":false,"conditions":[]},"menu_my_profile_active":{"enabled":false,"conditions":[]},"vacation_button_active":{"enabled":false,"conditions":[]},"my_profile_button_active":{"enabled":false,"conditions":[]},"menu_absence_monitor_active":{"enabled":false,"conditions":[]},"show_search_in_my_documents":{"enabled":false,"conditions":[]}},"scriptOptions":{},"clientScripts":"declare const document: any, console: any, menuFooterText: any, window: any;\n\ninterface MenuItem {\n    title: string;\n    breakPoint?: number;\n    iconClass: string;\n    contextVariable: string;\n    contextCondition?: string; \n    adaptiveOnly?: boolean;\n    isAdaptive: boolean;\n    onClick?: () =\u003e any;\n    onChange?: () =\u003e any;\n}\n\nlet userApp: ApplicationItem\u003cApplication$kedo$staff$Data,Application$kedo$staff$Params\u003e|undefined = undefined;\nlet currentUser: any = undefined;\nconst host = window.location.host;\nlet isPopupShown: boolean = false;\nconst breakPoint = 930\n\n\nconst toggleInfoPopup = () =\u003e {\n    isPopupShown = !isPopupShown;\n    const popup = document.querySelector(\".user-info-popup\");\n    popup.classList.toggle(\"user-info-popup--active\")\n}\n\nconst menuObject: MenuItem[] = [\n    {\n        title: \"Главная\",\n        iconClass: \"icon-main\",\n        contextVariable: \"menu_main_active\",\n        isAdaptive: false,\n    },\n    {\n        title: \"Мои документы\",\n        iconClass: \"icon-documents\",\n        contextVariable: \"menu_documents_active\",\n        isAdaptive: false,\n    },\n    {\n        title: \"Сервисы\",\n        iconClass: \"icon-services\",\n        contextVariable: \"menu_services_active\",\n        isAdaptive: false,\n    },\n    {\n        title: \"Отпуска\",\n        iconClass: \"icon-vacations\",\n        contextVariable: \"menu_vacation_active\",\n        contextCondition: \"is_vacations_active\",\n        isAdaptive: false,\n    },\n    {\n        title: \"Командировки\",\n        iconClass: \"icon-business-trips\",\n        contextVariable: \"menu_trips_active\",\n        contextCondition: \"is_trips_active\",\n        isAdaptive: false,\n    },\n    {\n        title: \"График отсутствий\",\n        iconClass: \"icon-monitor\",\n        contextVariable: \"menu_absence_monitor_active\",\n        isAdaptive: false    \n    },\n    {\n        title: \"Мой профиль\",\n        iconClass: \"icon-profile\",\n        contextVariable: \"menu_my_profile_active\",\n        isAdaptive: false    \n    },\n    {\n        title: \"Главная\",\n        iconClass: \"icon-main\",\n        contextVariable: \"menu_main_active\",\n        isAdaptive: true,\n    },\n    {\n        title: \"Документы\",\n        iconClass: \"icon-documents\",\n        contextVariable: \"menu_documents_active\",\n        isAdaptive: true,\n    },\n    {\n        title: \"Сервисы\",\n        iconClass: \"icon-services\",\n        contextVariable: \"menu_services_active\",\n        isAdaptive: true,\n    },\n    {\n        title: \"Еще\",\n        iconClass: \"icon-more\",\n        contextVariable: \"menu_more_active\",\n        adaptiveOnly: true,\n        onClick: toggleInfoPopup,\n        isAdaptive: true,\n    },\n\n];\n\nlet root: any\nlet menuItemTemplate: any\n\nasync function init(): Promise\u003cvoid\u003e {\n    window.setTimeout(async() =\u003e {\n        await initMenu();\n    }, 200)\n}\n\nasync function initMenu(): Promise\u003cvoid\u003e {\n    if (!Context.data.parameters_set) {\n        await Server.rpc.getNamespaceParams()\n    }\n    root = document.querySelector(\".kedo-menu__list\");\n    menuItemTemplate = document.querySelector(\".kedo-menu__list-item-template\");\n    root.innerHTML = \"\"\n    for (let i = 0; i \u003c menuObject.length; i++) {\n        const isAdaptive = menuObject[i].isAdaptive\n\n        if (!!menuObject[i].contextCondition) {            \n            const condition = Context.data[menuObject[i].contextCondition!]\n            if (!condition) continue;\n        }\n\n\n        const element = menuItemTemplate.content.cloneNode(true);\n\n        //title\n        const title = element.querySelector(\".kedo-menu__list-item-text\");\n        title.innerText = menuObject[i].title;\n\n        //icon \n        const icon = element.querySelector(\".kedo-menu__list-item-icon\");\n        icon.classList.add(menuObject[i].iconClass)\n        \n        const container = element.querySelector(\".kedo-menu__list-item\");\n        if (isAdaptive) {\n            container.classList.add('adaptive')\n        }\n\n        //status\n        if (!Context.data[menuObject[i].contextVariable]) {\n            container?.classList.add(\"kedo-menu__list-item--active\")\n        }\n\n        container.addEventListener(\"click\", (e: any) =\u003e {\n            if (!Context.data[menuObject[i].contextVariable]) {\n                return;\n            };\n                \n            if (isPopupShown) {\n                toggleInfoPopup();\n            } else if (!!menuObject[i].onClick){\n                //@ts-ignore\n                menuObject[i]!.onClick()\n            }\n            changeActiveItem(menuObject[i].contextVariable)\n        })\n\n        root.append(element);\n    }   \n\n    //footer \n    const footerElement = document.querySelector(\".kedo-menu__footer\");\n    footerElement.innerText = menuFooterText;\n\n    if(!currentUser){\n        try{\n            await findUserAppByExternalUser();\n        }\n        catch(err){\n            console.error(err);\n            return;\n        }\n    }\n\n    if (!Context.data.is_user_data_rendered \u0026\u0026 currentUser) {\n        let userFirstName: string = '';\n        let userLastName: string = '';\n        let userFirm: string = '';\n        await Server.rpc.getUserEntity()\n\n        const popup = document.querySelector('.user-page__info-popup.user-info-popup');\n        const nameEl = popup.querySelector('.user-info-popup__user-name');\n        const companyNameEl = popup.querySelector('.user-info-popup__user-company-name');\n        const avatar = popup.querySelector(\".user-info-popup__avatar div\");\n\n        if(currentUser.data.fullname){\n            userFirstName = !currentUser.data.fullname!.firstname ? 'No firstname' : currentUser.data.fullname!.firstname;\n            userLastName = !currentUser.data.fullname!.lastname ? 'No lastname' : currentUser.data.fullname!.lastname;\n        }\n        if(Context.data.entity){\n            userFirm = Context.data.entity;\n        }\n\n        avatar.innerText = userFirstName ? userFirstName[0] : ''\n        nameEl.innerText = userFirstName + ' ' + userLastName;\n        companyNameEl.innerText = userFirm;\n\n\n        Context.data.is_user_data_rendered = true;\n    }\n\n    if(userApp) {\n        if(userApp.data.__status!.name !== userApp.fields.__status.variants.signed_documents.name){\n            window.location = `https://${host}/_portal/kedo_ext/_start_page`;\n            return;\n        }\n\n        const popup = document.querySelector(\".user-info-popup\");\n        if (!Context.data.is_vacations_active) {\n            const  vacationsContainer = document.querySelector(\".user-info-popup__vacations\");\n            vacationsContainer?.remove();\n        } else if(!Context.data.vacation_button_active) {\n            const vacationsBtn = document.querySelector('.user-info-popup__nav_item--vacations')\n            vacationsBtn.addEventListener('click', () =\u003e {\n                toggleInfoPopup();\n                changeActiveItem(\"menu_vacation_active\")\n            })\n            Context.data.vacation_button_active = true\n        }\n\n        if (!Context.data.my_profile_button_active) {\n            let profileButton = document.querySelector(\".user-info-popup__nav_item--profile\");\n            if (profileButton) {\n                profileButton.addEventListener(\"click\", () =\u003e {\n                    toggleInfoPopup();\n                    changeActiveItem(\"menu_my_profile_active\")\n                });\n            };\n            Context.data.my_profile_button_active = true;\n        }\n\n        // Context.data.my_profile_choose = true;\n\n        if (!Context.data.is_trips_active) {\n            const  tripsContainer = document.querySelector(\".user-info-popup__trips\");\n            tripsContainer?.remove();\n        } else if (!Context.data.trips_button_active) {\n            const tripsBtn = document.querySelector('.user-info-popup__nav_item--trips')\n            tripsBtn.addEventListener('click', () =\u003e {\n                toggleInfoPopup();\n                changeActiveItem(\"menu_trips_active\")\n            })\n            Context.data.trips_button_active = true\n        }\n        const exitBtn = document.querySelector(\".user-info-popup__nav_item--exit\");\n        exitBtn.addEventListener(\"click\", async () =\u003e {\n            let currentExternalUser: CurrentUserItem|undefined = undefined;\n\n            try{\n                currentExternalUser = await System.users.getCurrentUser();\n            }\n            catch(err){\n                throw new Error(`System.users.getCurrentUser() error ${err}`);\n            }\n            \n            if(currentExternalUser){\n                currentExternalUser.logout();\n            }\n        })\n\n    }    \n    \n    updateContextValues()\n}\n\nasync function changeActiveItem (contextVariable: string) {\n    for (let i = 0; i \u003c menuObject.length; i++) {\n        Context.data[menuObject[i].contextVariable] = true;\n    }\n    Context.data[contextVariable] = false;\n    await initMenu();\n}\n\nconst updateContextValues = () =\u003e {\n    for (let i = 0; i \u003c menuObject.length; i++) {\n        if (!Context.data[menuObject[i].contextVariable]) {\n            switch(menuObject[i].contextVariable) {\n                case \"menu_main_active\":\n                    Context.data.hide_my_services = false;\n                    Context.data.show_service_cards = false;\n                    Context.data.hide_my_documents = false;\n                    Context.data.show_search_in_my_documents = false;\n                    Context.data.hide_right_column = !Context.data.is_trips_active \u0026\u0026 !Context.data.is_vacations_active;\n                    Context.data.my_profile_choose = false;\n                    Context.data.show_absence_monitor = false;\n                    break;\n                case \"menu_documents_active\":\n                    Context.data.hide_my_services = true;\n                    Context.data.hide_my_documents = false;\n                    Context.data.show_search_in_my_documents = true;\n                    Context.data.hide_right_column = true;\n                    Context.data.my_profile_choose = false;\n                    Context.data.show_absence_monitor = false;\n                    break;\n                case \"menu_services_active\":\n                    Context.data.hide_my_services = false;\n                    Context.data.show_service_cards = true;\n                    Context.data.hide_my_documents = true;\n                    Context.data.hide_right_column = true;\n                    Context.data.my_profile_choose = false;\n                    Context.data.show_absence_monitor = false;\n                    break;\n                case \"menu_vacation_active\":\n                    Context.data.hide_my_services = true;\n                    Context.data.hide_my_documents = true;\n                    Context.data.hide_right_column = true;\n                    Context.data.my_profile_choose = false;\n                    Context.data.show_absence_monitor = false;\n                    break;\n                case \"menu_trips_active\":\n                    Context.data.hide_my_services = true;\n                    Context.data.hide_my_documents = true;\n                    Context.data.hide_right_column = true;\n                    Context.data.my_profile_choose = false;\n                    Context.data.show_absence_monitor = false;\n                    break;\n                case \"menu_absence_monitor_active\":\n                    Context.data.hide_my_services = true;\n                    Context.data.hide_my_documents = true;\n                    Context.data.hide_right_column = true;\n                    Context.data.my_profile_choose = false;\n                    Context.data.show_absence_monitor = true;\n                    break;\n                case \"menu_my_profile_active\":\n                    Context.data.hide_my_services = true;\n                    Context.data.hide_my_documents = true;\n                    Context.data.hide_right_column = true;\n                    Context.data.my_profile_choose = true;\n                    Context.data.show_absence_monitor = false;\n                    break;\n            }\n            break;\n        }\n    }\n}\n\n\nasync function findUserAppByExternalUser(): Promise\u003cvoid\u003e {\n    async function findInnerUserApp(){\n        if(!currentUser) return;\n        \n        userApp = await Context.fields.user_application.app.search()\n            .where((f, g) =\u003e g.and(\n                f.__deletedAt.eq(null),\n                g.or(\n                    f.ext_user.eq(currentUser),\n                    f.external_user.has(currentUser)\n                )\n            ))\n            .first()\n        if (!userApp) {\n            const extUserId = currentUser.originalData.profiles[0].id;\n            console.log('before: ', currentUser.id)\n            userApp = await Context.fields.user_application.app.search()\n            .where((f, g) =\u003e g.and(\n                f.__deletedAt.eq(null),\n                f.external_user.has(extUserId)\n            ))\n            .first()\n            currentUser = await System.users.search().where(f =\u003e f.__id.eq(extUserId)).first()\n            console.log(userApp)\n        }\n        if(!userApp) return;\n\n        Context.data.user_application = userApp;\n    }\n\n    currentUser = await System.users.getCurrentUser();\n    Context.data.current_user = currentUser\n\n    await findInnerUserApp();\n    // if(!currentUser){\n    //     return;\n    // }\n\n    // if(currentUser){\n    //     Context.data.current_user = currentUser;\n    // } else {\n    //     return\n    // }        \n\n    // if(!currentUser.originalData){\n    //     return\n    // }\n    // if(!currentUser.originalData.profiles){\n    //     await findInnerUserApp();\n    //     return\n    // }\n    // if(!currentUser.originalData.profiles[0]){\n    //     await findInnerUserApp();\n    //     return\n    // }\n    // if(currentUser.originalData.profiles[0].id){\n    //     externalUserApp = currentUser.originalData.profiles[0];\n    // } else {\n    //     await findInnerUserApp();\n    //     return;\n    // }\n    \n    // if(externalUserApp){\n    //     await findExternalUserApp();\n    // } else {\n    //     return;\n    // }\n}","clientScriptOptions":{"allowServer":true},"serverScripts":"/* Server scripts module */\n\nasync function getNamespaceParams(): Promise\u003cvoid\u003e {\n    Context.data.is_trips_active = (await Context.fields.settings.app.search().where(f =\u003e f.code.eq('travel_section_added')).first())!.data.status;\n    Context.data.is_vacations_active = (await Context.fields.settings.app.search().where(f =\u003e f.code.eq('podklyuchen_razdel_otpuskov')).first())!.data.status;\n    Context.data.parameters_set = true;\n    Context.data.hide_right_column = !Context.data.is_trips_active \u0026\u0026 !Context.data.is_vacations_active;\n    Context.data.token = Namespace.params.data.token\n}\n\nasync function getUserEntity(): Promise\u003cvoid\u003e {\n    if(!Context.data.user_application) return;\n    const userCard = await Context.data.user_application.fetch();\n    if(!userCard) return;\n\n    let entityApp: ApplicationItem\u003cApplication$_system_catalogs$_my_companies$Data,Application$_system_catalogs$_my_companies$Params\u003e|undefined = undefined;\n    if(userCard.data.entity){\n        entityApp = await userCard.data.entity.fetch();\n    }\n    if(!entityApp) return;\n\n    if(entityApp.data.__name){\n        Context.data.entity = entityApp.data.__name;\n    }\n}","serverScriptOptions":{}},"dataNamespace":"","dataCode":"","runtime":{"version":1,"clientScripts":"System.register([], function (exports_1, context_1) {\n    \"use strict\";\n    var __moduleName = context_1 \u0026\u0026 context_1.id;\n    function default_1(Context, ViewContext, Server) {\n        let userApp = undefined;\n        let currentUser = undefined;\n        const host = window.location.host;\n        let isPopupShown = false;\n        const breakPoint = 930;\n        const toggleInfoPopup = () =\u003e {\n            isPopupShown = !isPopupShown;\n            const popup = document.querySelector(\".user-info-popup\");\n            popup.classList.toggle(\"user-info-popup--active\");\n        };\n        const menuObject = [\n            {\n                title: \"Главная\",\n                iconClass: \"icon-main\",\n                contextVariable: \"menu_main_active\",\n                isAdaptive: false,\n            },\n            {\n                title: \"Мои документы\",\n                iconClass: \"icon-documents\",\n                contextVariable: \"menu_documents_active\",\n                isAdaptive: false,\n            },\n            {\n                title: \"Сервисы\",\n                iconClass: \"icon-services\",\n                contextVariable: \"menu_services_active\",\n                isAdaptive: false,\n            },\n            {\n                title: \"Отпуска\",\n                iconClass: \"icon-vacations\",\n                contextVariable: \"menu_vacation_active\",\n                contextCondition: \"is_vacations_active\",\n                isAdaptive: false,\n            },\n            {\n                title: \"Командировки\",\n                iconClass: \"icon-business-trips\",\n                contextVariable: \"menu_trips_active\",\n                contextCondition: \"is_trips_active\",\n                isAdaptive: false,\n            },\n            {\n                title: \"График отсутствий\",\n                iconClass: \"icon-monitor\",\n                contextVariable: \"menu_absence_monitor_active\",\n                isAdaptive: false\n            },\n            {\n                title: \"Мой профиль\",\n                iconClass: \"icon-profile\",\n                contextVariable: \"menu_my_profile_active\",\n                isAdaptive: false\n            },\n            {\n                title: \"Главная\",\n                iconClass: \"icon-main\",\n                contextVariable: \"menu_main_active\",\n                isAdaptive: true,\n            },\n            {\n                title: \"Документы\",\n                iconClass: \"icon-documents\",\n                contextVariable: \"menu_documents_active\",\n                isAdaptive: true,\n            },\n            {\n                title: \"Сервисы\",\n                iconClass: \"icon-services\",\n                contextVariable: \"menu_services_active\",\n                isAdaptive: true,\n            },\n            {\n                title: \"Еще\",\n                iconClass: \"icon-more\",\n                contextVariable: \"menu_more_active\",\n                adaptiveOnly: true,\n                onClick: toggleInfoPopup,\n                isAdaptive: true,\n            },\n        ];\n        let root;\n        let menuItemTemplate;\n        async function init() {\n            window.setTimeout(async () =\u003e {\n                await initMenu();\n            }, 200);\n        }\n        async function initMenu() {\n            if (!Context.data.parameters_set) {\n                await Server.rpc.getNamespaceParams();\n            }\n            root = document.querySelector(\".kedo-menu__list\");\n            menuItemTemplate = document.querySelector(\".kedo-menu__list-item-template\");\n            root.innerHTML = \"\";\n            for (let i = 0; i \u003c menuObject.length; i++) {\n                const isAdaptive = menuObject[i].isAdaptive;\n                if (!!menuObject[i].contextCondition) {\n                    const condition = Context.data[menuObject[i].contextCondition];\n                    if (!condition)\n                        continue;\n                }\n                const element = menuItemTemplate.content.cloneNode(true);\n                const title = element.querySelector(\".kedo-menu__list-item-text\");\n                title.innerText = menuObject[i].title;\n                const icon = element.querySelector(\".kedo-menu__list-item-icon\");\n                icon.classList.add(menuObject[i].iconClass);\n                const container = element.querySelector(\".kedo-menu__list-item\");\n                if (isAdaptive) {\n                    container.classList.add('adaptive');\n                }\n                if (!Context.data[menuObject[i].contextVariable]) {\n                    container === null || container === void 0 ? void 0 : container.classList.add(\"kedo-menu__list-item--active\");\n                }\n                container.addEventListener(\"click\", (e) =\u003e {\n                    if (!Context.data[menuObject[i].contextVariable]) {\n                        return;\n                    }\n                    ;\n                    if (isPopupShown) {\n                        toggleInfoPopup();\n                    }\n                    else if (!!menuObject[i].onClick) {\n                        menuObject[i].onClick();\n                    }\n                    changeActiveItem(menuObject[i].contextVariable);\n                });\n                root.append(element);\n            }\n            const footerElement = document.querySelector(\".kedo-menu__footer\");\n            footerElement.innerText = menuFooterText;\n            if (!currentUser) {\n                try {\n                    await findUserAppByExternalUser();\n                }\n                catch (err) {\n                    console.error(err);\n                    return;\n                }\n            }\n            if (!Context.data.is_user_data_rendered \u0026\u0026 currentUser) {\n                let userFirstName = '';\n                let userLastName = '';\n                let userFirm = '';\n                await Server.rpc.getUserEntity();\n                const popup = document.querySelector('.user-page__info-popup.user-info-popup');\n                const nameEl = popup.querySelector('.user-info-popup__user-name');\n                const companyNameEl = popup.querySelector('.user-info-popup__user-company-name');\n                const avatar = popup.querySelector(\".user-info-popup__avatar div\");\n                if (currentUser.data.fullname) {\n                    userFirstName = !currentUser.data.fullname.firstname ? 'No firstname' : currentUser.data.fullname.firstname;\n                    userLastName = !currentUser.data.fullname.lastname ? 'No lastname' : currentUser.data.fullname.lastname;\n                }\n                if (Context.data.entity) {\n                    userFirm = Context.data.entity;\n                }\n                avatar.innerText = userFirstName ? userFirstName[0] : '';\n                nameEl.innerText = userFirstName + ' ' + userLastName;\n                companyNameEl.innerText = userFirm;\n                Context.data.is_user_data_rendered = true;\n            }\n            if (userApp) {\n                if (userApp.data.__status.name !== userApp.fields.__status.variants.signed_documents.name) {\n                    window.location = `https://${host}/_portal/kedo_ext/_start_page`;\n                    return;\n                }\n                const popup = document.querySelector(\".user-info-popup\");\n                if (!Context.data.is_vacations_active) {\n                    const vacationsContainer = document.querySelector(\".user-info-popup__vacations\");\n                    vacationsContainer === null || vacationsContainer === void 0 ? void 0 : vacationsContainer.remove();\n                }\n                else if (!Context.data.vacation_button_active) {\n                    const vacationsBtn = document.querySelector('.user-info-popup__nav_item--vacations');\n                    vacationsBtn.addEventListener('click', () =\u003e {\n                        toggleInfoPopup();\n                        changeActiveItem(\"menu_vacation_active\");\n                    });\n                    Context.data.vacation_button_active = true;\n                }\n                if (!Context.data.my_profile_button_active) {\n                    let profileButton = document.querySelector(\".user-info-popup__nav_item--profile\");\n                    if (profileButton) {\n                        profileButton.addEventListener(\"click\", () =\u003e {\n                            toggleInfoPopup();\n                            changeActiveItem(\"menu_my_profile_active\");\n                        });\n                    }\n                    ;\n                    Context.data.my_profile_button_active = true;\n                }\n                if (!Context.data.is_trips_active) {\n                    const tripsContainer = document.querySelector(\".user-info-popup__trips\");\n                    tripsContainer === null || tripsContainer === void 0 ? void 0 : tripsContainer.remove();\n                }\n                else if (!Context.data.trips_button_active) {\n                    const tripsBtn = document.querySelector('.user-info-popup__nav_item--trips');\n                    tripsBtn.addEventListener('click', () =\u003e {\n                        toggleInfoPopup();\n                        changeActiveItem(\"menu_trips_active\");\n                    });\n                    Context.data.trips_button_active = true;\n                }\n                const exitBtn = document.querySelector(\".user-info-popup__nav_item--exit\");\n                exitBtn.addEventListener(\"click\", async () =\u003e {\n                    let currentExternalUser = undefined;\n                    try {\n                        currentExternalUser = await System.users.getCurrentUser();\n                    }\n                    catch (err) {\n                        throw new Error(`System.users.getCurrentUser() error ${err}`);\n                    }\n                    if (currentExternalUser) {\n                        currentExternalUser.logout();\n                    }\n                });\n            }\n            updateContextValues();\n        }\n        async function changeActiveItem(contextVariable) {\n            for (let i = 0; i \u003c menuObject.length; i++) {\n                Context.data[menuObject[i].contextVariable] = true;\n            }\n            Context.data[contextVariable] = false;\n            await initMenu();\n        }\n        const updateContextValues = () =\u003e {\n            for (let i = 0; i \u003c menuObject.length; i++) {\n                if (!Context.data[menuObject[i].contextVariable]) {\n                    switch (menuObject[i].contextVariable) {\n                        case \"menu_main_active\":\n                            Context.data.hide_my_services = false;\n                            Context.data.show_service_cards = false;\n                            Context.data.hide_my_documents = false;\n                            Context.data.show_search_in_my_documents = false;\n                            Context.data.hide_right_column = !Context.data.is_trips_active \u0026\u0026 !Context.data.is_vacations_active;\n                            Context.data.my_profile_choose = false;\n                            Context.data.show_absence_monitor = false;\n                            break;\n                        case \"menu_documents_active\":\n                            Context.data.hide_my_services = true;\n                            Context.data.hide_my_documents = false;\n                            Context.data.show_search_in_my_documents = true;\n                            Context.data.hide_right_column = true;\n                            Context.data.my_profile_choose = false;\n                            Context.data.show_absence_monitor = false;\n                            break;\n                        case \"menu_services_active\":\n                            Context.data.hide_my_services = false;\n                            Context.data.show_service_cards = true;\n                            Context.data.hide_my_documents = true;\n                            Context.data.hide_right_column = true;\n                            Context.data.my_profile_choose = false;\n                            Context.data.show_absence_monitor = false;\n                            break;\n                        case \"menu_vacation_active\":\n                            Context.data.hide_my_services = true;\n                            Context.data.hide_my_documents = true;\n                            Context.data.hide_right_column = true;\n                            Context.data.my_profile_choose = false;\n                            Context.data.show_absence_monitor = false;\n                            break;\n                        case \"menu_trips_active\":\n                            Context.data.hide_my_services = true;\n                            Context.data.hide_my_documents = true;\n                            Context.data.hide_right_column = true;\n                            Context.data.my_profile_choose = false;\n                            Context.data.show_absence_monitor = false;\n                            break;\n                        case \"menu_absence_monitor_active\":\n                            Context.data.hide_my_services = true;\n                            Context.data.hide_my_documents = true;\n                            Context.data.hide_right_column = true;\n                            Context.data.my_profile_choose = false;\n                            Context.data.show_absence_monitor = true;\n                            break;\n                        case \"menu_my_profile_active\":\n                            Context.data.hide_my_services = true;\n                            Context.data.hide_my_documents = true;\n                            Context.data.hide_right_column = true;\n                            Context.data.my_profile_choose = true;\n                            Context.data.show_absence_monitor = false;\n                            break;\n                    }\n                    break;\n                }\n            }\n        };\n        async function findUserAppByExternalUser() {\n            async function findInnerUserApp() {\n                if (!currentUser)\n                    return;\n                userApp = await Context.fields.user_application.app.search()\n                    .where((f, g) =\u003e g.and(f.__deletedAt.eq(null), g.or(f.ext_user.eq(currentUser), f.external_user.has(currentUser))))\n                    .first();\n                if (!userApp) {\n                    const extUserId = currentUser.originalData.profiles[0].id;\n                    console.log('before: ', currentUser.id);\n                    userApp = await Context.fields.user_application.app.search()\n                        .where((f, g) =\u003e g.and(f.__deletedAt.eq(null), f.external_user.has(extUserId)))\n                        .first();\n                    currentUser = await System.users.search().where(f =\u003e f.__id.eq(extUserId)).first();\n                    console.log(userApp);\n                }\n                if (!userApp)\n                    return;\n                Context.data.user_application = userApp;\n            }\n            currentUser = await System.users.getCurrentUser();\n            Context.data.current_user = currentUser;\n            await findInnerUserApp();\n        }\n        return {\n            init,\n            initMenu,\n            changeActiveItem,\n            findUserAppByExternalUser\n        };\n    }\n    exports_1(\"default\", default_1);\n    return {\n        setters: [],\n        execute: function () {\n        }\n    };\n});\n","clientFnDeclarations":[{"name":"init","parameters":[],"type":"[object Object]"},{"name":"initMenu","parameters":[],"type":"[object Object]"},{"name":"changeActiveItem","parameters":[{"name":"[object Object]","type":"[object Object]"}],"type":""},{"name":"findUserAppByExternalUser","parameters":[],"type":"[object Object]"}],"serverScripts":"async function getNamespaceParams() {\n    Context.data.is_trips_active = (await Context.fields.settings.app.search().where(f =\u003e f.code.eq('travel_section_added')).first()).data.status;\n    Context.data.is_vacations_active = (await Context.fields.settings.app.search().where(f =\u003e f.code.eq('podklyuchen_razdel_otpuskov')).first()).data.status;\n    Context.data.parameters_set = true;\n    Context.data.hide_right_column = !Context.data.is_trips_active \u0026\u0026 !Context.data.is_vacations_active;\n    Context.data.token = Namespace.params.data.token;\n}\nasync function getUserEntity() {\n    if (!Context.data.user_application)\n        return;\n    const userCard = await Context.data.user_application.fetch();\n    if (!userCard)\n        return;\n    let entityApp = undefined;\n    if (userCard.data.entity) {\n        entityApp = await userCard.data.entity.fetch();\n    }\n    if (!entityApp)\n        return;\n    if (entityApp.data.__name) {\n        Context.data.entity = entityApp.data.__name;\n    }\n}\n","serverFnDeclarations":[{"name":"getNamespaceParams","parameters":[],"type":"[object Object]"},{"name":"getUserEntity","parameters":[],"type":"[object Object]"}]},"__createdAt":"2023-12-20T13:09:23.113379035Z","__createdBy":"7303b866-4220-4086-a09e-348a76b12c73","__updatedAt":"2024-02-14T11:09:29.08815543Z","__updatedBy":"7303b866-4220-4086-a09e-348a76b12c73","__deletedAt":null}
