{"__id":"018c8758-55d2-7ee9-9617-9236f0e30ecc","namespace":"ext_7fe3de7d-f459-4f75-940c-271c6e9ea1ed","code":"inner_app_main_page","__name":"Виджет для главной страницы площадки","description":"","extensionZoneCode":"","sort":0,"category":"00000000-0000-0000-0000-000000000000","version":3,"hidden":false,"draft":false,"readonly":false,"descriptor":{"template":{"id":"dd2e0015-06bc-4546-a303-8e71baf911a5","descriptor":"component","content":{"":[{"id":"6ac38737-be2d-40a5-9717-f54e6b7bc0da","descriptor":"code","values":{"html":"\u003cdiv class=\"kedo-main-page_container\"\u003e\n    \u003ca class=\"kedo-main-page_portal_link\" target=\"_blank\" href=\"./_portal/kedo_ext/user_page\"\u003eВнешний портал\u003c/a\u003e\n\u003c/div\u003e\n\n\u003cstyle\u003e\n    .kedo-main-page_container {\n        padding: 2rem;\n    }\n    .kedo-main-page_portal_link {\n        background-color: #5082E6;\n        color: white;\n        padding: 1rem 1.5rem;\n        border-radius: 5px;\n        text-decoration: none;\n        width: 150px;\n        transition: all 0.3s;\n    }\n\n    .kedo-main-page_portal_link:hover {\n        background-color: #598ff9;\n        text-decoration: none;\n        color: white;\n    }\n\u003c/style\u003e","hideContent":true,"contentPlaceholder":"button \u0026 css"}}]}},"fields":[{"code":"settings_app","type":"SYS_COLLECTION","searchable":false,"indexed":false,"deleted":false,"array":true,"required":false,"single":true,"defaultValue":null,"calcByFormula":false,"formula":"","data":{"code":"settings","filter":{"value":{"tf":{}},"enabled":false},"bindings":null,"namespace":"kedo","isDependent":false,"linkedFieldCode":""},"view":{"name":"Приложение Настройки","data":{},"input":false,"output":false}},{"code":"portal_link","type":"STRING","searchable":false,"indexed":false,"deleted":false,"array":false,"required":false,"single":true,"defaultValue":null,"calcByFormula":false,"formula":"","data":{},"view":{"name":"Ссылка на портал","data":{"additionalType":"string"},"input":false,"output":false}}],"fieldVisibilityConditions":{"portal_link":{"enabled":false,"conditions":[]},"settings_app":{"enabled":false,"conditions":[]}},"scriptOptions":{},"clientScripts":"declare const console: any;\n\nasync function onInit(): Promise\u003cvoid\u003e {\n    const domenSetting = await Context.fields.settings_app.app.search().where((f, g) =\u003e g.and(\n        f.__deletedAt.eq(null),\n        f.code.eq(\"domen\")\n    )).first();\n    if (domenSetting) {\n        const portalLink = `${domenSetting.data.value}/_portal/kedo_ext/user_page`;\n        Context.data.portal_link = portalLink;\n        console.log(portalLink)\n    };\n}","clientScriptOptions":{"allowServer":true},"serverScripts":"/* Server scripts module */\n","serverScriptOptions":{}},"dataNamespace":"","dataCode":"","runtime":{"version":1,"clientScripts":"System.register([], function (exports_1, context_1) {\n    \"use strict\";\n    var __moduleName = context_1 \u0026\u0026 context_1.id;\n    function default_1(Context, ViewContext, Server) {\n        async function onInit() {\n            const domenSetting = await Context.fields.settings_app.app.search().where((f, g) =\u003e g.and(f.__deletedAt.eq(null), f.code.eq(\"domen\"))).first();\n            if (domenSetting) {\n                const portalLink = `${domenSetting.data.value}/_portal/kedo_ext/user_page`;\n                Context.data.portal_link = portalLink;\n                console.log(portalLink);\n            }\n            ;\n        }\n        return {\n            onInit\n        };\n    }\n    exports_1(\"default\", default_1);\n    return {\n        setters: [],\n        execute: function () {\n        }\n    };\n});\n","clientFnDeclarations":[{"name":"onInit","parameters":[],"type":"[object Object]"}]},"__createdAt":"2023-12-20T13:09:22.513401769Z","__createdBy":"7303b866-4220-4086-a09e-348a76b12c73","__updatedAt":"2024-02-14T11:09:34.293155275Z","__updatedBy":"7303b866-4220-4086-a09e-348a76b12c73","__deletedAt":null}
