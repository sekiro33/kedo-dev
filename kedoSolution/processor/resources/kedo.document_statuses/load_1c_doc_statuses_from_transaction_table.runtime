{"scripts":"async function loadStatuses() {\n    const statusData = await Namespace.app.posted_1c_data.search()\n        .where((f, g) =\u003e g.and(f.__deletedAt.eq(null), f.table_name.eq(\"Catalog_EM_СтатусыELMA\"))).first();\n    if (!!statusData) {\n        const existsingStatuses = await Namespace.app.document_statuses.search()\n            .where(f =\u003e f.__deletedAt.eq(null)).size(10000).all();\n        const parsedStatusData = JSON.parse(statusData.data.table_data).map((item) =\u003e {\n            return item.data;\n        });\n        const promises = [];\n        for (let i = 0; i \u003c parsedStatusData.length; i++) {\n            let app = existsingStatuses.find(item =\u003e item.data.guid === parsedStatusData[i][\"Ref\"]);\n            if (!app) {\n                app = Namespace.app.document_statuses.create();\n            }\n            app.data.__name = parsedStatusData[i][\"Description\"];\n            app.data.full_name = parsedStatusData[i][\"ИмяДляРазработчика\"];\n            app.data.guid = parsedStatusData[i][\"Ref\"];\n            app.data.is_blocking = !!parsedStatusData[i][\"БлокироватьДокумент\"];\n            promises.push(app.save());\n        }\n        await Promise.all(promises);\n    }\n}\n","gatewayPairs":{},"hasTranslations":false}
