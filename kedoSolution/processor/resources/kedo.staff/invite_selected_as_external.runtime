{"scripts":"async function prepare_staffs() {\n    if (Context.data.staff \u0026\u0026 Context.data.staff.length \u003e 0) {\n        Context.data.staff_kedo = Context.data.staff.pop();\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nasync function checkStaffFields() {\n    Context.data.error_message = 'В карточке Сотрудника найдены пустые поля:\\n';\n    Context.data.fullness_of_fields = true;\n    const staff = await Context.data.staff_kedo.fetch();\n    if (!staff.data.full_name) {\n        Context.data.fullness_of_fields = false;\n        Context.data.error_message += 'ФИО;\\n';\n    }\n    if (!staff.data.inn) {\n        Context.data.fullness_of_fields = false;\n        Context.data.error_message += 'ИНН;\\n';\n    }\n    if (!staff.data.snils) {\n        Context.data.fullness_of_fields = false;\n        Context.data.error_message += 'СНИЛС;\\n';\n    }\n    if (!staff.data.email) {\n        Context.data.fullness_of_fields = false;\n        Context.data.error_message += 'Электронная почта;\\n';\n    }\n    if (!staff.data.phone) {\n        Context.data.fullness_of_fields = false;\n        Context.data.error_message += 'Телефон;\\n';\n    }\n    if (!staff.data.passport_series) {\n        Context.data.fullness_of_fields = false;\n        Context.data.error_message += 'Серия паспорта;\\n';\n    }\n    if (!staff.data.passport_number) {\n        Context.data.fullness_of_fields = false;\n        Context.data.error_message += 'Номер паспорта;\\n';\n    }\n    if (!staff.data.passport_department_code) {\n        Context.data.fullness_of_fields = false;\n        Context.data.error_message += 'Код подразделения;\\n';\n    }\n    if (!staff.data.date_of_issue) {\n        Context.data.fullness_of_fields = false;\n        Context.data.error_message += 'Дата выдачи;\\n';\n    }\n    if (!staff.data.date_of_birth) {\n        Context.data.fullness_of_fields = false;\n        Context.data.error_message += 'Дата рождения;\\n';\n    }\n}\nasync function processingLabels() {\n    if (Context.data.russian_passport == true) {\n        Context.data.series = Context.data.russian_passport_series;\n        Context.data.number = Context.data.russian_passport_number;\n        Context.data.pass_code = Context.data.russian_passport_department_code;\n    }\n    if (Context.data.russian_passport == false) {\n        Context.data.series = Context.data.context_passport_series;\n        Context.data.number = Context.data.context_passport_number;\n        Context.data.pass_code = Context.data.context_passport_department_code;\n    }\n}\nasync function interrupt_process_recruiment() {\n    if (Context.data.staff_kedo) {\n        const staff = await Context.data.staff_kedo.fetch();\n        if (staff.data.id_process_recruitment) {\n            const massive_process = staff.data.id_process_recruitment.split(',');\n            for (let process_id of massive_process) {\n                const process = await System.processes._searchInstances().where(f =\u003e f.__id.eq(process_id)).first();\n                if (process) {\n                    try {\n                        await process.interrupt('Сотрудник приглашен заново');\n                    }\n                    catch (e) { }\n                }\n            }\n        }\n    }\n}\n","gatewayPairs":{},"hasTranslations":false}
