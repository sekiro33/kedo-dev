{"scripts":"async function searchCertificates() {\n    const staff = await Context.data.staff.fetch();\n    Context.data.staff_user = staff.data.ext_user;\n    Context.data.staff_inn = staff.data.inn;\n    const digital_signs_list = await Context.fields.digital_signs_list.app.search()\n        .where((f, g) =\u003e g.and(f.__deletedAt.eq(null), f.user.eq(Context.data.staff_user)))\n        .all();\n    if (digital_signs_list \u0026\u0026 digital_signs_list.length \u003e 0) {\n        Context.data.digital_signs_list = digital_signs_list;\n        Context.data.number_of_certificates = digital_signs_list.length;\n        if (Context.data.number_of_certificates === 1) {\n            Context.data.certificate = digital_signs_list[0];\n        }\n    }\n}\nasync function getExternalId() {\n    const certificate = await Context.data.certificate.fetch();\n    Context.data.external_id = certificate.data.external_id;\n}\n","gatewayPairs":{},"hasTranslations":false}
