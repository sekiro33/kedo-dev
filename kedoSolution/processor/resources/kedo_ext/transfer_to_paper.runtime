{"scripts":"async function designInPaper() {\n    Context.data.set_documents = [];\n    const document = await Context.data.document.fetch();\n    if (document.fields.__status) {\n        let statuses = document.fields.__status.all;\n        let status = statuses.find((i) =\u003e i.code == 'design_in_paper');\n        if (status) {\n            await document.setStatus(status);\n        }\n        await document.save();\n    }\n    Context.data.set_documents.push(document);\n    if (Context.data.additional_agreement) {\n        const additional_agreement = await Context.data.additional_agreement.fetch();\n        if (additional_agreement.fields.__status) {\n            let statuses = additional_agreement.fields.__status.all;\n            let status = statuses.find((i) =\u003e i.code == 'design_in_paper');\n            if (status) {\n                await additional_agreement.setStatus(status);\n            }\n            await additional_agreement.save();\n        }\n        Context.data.set_documents.push(Context.data.additional_agreement);\n    }\n    if (Context.data.documents) {\n        Context.data.set_documents = Context.data.set_documents.concat(Context.data.documents);\n    }\n    Context.data.set_documents = Context.data.set_documents;\n    Context.data.number_documents = Context.data.set_documents.length;\n}\nasync function signedInPaper() {\n    const document = await Context.data.document.fetch();\n    if (document.fields.__status) {\n        let statuses = document.fields.__status.all;\n        let status = statuses.find((i) =\u003e i.code == 'signed_in_paper');\n        if (status) {\n            await document.setStatus(status);\n        }\n        await document.save();\n    }\n    if (Context.data.additional_agreement) {\n        const additional_agreement = await Context.data.additional_agreement.fetch();\n        if (additional_agreement.fields.__status) {\n            let statuses = additional_agreement.fields.__status.all;\n            let status = statuses.find((i) =\u003e i.code == 'signed_in_paper');\n            if (status) {\n                await additional_agreement.setStatus(status);\n            }\n            await additional_agreement.save();\n        }\n    }\n    Context.data.number_documents = Context.data.set_documents.length;\n}\nasync function getDocumentFromMassive(status) {\n    const document = Context.data.document;\n    const obj_status = {\n        app: {\n            namespace: document.namespace,\n            code: document.code,\n            id: document.id,\n        },\n        status: status,\n    };\n    Context.data.kedo_status = JSON.stringify(obj_status);\n}\nasync function setStatusDocumentsDesign() {\n    await getDocumentFromMassive('design_in_paper');\n}\nasync function setStatusDocumentsSigned() {\n    await getDocumentFromMassive('signed_in_paper');\n}\n","gatewayPairs":{},"hasTranslations":false}
