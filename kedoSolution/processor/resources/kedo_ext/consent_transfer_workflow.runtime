{"scripts":"async function getStaff() {\n    const staff = await Context.data.staff.fetch();\n    Context.data.staff_user = staff.data.ext_user;\n    Context.data.current_date = new TDate;\n}\nasync function successfulApproval() {\n    const transfer_application = await Context.data.transfer_application.fetch();\n    if (transfer_application.data.transfer_approve \u0026\u0026 transfer_application.data.transfer_approve.length \u003e 0) {\n        transfer_application.data.transfer_approve.push(Context.data.transfer_approve);\n    }\n    else {\n        transfer_application.data.transfer_approve = [];\n        transfer_application.data.transfer_approve.push(Context.data.transfer_approve);\n    }\n    await transfer_application.save();\n}\nasync function set_contract_filed() {\n    let transfer_approve = await Context.data.transfer_approve.fetch();\n    transfer_approve.data.line_status = `${transfer_approve.data.__status.code};${transfer_approve.data.__status.name}`;\n    await transfer_approve.save();\n}\nasync function set_file_name_filed() {\n    let transfer_approve = await Context.data.transfer_approve.fetch();\n    transfer_approve.data.line_file_name = (await transfer_approve.data.__file.fetch()).data.__name;\n    await transfer_approve.save();\n}\nasync function setStatusSigning() {\n    if (!Context.data.transfer_approve) {\n        throw new Error(\"Context.data.transfer_approve is undefined\");\n    }\n    const obj_status = {\n        app: {\n            namespace: Context.data.transfer_approve.namespace,\n            code: Context.data.transfer_approve.code,\n            id: Context.data.transfer_approve.id,\n        },\n        status: \"signing\",\n    };\n    Context.data.kedo_status = JSON.stringify(obj_status);\n}\nasync function setStatusSigned() {\n    if (!Context.data.transfer_approve) {\n        throw new Error(\"Context.data.transfer_approve is undefined\");\n    }\n    const obj_status = {\n        app: {\n            namespace: Context.data.transfer_approve.namespace,\n            code: Context.data.transfer_approve.code,\n            id: Context.data.transfer_approve.id,\n        },\n        status: \"signed\",\n    };\n    Context.data.kedo_status = JSON.stringify(obj_status);\n}\nasync function setStatusCancelled() {\n    if (!Context.data.transfer_approve) {\n        throw new Error(\"Context.data.transfer_approve is undefined\");\n    }\n    const obj_status = {\n        app: {\n            namespace: Context.data.transfer_approve.namespace,\n            code: Context.data.transfer_approve.code,\n            id: Context.data.transfer_approve.id,\n        },\n        status: \"cancelled\",\n    };\n    Context.data.kedo_status = JSON.stringify(obj_status);\n}\n","gatewayPairs":{},"hasTranslations":false}
