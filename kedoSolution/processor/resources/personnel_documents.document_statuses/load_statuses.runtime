{"scripts":"async function fillRequestData() {\n    Context.data.url = \"Catalog_EM_СтатусыELMA?$format=json\";\n}\nasync function updateStatusData() {\n    const response = JSON.parse(Context.data.response);\n    const prevStatuses = await Context.fields.document_statuses.fetchAll();\n    const deletePromises = [];\n    prevStatuses.forEach(async (status) =\u003e deletePromises.push(status.delete()));\n    const savePromises = [];\n    response.value.forEach((status) =\u003e {\n        const newApp = Context.fields.document_statuses.app.create();\n        newApp.data.__name = status[\"Description\"];\n        newApp.data.full_name = status[\"ИмяДляРазработчика\"];\n        newApp.data.is_blocking = status[\"БлокироватьДокумент\"];\n        newApp.data.guid = status[\"Ref_Key\"];\n        savePromises.push(newApp.save());\n    });\n    await Promise.all([...savePromises, ...deletePromises]);\n}\n","gatewayPairs":{},"hasTranslations":false}
