{"scripts":"async function setCancelDocName() {\n    if (Context.data.order_file) {\n        const doc_name = await Context.data.order_file.fetch();\n        Context.data.order_name = doc_name.data.__name;\n    }\n}\nasync function generateFile() {\n    if (Context.data.cancel_doc_app) {\n        const statement = await Context.data.cancel_doc_app.fetch();\n        Context.data.statement_name = statement.data.__name;\n    }\n    if (Context.data.cancel_memo) {\n        const memo = await Context.data.cancel_memo.fetch();\n        Context.data.memo_name = memo.data.__name;\n    }\n    if (Context.data.staff) {\n        const staff = await Context.data.staff.fetch();\n        Context.data.staff_full_name = `${staff.data.surname} ${staff.data.name} ${staff.data.middlename}`;\n        if (staff.data.position) {\n            const position = await staff.data.position.fetch();\n            Context.data.staff_position = position.data.__name;\n        }\n    }\n    if (Context.data.order_signatory_app) {\n        const director = await Context.data.order_signatory_app.fetch();\n        Context.data.director_full_name = `${director.data.surname} ${director.data.name} ${director.data.middlename}`;\n        if (director.data.position) {\n            const position = await director.data.position.fetch();\n            Context.data.director_position = position.data.__name;\n        }\n    }\n}\nasync function getSignatoryStaff() {\n    if (Context.data.order_signatory_user) {\n        const signatoryStaff = await Context.fields.staff.app.search()\n            .where((f, g) =\u003e g.and(f.__deletedAt.eq(null), f.ext_user.eq(Context.data.order_signatory_user)))\n            .first();\n        Context.data.order_signatory_app = signatoryStaff;\n    }\n}\n","gatewayPairs":{},"hasTranslations":false}
