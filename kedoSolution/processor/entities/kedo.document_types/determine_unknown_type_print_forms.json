{
  "__id": "018e83e7-588d-7e17-9a39-02a157b30e1a",
  "namespace": "kedo.document_types",
  "code": "determine_unknown_type_print_forms",
  "category": "00000000-0000-0000-0000-000000000000",
  "__name": "Определить вид неизвестных печатных форм",
  "type": "bpmn",
  "draft": false,
  "version": 1,
  "context": [
    {
      "code": "unknown_doc_types",
      "type": "TABLE",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {
        "fields": [
          {
            "code": "__count",
            "data": null,
            "type": "FLOAT",
            "view": {
              "data": {
                "additionalType": "integer"
              },
              "name": "Количество элементов",
              "system": true
            },
            "array": false,
            "single": true,
            "deleted": false,
            "formula": "",
            "indexed": false,
            "required": false,
            "searchable": false,
            "defaultValue": null,
            "calcByFormula": false
          },
          {
            "code": "__index",
            "data": {
              "result": {}
            },
            "type": "FLOAT",
            "view": {
              "data": {
                "additionalType": "integer"
              },
              "name": "№",
              "disabled": true
            },
            "array": false,
            "single": true,
            "deleted": false,
            "formula": "",
            "indexed": true,
            "required": false,
            "searchable": false,
            "defaultValue": null,
            "calcByFormula": false
          },
          {
            "code": "print_form",
            "data": {},
            "type": "FILE",
            "view": {
              "data": {},
              "name": "Печатная форма"
            },
            "array": true,
            "single": false,
            "deleted": false,
            "formula": "",
            "indexed": false,
            "required": false,
            "searchable": false,
            "defaultValue": null,
            "calcByFormula": false
          },
          {
            "code": "print_form_id",
            "data": {},
            "type": "STRING",
            "view": {
              "data": {
                "additionalType": "string"
              },
              "name": "ID печатной формы"
            },
            "array": false,
            "single": true,
            "deleted": false,
            "formula": "",
            "indexed": false,
            "required": false,
            "searchable": false,
            "defaultValue": null,
            "calcByFormula": false
          },
          {
            "code": "app_name",
            "data": {},
            "type": "STRING",
            "view": {
              "data": {
                "additionalType": "string"
              },
              "name": "Название приложения"
            },
            "array": false,
            "single": true,
            "deleted": false,
            "formula": "",
            "indexed": false,
            "required": false,
            "searchable": false,
            "defaultValue": null,
            "calcByFormula": false
          },
          {
            "code": "app_code",
            "data": {},
            "type": "STRING",
            "view": {
              "data": {
                "additionalType": "string"
              },
              "name": "Код приложения"
            },
            "array": false,
            "single": true,
            "deleted": false,
            "formula": "",
            "indexed": false,
            "required": false,
            "searchable": false,
            "defaultValue": null,
            "calcByFormula": false
          },
          {
            "code": "doc_type_name",
            "data": {},
            "type": "STRING",
            "view": {
              "data": {
                "additionalType": "string"
              },
              "name": "Название вида документа"
            },
            "array": false,
            "single": true,
            "deleted": false,
            "formula": "",
            "indexed": false,
            "required": false,
            "searchable": false,
            "defaultValue": null,
            "calcByFormula": false
          },
          {
            "code": "skip_print_form",
            "data": {},
            "type": "BOOLEAN",
            "view": {
              "data": {
                "noValue": "Нет",
                "yesValue": "Да",
                "additionalType": "radio"
              },
              "name": "Пропустить печатную форму"
            },
            "array": false,
            "single": true,
            "deleted": false,
            "formula": "",
            "indexed": false,
            "required": false,
            "searchable": false,
            "defaultValue": false,
            "calcByFormula": false
          }
        ],
        "result": {
          "__count": {
            "kind": "none",
            "label": "",
            "formula": "sum"
          },
          "__index": {
            "kind": "none",
            "label": "",
            "formula": "sum"
          },
          "app_code": {
            "kind": "none",
            "label": "",
            "formula": "sum"
          },
          "app_name": {
            "kind": "none",
            "label": "",
            "formula": "sum"
          },
          "print_form": {
            "kind": "none",
            "label": "",
            "formula": "sum"
          },
          "doc_type_name": {
            "kind": "none",
            "label": "",
            "formula": "sum"
          },
          "print_form_id": {
            "kind": "none",
            "label": "",
            "formula": "sum"
          },
          "skip_print_form": {
            "kind": "none",
            "label": "",
            "formula": "sum"
          }
        }
      },
      "view": {
        "name": "Неизвестные виды документов",
        "data": {
          "allowDeleteRows": false,
          "collapseNestedHeaders": false,
          "columnsView": {
            "app_code": {
              "align": "left",
              "backgroundColor": "",
              "compression": false,
              "font": {
                "bold": false,
                "color": "",
                "italic": false,
                "underline": false
              },
              "hidden": false,
              "key": false,
              "readonly": false,
              "required": false,
              "tensile": false,
              "verticalAlign": "middle",
              "width": 175
            },
            "app_name": {
              "align": "left",
              "backgroundColor": "",
              "compression": false,
              "font": {
                "bold": false,
                "color": "",
                "italic": false,
                "underline": false
              },
              "hidden": false,
              "key": false,
              "readonly": false,
              "required": false,
              "tensile": false,
              "verticalAlign": "middle",
              "width": 175
            },
            "doc_type_name": {
              "align": "left",
              "backgroundColor": "",
              "compression": false,
              "font": {
                "bold": false,
                "color": "",
                "italic": false,
                "underline": false
              },
              "hidden": false,
              "key": false,
              "readonly": false,
              "required": false,
              "tensile": false,
              "verticalAlign": "middle",
              "width": 175
            },
            "print_form": {
              "align": "left",
              "backgroundColor": "",
              "compression": false,
              "font": {
                "bold": false,
                "color": "",
                "italic": false,
                "underline": false
              },
              "hidden": false,
              "key": false,
              "readonly": false,
              "required": false,
              "tensile": false,
              "verticalAlign": "middle",
              "width": 175
            },
            "print_form_id": {
              "align": "left",
              "backgroundColor": "",
              "compression": false,
              "font": {
                "bold": false,
                "color": "",
                "italic": false,
                "underline": false
              },
              "hidden": false,
              "key": false,
              "readonly": false,
              "required": false,
              "tensile": false,
              "verticalAlign": "middle",
              "width": 175
            },
            "skip_print_form": {
              "align": "left",
              "compression": false,
              "font": {
                "bold": false,
                "color": "",
                "italic": false,
                "underline": false
              },
              "hidden": false,
              "readonly": false,
              "required": false,
              "tensile": false,
              "verticalAlign": "middle",
              "width": 175
            }
          },
          "footerHidden": false,
          "groupingSettings": {
            "code": "",
            "kind": "None",
            "sort": "asc"
          },
          "headerHidden": false,
          "maxRowCount": 0,
          "relativeWidth": false,
          "rowMinHeight": 35,
          "showOrderNumbers": false,
          "viewTemplate": "Элементов: {$__count}",
          "viewVariant": "table"
        },
        "input": true,
        "output": true
      }
    },
    {
      "code": "error",
      "type": "STRING",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Ошибка",
        "data": {
          "additionalType": "text"
        }
      }
    },
    {
      "code": "document_types",
      "type": "SYS_COLLECTION",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": true,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {
        "code": "document_types",
        "filter": null,
        "bindings": null,
        "namespace": "kedo",
        "isDependent": false,
        "linkedFieldCode": ""
      },
      "view": {
        "name": "Вид документа в 1С"
      }
    },
    {
      "code": "unknown_print_forms_table",
      "type": "TABLE",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {
        "fields": [
          {
            "code": "__count",
            "data": null,
            "type": "FLOAT",
            "view": {
              "data": {
                "additionalType": "integer"
              },
              "name": "Количество элементов",
              "system": true
            },
            "array": false,
            "single": true,
            "deleted": false,
            "formula": "",
            "indexed": false,
            "required": false,
            "searchable": false,
            "defaultValue": null,
            "calcByFormula": false
          },
          {
            "code": "__index",
            "data": {
              "result": {}
            },
            "type": "FLOAT",
            "view": {
              "data": {
                "additionalType": "integer"
              },
              "name": "№",
              "disabled": true
            },
            "array": false,
            "single": true,
            "deleted": false,
            "formula": "",
            "indexed": true,
            "required": false,
            "searchable": false,
            "defaultValue": null,
            "calcByFormula": false
          },
          {
            "code": "print_form",
            "data": {},
            "type": "FILE",
            "view": {
              "data": {},
              "name": "Печатная форма"
            },
            "array": true,
            "single": true,
            "deleted": false,
            "formula": "",
            "indexed": false,
            "required": false,
            "searchable": false,
            "defaultValue": null,
            "calcByFormula": false
          },
          {
            "code": "print_form_id",
            "data": {},
            "type": "STRING",
            "view": {
              "data": {
                "additionalType": "string"
              },
              "name": "ID печатной формы"
            },
            "array": false,
            "single": true,
            "deleted": false,
            "formula": "",
            "indexed": false,
            "required": false,
            "searchable": false,
            "defaultValue": null,
            "calcByFormula": false
          },
          {
            "code": "doc_type_1c",
            "data": {
              "code": "document_types",
              "filter": {
                "value": {
                  "tf": {}
                },
                "enabled": false
              },
              "bindings": null,
              "namespace": "kedo",
              "isDependent": false,
              "linkedFieldCode": ""
            },
            "type": "SYS_COLLECTION",
            "view": {
              "data": {
                "showCreateItem": false
              },
              "name": "Вид документа 1С"
            },
            "array": true,
            "single": true,
            "deleted": false,
            "formula": "",
            "indexed": false,
            "required": false,
            "searchable": false,
            "defaultValue": null,
            "calcByFormula": false
          },
          {
            "code": "app_name",
            "data": {},
            "type": "STRING",
            "view": {
              "data": {
                "additionalType": "string"
              },
              "name": "Название приложения"
            },
            "array": false,
            "single": true,
            "deleted": false,
            "formula": "",
            "indexed": false,
            "required": false,
            "searchable": false,
            "defaultValue": null,
            "calcByFormula": false
          },
          {
            "code": "app_code",
            "data": {},
            "type": "STRING",
            "view": {
              "data": {
                "additionalType": "string"
              },
              "name": "Код приложения"
            },
            "array": false,
            "single": true,
            "deleted": false,
            "formula": "",
            "indexed": false,
            "required": false,
            "searchable": false,
            "defaultValue": null,
            "calcByFormula": false
          },
          {
            "code": "doc_type_name",
            "data": {},
            "type": "STRING",
            "view": {
              "data": {
                "additionalType": "string"
              },
              "name": "Название вида документа"
            },
            "array": false,
            "single": true,
            "deleted": false,
            "formula": "",
            "indexed": false,
            "required": false,
            "searchable": false,
            "defaultValue": null,
            "calcByFormula": false
          },
          {
            "code": "integration_app",
            "data": {
              "code": "awaiting_documents_table_1c",
              "filter": {
                "value": {
                  "tf": {}
                },
                "enabled": false
              },
              "bindings": null,
              "namespace": "kedo",
              "isDependent": false,
              "linkedFieldCode": ""
            },
            "type": "SYS_COLLECTION",
            "view": {
              "data": {
                "showCreateItem": false
              },
              "name": "Приложение интеграции"
            },
            "array": true,
            "single": true,
            "deleted": false,
            "formula": "",
            "indexed": false,
            "required": false,
            "searchable": false,
            "defaultValue": null,
            "calcByFormula": false
          }
        ],
        "result": {
          "__count": {
            "kind": "none",
            "label": "",
            "formula": "sum"
          },
          "__index": {
            "kind": "none",
            "label": "",
            "formula": "sum"
          },
          "app_code": {
            "kind": "none",
            "label": "",
            "formula": "sum"
          },
          "app_name": {
            "kind": "none",
            "label": "",
            "formula": "sum"
          },
          "print_form": {
            "kind": "none",
            "label": "",
            "formula": "sum"
          },
          "doc_type_1c": {
            "kind": "none",
            "label": "",
            "formula": "sum"
          },
          "doc_type_name": {
            "kind": "none",
            "label": "",
            "formula": "sum"
          },
          "print_form_id": {
            "kind": "none",
            "label": "",
            "formula": "sum"
          },
          "integration_app": {
            "kind": "none",
            "label": "",
            "formula": "sum"
          }
        }
      },
      "view": {
        "name": "Таблица неизвестных печатных форм",
        "data": {
          "allowDeleteRows": false,
          "collapseNestedHeaders": false,
          "columnsView": {
            "app_code": {
              "align": "left",
              "backgroundColor": "",
              "compression": false,
              "font": {
                "bold": false,
                "color": "",
                "italic": false,
                "underline": false
              },
              "hidden": true,
              "key": false,
              "readonly": false,
              "required": false,
              "tensile": false,
              "verticalAlign": "middle",
              "width": 175
            },
            "app_name": {
              "align": "left",
              "backgroundColor": "",
              "compression": false,
              "font": {
                "bold": false,
                "color": "",
                "italic": false,
                "underline": false
              },
              "hidden": true,
              "key": false,
              "readonly": false,
              "required": false,
              "tensile": false,
              "verticalAlign": "middle",
              "width": 175
            },
            "doc_type_1c": {
              "align": "left",
              "backgroundColor": "",
              "compression": false,
              "font": {
                "bold": false,
                "color": "",
                "italic": false,
                "underline": false
              },
              "hidden": false,
              "key": false,
              "readonly": false,
              "required": false,
              "tensile": false,
              "verticalAlign": "middle",
              "width": 175
            },
            "doc_type_name": {
              "align": "left",
              "backgroundColor": "",
              "compression": false,
              "font": {
                "bold": false,
                "color": "",
                "italic": false,
                "underline": false
              },
              "hidden": true,
              "key": false,
              "readonly": false,
              "required": false,
              "tensile": false,
              "verticalAlign": "middle",
              "width": 175
            },
            "integration_app": {
              "align": "left",
              "backgroundColor": "",
              "compression": false,
              "font": {
                "bold": false,
                "color": "",
                "italic": false,
                "underline": false
              },
              "hidden": false,
              "key": false,
              "readonly": false,
              "required": false,
              "tensile": false,
              "verticalAlign": "middle",
              "width": 175
            },
            "print_form": {
              "align": "left",
              "backgroundColor": "",
              "compression": false,
              "font": {
                "bold": false,
                "color": "",
                "italic": false,
                "underline": false
              },
              "hidden": false,
              "key": false,
              "readonly": false,
              "required": false,
              "tensile": false,
              "verticalAlign": "middle",
              "width": 175
            },
            "print_form_id": {
              "align": "left",
              "backgroundColor": "",
              "compression": false,
              "font": {
                "bold": false,
                "color": "",
                "italic": false,
                "underline": false
              },
              "hidden": false,
              "key": false,
              "readonly": false,
              "required": false,
              "tensile": false,
              "verticalAlign": "middle",
              "width": 175
            }
          },
          "footerHidden": false,
          "groupingSettings": {
            "code": "",
            "kind": "None",
            "sort": "asc"
          },
          "headerHidden": false,
          "maxRowCount": 0,
          "relativeWidth": false,
          "rowMinHeight": 35,
          "showOrderNumbers": false,
          "viewTemplate": "Элементов: {$__count}",
          "viewVariant": "table"
        }
      }
    }
  ],
  "manualRun": false,
  "readonly": false,
  "__createdAt": "2023-09-25T19:30:31.412672495Z",
  "__createdBy": "b1815b65-1548-40d4-a2c2-8c2edb60ebe9",
  "__updatedAt": "2024-03-20T10:42:25.066452462Z",
  "__updatedBy": "cd06151e-bd48-4554-bb3b-34ae2f4e4eb3",
  "process": {
    "items": {
      "00000000-0000-0000-0000-000000000000": {
        "x": 64,
        "y": 136,
        "id": "00000000-0000-0000-0000-000000000000",
        "lane": "4d68b452-7b99-48bd-a043-573f553e98b9",
        "type": "start",
        "color": "#ffffff",
        "exits": ["69173ab5-589f-4f91-a2b0-eda8364680d3"],
        "width": 32,
        "height": 32,
        "settings": {
          "formFields": [
            {
              "code": "unknown_print_forms_table",
              "tooltip": "",
              "readonly": false,
              "required": false,
              "hideEmpty": false
            }
          ],
          "instruction": "",
          "notifyMessage": "Запущен процесс",
          "titleTemplate": "Определить вид неизвестных печатных форм",
          "titleGenerateMethod": "template"
        }
      },
      "1957c508-4da5-4177-b9d4-89919735af9e": {
        "x": 288,
        "y": 120,
        "id": "1957c508-4da5-4177-b9d4-89919735af9e",
        "icon": "user",
        "lane": "4d68b452-7b99-48bd-a043-573f553e98b9",
        "name": "Определение видов неизвестных печатных форм",
        "type": "user",
        "color": "#daeef7",
        "exits": ["118626d9-b8d7-4619-977c-e688280fa54a"],
        "width": 80,
        "height": 64,
        "settings": {
          "name": "",
          "notify": true,
          "formCode": "form_edf5b343-e425-4a34-9297-f0c2f1c771f5",
          "authorType": 0,
          "escalation": {
            "byTime": {
              "limit": {
                "days": 0,
                "kind": "duration",
                "hours": 0,
                "minutes": 0,
                "absolute": false
              },
              "action": {
                "notify": false,
                "interrupt": false,
                "receivers": []
              },
              "enabled": false
            }
          },
          "formFields": [],
          "priorityType": "context_var",
          "allowReassign": true,
          "descriptionType": "context_var",
          "placeContextVar": "",
          "planDatesSettings": {
            "enabled": false,
            "planCodes": {
              "endCode": "",
              "startCode": ""
            }
          },
          "disableEmailNotify": false,
          "isIgnoreSubstitutionTarget": "",
          "externalParticipantsContextVar": ""
        }
      },
      "1a0479c2-a7d3-4b00-897a-4a682a24d703": {
        "x": 152,
        "y": 120,
        "id": "1a0479c2-a7d3-4b00-897a-4a682a24d703",
        "icon": "script",
        "lane": "4d68b452-7b99-48bd-a043-573f553e98b9",
        "name": "Получить неизвестные виды печатных форм",
        "type": "script",
        "color": "#fde9a0",
        "exits": ["e4b3e5e1-35a2-415a-a73f-82298e5ede5c"],
        "width": 80,
        "height": 64,
        "settings": {
          "func": "getUnknownTypes",
          "count": 1,
          "delay": 5,
          "retry": true,
          "escalation": {
            "byError": {
              "notify": false,
              "interrupt": false,
              "receivers": []
            }
          }
        }
      },
      "2352c148-7556-4287-8ff7-e6df4997b868": {
        "x": 760,
        "y": 136,
        "id": "2352c148-7556-4287-8ff7-e6df4997b868",
        "icon": "end",
        "lane": "4d68b452-7b99-48bd-a043-573f553e98b9",
        "name": "",
        "type": "end",
        "color": "#ffffff",
        "exits": [],
        "width": 32,
        "height": 32,
        "settings": {
          "actions": [],
          "isModal": false,
          "actionType": "nothing",
          "messageText": "",
          "redirectUrl": ""
        }
      },
      "b9d2a430-e3a4-46cb-80d6-662f9359f613": {
        "x": 448,
        "y": 120,
        "id": "b9d2a430-e3a4-46cb-80d6-662f9359f613",
        "icon": "script",
        "lane": "4d68b452-7b99-48bd-a043-573f553e98b9",
        "name": "Создать виды документов",
        "type": "script",
        "color": "#fde9a0",
        "exits": ["20488a1a-16c7-43ee-9d02-347d5a32f062"],
        "width": 80,
        "height": 64,
        "settings": {
          "func": "createDocTypes",
          "count": 1,
          "delay": 5,
          "retry": true,
          "escalation": {
            "byError": {
              "notify": false,
              "interrupt": false,
              "receivers": []
            }
          }
        }
      },
      "d93f0d2a-611e-4bf4-9860-b7725b85178b": {
        "x": 608,
        "y": 120,
        "id": "d93f0d2a-611e-4bf4-9860-b7725b85178b",
        "icon": "script",
        "lane": "4d68b452-7b99-48bd-a043-573f553e98b9",
        "name": "Заполнить вид документов в таблице",
        "type": "script",
        "color": "#fde9a0",
        "exits": ["02423b9f-334d-4b06-b5f7-76a62d2a9082"],
        "width": 80,
        "height": 64,
        "settings": {
          "func": "fillDocType",
          "count": 1,
          "delay": 5,
          "retry": true,
          "escalation": {
            "byError": {
              "notify": false,
              "interrupt": false,
              "receivers": []
            }
          }
        }
      }
    },
    "lanes": {
      "4d68b452-7b99-48bd-a043-573f553e98b9": {
        "x": 8,
        "y": 8,
        "id": "4d68b452-7b99-48bd-a043-573f553e98b9",
        "name": "Инициатор",
        "color": "#d6f0cc",
        "width": 904,
        "height": 632,
        "settings": {
          "type": "dynamic",
          "variable": "__createdBy",
          "permissionExtend": {
            "kind": "simple"
          }
        },
        "direction": "vertical",
        "multiInstance": false
      }
    },
    "paper": {
      "format": "A4",
      "orientation": "landscape"
    },
    "transitions": {
      "02423b9f-334d-4b06-b5f7-76a62d2a9082": {
        "id": "02423b9f-334d-4b06-b5f7-76a62d2a9082",
        "name": "",
        "path": [
          {
            "x": 688,
            "y": 152
          },
          {
            "x": 760,
            "y": 152
          }
        ],
        "type": "plain",
        "source": "d93f0d2a-611e-4bf4-9860-b7725b85178b",
        "target": "2352c148-7556-4287-8ff7-e6df4997b868",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "118626d9-b8d7-4619-977c-e688280fa54a": {
        "id": "118626d9-b8d7-4619-977c-e688280fa54a",
        "name": "Готово",
        "path": [
          {
            "x": 368,
            "y": 152
          },
          {
            "x": 448,
            "y": 152
          }
        ],
        "type": "plain",
        "source": "1957c508-4da5-4177-b9d4-89919735af9e",
        "target": "b9d2a430-e3a4-46cb-80d6-662f9359f613",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "primary",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "20488a1a-16c7-43ee-9d02-347d5a32f062": {
        "id": "20488a1a-16c7-43ee-9d02-347d5a32f062",
        "name": "",
        "path": [
          {
            "x": 528,
            "y": 152
          },
          {
            "x": 608,
            "y": 152
          }
        ],
        "type": "plain",
        "source": "b9d2a430-e3a4-46cb-80d6-662f9359f613",
        "target": "d93f0d2a-611e-4bf4-9860-b7725b85178b",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "69173ab5-589f-4f91-a2b0-eda8364680d3": {
        "id": "69173ab5-589f-4f91-a2b0-eda8364680d3",
        "name": "",
        "path": [
          {
            "x": 96,
            "y": 152
          },
          {
            "x": 152,
            "y": 152
          }
        ],
        "type": "plain",
        "source": "00000000-0000-0000-0000-000000000000",
        "target": "1a0479c2-a7d3-4b00-897a-4a682a24d703",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "e4b3e5e1-35a2-415a-a73f-82298e5ede5c": {
        "id": "e4b3e5e1-35a2-415a-a73f-82298e5ede5c",
        "name": "",
        "path": [
          {
            "x": 232,
            "y": 152
          },
          {
            "x": 288,
            "y": 152
          }
        ],
        "type": "plain",
        "source": "1a0479c2-a7d3-4b00-897a-4a682a24d703",
        "target": "1957c508-4da5-4177-b9d4-89919735af9e",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      }
    }
  },
  "scripts": "/**\nHere you can write scripts for complex server processing of the context during process execution.\nTo write scripts, use TypeScript (https://www.typescriptlang.org).\nELMA365 SDK documentation available on https://tssdk.elma365.com.\n**/\n\nconst PROMISE_SIZE = 20;\n\nasync function createDocTypes(): Promise\u003cvoid\u003e {\n    const unknown_doc_types = Context.data.unknown_doc_types ?? Context.fields.unknown_doc_types.create();\n    const unknown_print_forms_table = Context.data.unknown_print_forms_table ?? Context.fields.unknown_print_forms_table.create();\n\n    const doc_types = await Context.fields.document_types.app.search()\n        .where((f, g) =\u003e g.and(\n            f.__deletedAt.eq(null),\n        ))\n        .size(10000)\n        .all();\n\n    let promises: Promise\u003cvoid\u003e[] = [];\n\n    for (const row of unknown_doc_types) {\n        // Если указали, что печатку нужно пропустить, то удаляем из таблицы все печатные формы с ID пропускаемой печатки.\n        if (row.skip_print_form == true) {\n            for (let i = unknown_print_forms_table.length - 1; i \u003e= 0; i--) {\n                if (unknown_print_forms_table[i].print_form_id == row.print_form_id) {\n                    unknown_print_forms_table.delete(i);\n                }\n            }\n\n            continue;\n        }\n\n        let doc_type = doc_types.find(f =\u003e f.data.doc_type_id_1c == row.print_form_id);\n\n        if (!doc_type) {\n            doc_type = Context.fields.document_types.app.create();\n\n            doc_type.data.app_code = row.app_code;\n            doc_type.data.doc_type_id_1c = row.print_form_id;\n            doc_type.data.__name = row.doc_type_name;\n\n            promises.push(doc_type.save());\n        }\n\n        if (promises.length \u003e PROMISE_SIZE) {\n            await Promise.all(promises);\n            promises = [];\n        }\n    }\n\n    await Promise.all(promises);\n}\n\nasync function fillDocType(): Promise\u003cvoid\u003e {\n    const unknown_print_forms_table = Context.data.unknown_print_forms_table ?? Context.fields.unknown_print_forms_table.create();\n\n    const doc_types = await Context.fields.document_types.app.search()\n        .where((f, g) =\u003e g.and(\n            f.__deletedAt.eq(null),\n        ))\n        .size(10000)\n        .all();\n\n    for (const row of unknown_print_forms_table) {\n        const doc_type = doc_types.find(f =\u003e f.data.doc_type_id_1c == row.print_form_id);\n\n        if (!doc_type) continue;\n\n        row.doc_type_1c = doc_type;\n    }\n}\n\nasync function getUnknownTypes(): Promise\u003cvoid\u003e {\n    const unknown_print_forms_table = Context.data.unknown_print_forms_table ?? Context.fields.unknown_print_forms_table.create();\n    const unknown_doc_types = Context.fields.unknown_doc_types.create();\n\n    for (const unknown_print_form of unknown_print_forms_table) {\n        const row = unknown_doc_types.find(f =\u003e f.print_form_id === unknown_print_form.print_form_id) ?? unknown_doc_types.insert();\n\n        row.print_form_id = unknown_print_form.print_form_id;\n        row.skip_print_form = false;\n        row.print_form = [...(row.print_form ?? []), unknown_print_form.print_form];\n    }\n\n    Context.data.unknown_doc_types = unknown_doc_types;\n}\n",
  "forms": [
    {
      "id": "",
      "code": "form_9547e88f-e0d4-444b-9859-ceccf04d5044",
      "name": "Определить вид неизвестных печатных форм",
      "values": {
        "formType": "task-form",
        "formGroup": {
          "path": ["context"]
        }
      },
      "widget": {
        "draft": false,
        "deleted": false,
        "version": 1
      },
      "content": {
        "[footer]": [
          {
            "id": "31979bac-00bd-4123-a901-9d14190c8dde",
            "values": {
              "buttons": {
                "path": ["actionButtons"]
              }
            },
            "content": null,
            "descriptor": "buttons-panel",
            "descriptorVersion": null
          }
        ],
        "[content]": [
          {
            "id": "c18e9118-cda2-49f4-ae50-5414c9b970b2",
            "values": {
              "shadow": true
            },
            "content": {
              "": [
                {
                  "id": "dcdd3e4e-0c49-483b-87c2-8c782a8890f0",
                  "values": {
                    "form": {
                      "path": ["context"]
                    },
                    "fields": {
                      "path": ["fields"]
                    }
                  },
                  "content": null,
                  "descriptor": "dynamic-form",
                  "descriptorVersion": null
                }
              ]
            },
            "descriptor": "modal-body",
            "descriptorVersion": null
          }
        ],
        "[sidebar]": [
          {
            "id": "39d7757a-529f-4526-98f3-fddc66becf85",
            "values": null,
            "content": {
              "": [
                {
                  "id": "abe4b782-6e2d-49cc-a57e-81b636422ee5",
                  "values": {
                    "context": {
                      "path": ["context"]
                    }
                  },
                  "content": null,
                  "descriptor": "target-widget",
                  "descriptorVersion": null
                }
              ]
            },
            "descriptor": "sidebar-widget",
            "descriptorVersion": null
          },
          {
            "id": "231b371a-64ae-4b61-8014-cba6da318ac9",
            "values": null,
            "content": {
              "": [
                {
                  "id": "5e39b91d-aea4-467e-862f-0f8766eb44df",
                  "values": {
                    "context": {
                      "path": ["context"]
                    }
                  },
                  "content": null,
                  "descriptor": "linked-item",
                  "descriptorVersion": null
                }
              ]
            },
            "descriptor": "sidebar-widget",
            "descriptorVersion": null
          },
          {
            "id": "a4469de0-d7f3-11ec-9d64-0242ac120002",
            "values": null,
            "content": {
              "": [
                {
                  "id": "3ead7c41-6dfa-4144-80da-2bfb5f0ccf59",
                  "values": {
                    "formGroup": {
                      "path": ["context"]
                    }
                  },
                  "content": null,
                  "descriptor": "item-reminder",
                  "descriptorVersion": null
                }
              ]
            },
            "descriptor": "sidebar-widget",
            "descriptorVersion": null
          },
          {
            "id": "56d1d0e8-aa83-4cdd-ae43-294b26ad4d04",
            "values": null,
            "content": {
              "": [
                {
                  "id": "e1525e34-14ba-456b-b703-f407945c01e0",
                  "values": {
                    "formGroup": {
                      "path": ["context"]
                    }
                  },
                  "content": null,
                  "descriptor": "item-tasks",
                  "descriptorVersion": null
                }
              ]
            },
            "descriptor": "sidebar-widget",
            "descriptorVersion": null
          },
          {
            "id": "eef018f2-1d3a-4600-a19d-791733b28b5e",
            "values": null,
            "content": {
              "": [
                {
                  "id": "e0a17dec-603a-461a-becf-861637630584",
                  "values": {
                    "target": {
                      "path": ["target"]
                    }
                  },
                  "content": null,
                  "descriptor": "messages-target",
                  "descriptorVersion": null
                }
              ]
            },
            "descriptor": "sidebar-widget",
            "descriptorVersion": null
          }
        ],
        "[formInfoPanel]": [
          {
            "id": "a0b6b0c1-4f23-4c81-9cb6-3108cccaee5d",
            "values": {
              "__validateResult": {
                "path": ["context", "__validateResult"]
              }
            },
            "content": null,
            "descriptor": "validation-info-block",
            "descriptorVersion": null
          }
        ],
        "[headerControls]": [
          {
            "id": "475aa008-aaff-402f-8de2-408bae1f1928",
            "values": {
              "task": {
                "path": ["task"]
              }
            },
            "content": null,
            "descriptor": "task-percent-widget",
            "descriptorVersion": null
          },
          {
            "id": "702d9c59-77ae-4dd5-b71a-a5fe7b58858f",
            "values": {
              "item": {
                "path": ["__itemRef"]
              }
            },
            "content": null,
            "descriptor": "extension-zone-toolbar-widget",
            "descriptorVersion": null
          },
          {
            "id": "f7b11c79-4267-4f5b-a002-dd629d549682",
            "values": {
              "task": {
                "path": ["task"]
              },
              "skipRulesCheck": true
            },
            "content": null,
            "descriptor": "process-item-map",
            "descriptorVersion": null
          },
          {
            "id": "ff2500ee-6573-49cd-a9e8-2d5c93350f26",
            "values": {
              "icon": "menu_vertical",
              "view": "icon",
              "label": "bpm.tasks.item@menu",
              "action": {
                "path": ["menuAction"]
              }
            },
            "content": null,
            "descriptor": "button",
            "descriptorVersion": null
          }
        ],
        "[headerCustomization]": []
      },
      "descriptor": "item-form-complex-popup",
      "descriptorVersion": 2
    },
    {
      "id": "",
      "code": "form_edf5b343-e425-4a34-9297-f0c2f1c771f5",
      "name": "Определение видов неизвестных печатных форм",
      "values": {
        "formType": "task-form",
        "formGroup": {
          "path": ["context"]
        }
      },
      "widget": {
        "draft": false,
        "deleted": false,
        "version": 1
      },
      "content": {
        "[footer]": [
          {
            "id": "31979bac-00bd-4123-a901-9d14190c8dde",
            "values": {
              "buttons": {
                "path": ["actionButtons"]
              }
            },
            "content": null,
            "descriptor": "buttons-panel",
            "descriptorVersion": null
          }
        ],
        "[content]": [
          {
            "id": "c18e9118-cda2-49f4-ae50-5414c9b970b2",
            "values": {
              "shadow": true
            },
            "content": {
              "": [
                {
                  "id": "dcdd3e4e-0c49-483b-87c2-8c782a8890f0",
                  "values": {
                    "form": {
                      "path": ["context"]
                    },
                    "fields": {
                      "path": ["fields"]
                    }
                  },
                  "content": null,
                  "descriptor": "dynamic-form",
                  "descriptorVersion": null
                }
              ]
            },
            "descriptor": "modal-body",
            "descriptorVersion": null
          }
        ],
        "[sidebar]": [
          {
            "id": "39d7757a-529f-4526-98f3-fddc66becf85",
            "values": null,
            "content": {
              "": [
                {
                  "id": "abe4b782-6e2d-49cc-a57e-81b636422ee5",
                  "values": {
                    "context": {
                      "path": ["context"]
                    }
                  },
                  "content": null,
                  "descriptor": "target-widget",
                  "descriptorVersion": null
                }
              ]
            },
            "descriptor": "sidebar-widget",
            "descriptorVersion": null
          },
          {
            "id": "231b371a-64ae-4b61-8014-cba6da318ac9",
            "values": null,
            "content": {
              "": [
                {
                  "id": "5e39b91d-aea4-467e-862f-0f8766eb44df",
                  "values": {
                    "context": {
                      "path": ["context"]
                    }
                  },
                  "content": null,
                  "descriptor": "linked-item",
                  "descriptorVersion": null
                }
              ]
            },
            "descriptor": "sidebar-widget",
            "descriptorVersion": null
          },
          {
            "id": "a4469de0-d7f3-11ec-9d64-0242ac120002",
            "values": null,
            "content": {
              "": [
                {
                  "id": "3ead7c41-6dfa-4144-80da-2bfb5f0ccf59",
                  "values": {
                    "formGroup": {
                      "path": ["context"]
                    }
                  },
                  "content": null,
                  "descriptor": "item-reminder",
                  "descriptorVersion": null
                }
              ]
            },
            "descriptor": "sidebar-widget",
            "descriptorVersion": null
          },
          {
            "id": "56d1d0e8-aa83-4cdd-ae43-294b26ad4d04",
            "values": null,
            "content": {
              "": [
                {
                  "id": "e1525e34-14ba-456b-b703-f407945c01e0",
                  "values": {
                    "formGroup": {
                      "path": ["context"]
                    }
                  },
                  "content": null,
                  "descriptor": "item-tasks",
                  "descriptorVersion": null
                }
              ]
            },
            "descriptor": "sidebar-widget",
            "descriptorVersion": null
          },
          {
            "id": "eef018f2-1d3a-4600-a19d-791733b28b5e",
            "values": null,
            "content": {
              "": [
                {
                  "id": "e0a17dec-603a-461a-becf-861637630584",
                  "values": {
                    "target": {
                      "path": ["target"]
                    }
                  },
                  "content": null,
                  "descriptor": "messages-target",
                  "descriptorVersion": null
                }
              ]
            },
            "descriptor": "sidebar-widget",
            "descriptorVersion": null
          }
        ],
        "[formInfoPanel]": [
          {
            "id": "37a69ba5-cdf1-42bd-a69b-9ee7ee923c02",
            "values": {
              "__validateResult": {
                "path": ["context", "__validateResult"]
              }
            },
            "content": null,
            "descriptor": "validation-info-block",
            "descriptorVersion": null
          }
        ],
        "[headerControls]": [
          {
            "id": "475aa008-aaff-402f-8de2-408bae1f1928",
            "values": {
              "task": {
                "path": ["task"]
              }
            },
            "content": null,
            "descriptor": "task-percent-widget",
            "descriptorVersion": null
          },
          {
            "id": "702d9c59-77ae-4dd5-b71a-a5fe7b58858f",
            "values": {
              "item": {
                "path": ["__itemRef"]
              }
            },
            "content": null,
            "descriptor": "extension-zone-toolbar-widget",
            "descriptorVersion": null
          },
          {
            "id": "f7b11c79-4267-4f5b-a002-dd629d549682",
            "values": {
              "task": {
                "path": ["task"]
              },
              "skipRulesCheck": true
            },
            "content": null,
            "descriptor": "process-item-map",
            "descriptorVersion": null
          },
          {
            "id": "ff2500ee-6573-49cd-a9e8-2d5c93350f26",
            "values": {
              "icon": "menu_vertical",
              "view": "icon",
              "label": "bpm.tasks.item@menu",
              "action": {
                "path": ["menuAction"]
              }
            },
            "content": null,
            "descriptor": "button",
            "descriptorVersion": null
          }
        ],
        "[headerCustomization]": []
      },
      "descriptor": "item-form-complex-popup",
      "descriptorVersion": 2
    }
  ],
  "settings": {
    "logged": true,
    "debugForm": {
      "allFields": false,
      "formFields": [
        {
          "code": "unknown_print_forms_table",
          "tooltip": "",
          "readonly": false,
          "required": false,
          "hideEmpty": false
        }
      ]
    },
    "targetFeed": {
      "type": "object",
      "variable": "document_types"
    },
    "allowGlobal": false,
    "instanceCard": {
      "allFields": true,
      "formFields": []
    },
    "notifyOnStart": true,
    "allowNamespace": true,
    "applicationContext": false,
    "importsDependencies": [],
    "fieldVisibilityConditions": {
      "error": {
        "enabled": false,
        "conditions": []
      },
      "document_types": {
        "enabled": false,
        "conditions": []
      },
      "unknown_doc_types": {
        "enabled": false,
        "conditions": []
      },
      "unknown_print_forms_table": {
        "enabled": false,
        "conditions": []
      }
    }
  },
  "hideInList": false,
  "applicationLink": false,
  "__deletedAt": null
}
