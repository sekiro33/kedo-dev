{
  "__id": "018fb8c1-cf14-7cd1-9f5e-001ee9c1c25d",
  "namespace": "kedo_ext",
  "code": "reminder",
  "category": "00000000-0000-0000-0000-000000000000",
  "__name": "Напоминание",
  "type": "bpmn",
  "draft": false,
  "version": 5,
  "context": [
    {
      "code": "task_link",
      "type": "LINK",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Ссылка на задачу",
        "data": {}
      }
    },
    {
      "code": "remind_datetime",
      "type": "DATETIME",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Дата/время напоминания",
        "data": {
          "additionalType": "datetime",
          "defaultTimeType": "startOfDay"
        }
      }
    },
    {
      "code": "alert_body_email",
      "type": "STRING",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Текст уведомления Email",
        "data": {
          "additionalType": "string"
        }
      }
    },
    {
      "code": "parent_process_link",
      "type": "LINK",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Ссылка на родительский процесс",
        "data": {}
      }
    },
    {
      "code": "notify_deadline_chief",
      "type": "FLOAT",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Срок оповещения руководителя о неподписании приказа сотрудником",
        "data": {
          "additionalType": "integer",
          "showRowSeparator": true
        }
      }
    },
    {
      "code": "notify_hr_datetime",
      "type": "DATETIME",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Время оповещения отделу кадров",
        "data": {
          "additionalType": "datetime",
          "defaultTimeType": "startOfDay"
        }
      }
    },
    {
      "code": "task_id",
      "type": "STRING",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "ID задачи",
        "data": {
          "additionalType": "string"
        }
      }
    },
    {
      "code": "current_datetime",
      "type": "DATETIME",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Текущая дата/время",
        "data": {
          "additionalType": "datetime",
          "defaultTimeType": "startOfDay"
        }
      }
    },
    {
      "code": "debug",
      "type": "STRING",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "debug",
        "data": {
          "additionalType": "text"
        },
        "input": true,
        "output": true
      }
    },
    {
      "code": "chief",
      "type": "SYS_USER",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": true,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {
        "filter": {
          "value": {
            "tf": {}
          },
          "enabled": false
        }
      },
      "view": {
        "name": "Руководитель",
        "data": {}
      }
    },
    {
      "code": "hr_dep",
      "type": "SYS_USER",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": true,
      "required": false,
      "single": false,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {
        "filter": {
          "value": {
            "tf": {}
          },
          "enabled": false
        }
      },
      "view": {
        "name": "Отдел кадров",
        "data": {}
      }
    },
    {
      "code": "notify_chief_datetime",
      "type": "DATETIME",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Время оповещения руководителю",
        "data": {
          "additionalType": "datetime",
          "defaultTimeType": "startOfDay"
        }
      }
    },
    {
      "code": "kedo_settings",
      "type": "SYS_COLLECTION",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": true,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {
        "code": "settings",
        "filter": {
          "value": {
            "tf": {}
          },
          "enabled": false
        },
        "bindings": null,
        "namespace": "kedo",
        "isDependent": false,
        "linkedFieldCode": ""
      },
      "view": {
        "name": "Настройки КЭДО",
        "data": {}
      }
    },
    {
      "code": "remind_frequency",
      "type": "FLOAT",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Периодичность напоминания",
        "data": {
          "additionalType": "integer",
          "showRowSeparator": true
        }
      }
    },
    {
      "code": "chief_app",
      "type": "SYS_COLLECTION",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": true,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {
        "code": "staff",
        "filter": {
          "value": {
            "tf": {}
          },
          "enabled": false
        },
        "bindings": null,
        "namespace": "kedo",
        "isDependent": false,
        "linkedFieldCode": ""
      },
      "view": {
        "name": "Руководитель (приложение)",
        "data": {}
      }
    },
    {
      "code": "alert_body_sms",
      "type": "STRING",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Текст уведомления SMS",
        "data": {
          "additionalType": "string"
        }
      }
    },
    {
      "code": "staff",
      "type": "SYS_COLLECTION",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": true,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {
        "code": "staff",
        "filter": {
          "value": {
            "tf": {}
          },
          "enabled": false
        },
        "bindings": null,
        "namespace": "kedo",
        "isDependent": false,
        "linkedFieldCode": ""
      },
      "view": {
        "name": "Сотрудник",
        "data": {}
      }
    },
    {
      "code": "notify_deadline_hr_dep",
      "type": "FLOAT",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Срок оповещения отдела кадров о неподписании приказа сотрудником",
        "data": {
          "additionalType": "integer",
          "showRowSeparator": true
        }
      }
    },
    {
      "code": "execution_time",
      "type": "DATETIME",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Срок выполнения",
        "data": {
          "additionalType": "datetime",
          "defaultTimeType": "startOfDay"
        }
      }
    },
    {
      "code": "error",
      "type": "STRING",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Ошибка",
        "data": {
          "additionalType": "string"
        }
      }
    }
  ],
  "manualRun": true,
  "readonly": false,
  "__createdAt": "2023-07-08T22:08:39.250515753Z",
  "__createdBy": "6c362877-9ef9-45f4-aa6f-e5e126ee96c0",
  "__updatedAt": "2024-06-05T05:34:37.691839342Z",
  "__updatedBy": "59e0911f-230a-4b6d-becf-6b302a91977a",
  "process": {
    "items": {
      "00000000-0000-0000-0000-000000000000": {
        "x": 56,
        "y": 248,
        "id": "00000000-0000-0000-0000-000000000000",
        "lane": "90b700bc-a029-440d-9033-affa0724797f",
        "type": "start",
        "color": "#ffffff",
        "exits": ["b21f8ede-e51b-403e-a794-d5b784957ec1"],
        "width": 32,
        "height": 32,
        "settings": {
          "formFields": [
            {
              "code": "__name",
              "display": "Название",
              "tooltip": "Название экземпляра процесса, будет показываться в задачах",
              "readonly": false,
              "required": true
            }
          ],
          "instruction": "",
          "notifyMessage": "Запущен процесс",
          "titleTemplate": "Напоминание - {$__createdAt}",
          "titleGenerateMethod": "template"
        }
      },
      "07cec9ee-8811-4f81-9b91-c87a3bd928a8": {
        "x": 728,
        "y": 336,
        "id": "07cec9ee-8811-4f81-9b91-c87a3bd928a8",
        "icon": "script",
        "lane": "90b700bc-a029-440d-9033-affa0724797f",
        "name": "Вычислить время оповещения (руководитель сотрудника)",
        "type": "script",
        "color": "#fde9a0",
        "exits": ["34dc6b68-c207-479d-9a4c-c9dfe6a5d793"],
        "width": 80,
        "height": 64,
        "settings": {
          "func": "calc_time_chief",
          "count": 1,
          "delay": 5,
          "retry": true,
          "escalation": {
            "byError": {
              "notify": false,
              "interrupt": false,
              "receivers": []
            }
          }
        }
      },
      "0c290b0e-1abf-4756-a77e-de7feac34a8d": {
        "x": 216,
        "y": 232,
        "id": "0c290b0e-1abf-4756-a77e-de7feac34a8d",
        "icon": "script",
        "lane": "90b700bc-a029-440d-9033-affa0724797f",
        "name": "Записать ID задачи в контекст",
        "type": "script",
        "color": "#fde9a0",
        "exits": [
          "ec3e7799-3c69-4741-935d-ca006da8fbfb",
          "f515536d-9df6-4458-b89e-6c053c37d5bd"
        ],
        "width": 80,
        "height": 64,
        "settings": {
          "func": "get_task_id",
          "count": 1,
          "delay": 5,
          "retry": true,
          "escalation": {
            "byError": {
              "exit": "f515536d-9df6-4458-b89e-6c053c37d5bd",
              "notify": true,
              "interrupt": true,
              "receivers": [
                {
                  "code": "administrators",
                  "kind": "group",
                  "multi": true,
                  "namespace": "system"
                }
              ]
            }
          }
        }
      },
      "199095c8-cd5a-45b2-86db-59ca078e4685": {
        "x": 1232,
        "y": 336,
        "id": "199095c8-cd5a-45b2-86db-59ca078e4685",
        "lane": "90b700bc-a029-440d-9033-affa0724797f",
        "name": "Оповещение типовое",
        "type": "call",
        "color": "#ffffff",
        "exits": ["4ee670d5-115e-4ffd-a434-fdd16bfd556c"],
        "width": 80,
        "height": 64,
        "settings": {
          "code": "notification",
          "async": true,
          "input": [
            {
              "source": {
                "kind": "context",
                "value": "chief_app"
              },
              "target": {
                "kind": "context",
                "value": "staff"
              }
            },
            {
              "source": {
                "kind": "manual",
                "value": "Оповещение"
              },
              "target": {
                "kind": "context",
                "value": "topic_of_the_letter"
              }
            },
            {
              "source": {
                "kind": "manual",
                "value": "Оповещение"
              },
              "target": {
                "kind": "context",
                "value": "alert_head"
              }
            },
            {
              "source": {
                "kind": "context",
                "value": "alert_body_sms"
              },
              "target": {
                "kind": "context",
                "value": "notification_text_for_sms"
              }
            },
            {
              "source": {
                "kind": "context",
                "value": "alert_body_email"
              },
              "target": {
                "kind": "context",
                "value": "alert_body"
              }
            }
          ],
          "output": [],
          "linkCode": "",
          "namespace": "kedo",
          "subProcessTargetFieldCode": ""
        }
      },
      "22e2906d-3b35-401d-a939-3b1ef76adf73": {
        "x": 520,
        "y": 232,
        "id": "22e2906d-3b35-401d-a939-3b1ef76adf73",
        "icon": "script",
        "lane": "90b700bc-a029-440d-9033-affa0724797f",
        "name": "Получить настройки КЭДО",
        "type": "script",
        "color": "#fde9a0",
        "exits": ["e9af1ad0-49e0-4323-8c2a-ac4032a793cf"],
        "width": 80,
        "height": 64,
        "settings": {
          "func": "get_kedo_settings",
          "count": 1,
          "delay": 5,
          "retry": true,
          "escalation": {
            "byError": {
              "notify": false,
              "interrupt": false,
              "receivers": []
            }
          }
        }
      },
      "29007ffa-73d9-457b-9414-8055faf99fb8": {
        "x": 240,
        "y": 432,
        "id": "29007ffa-73d9-457b-9414-8055faf99fb8",
        "icon": "end",
        "lane": "90b700bc-a029-440d-9033-affa0724797f",
        "name": "",
        "type": "end",
        "color": "#ffffff",
        "exits": [],
        "width": 32,
        "height": 32,
        "settings": {
          "actions": [],
          "isModal": false,
          "actionType": "nothing",
          "messageText": "",
          "redirectUrl": ""
        }
      },
      "2dd4c595-79b4-4ec0-baf6-14525352ed31": {
        "x": 416,
        "y": 232,
        "id": "2dd4c595-79b4-4ec0-baf6-14525352ed31",
        "lane": "90b700bc-a029-440d-9033-affa0724797f",
        "name": "Получаем участников групп",
        "type": "call",
        "color": "#ffffff",
        "exits": ["6196ca65-4bfa-4a12-9801-e17043d948fc"],
        "width": 80,
        "height": 64,
        "settings": {
          "code": "get_group_members_workflow",
          "async": false,
          "input": [
            {
              "source": {
                "kind": "context",
                "value": "staff.organization"
              },
              "target": {
                "kind": "context",
                "value": "organization"
              }
            }
          ],
          "output": [
            {
              "source": {
                "kind": "context",
                "value": "hr_dep"
              },
              "target": {
                "kind": "context",
                "value": "hr_dep"
              }
            }
          ],
          "namespace": "kedo.organization",
          "subProcessTargetFieldCode": ""
        }
      },
      "3224ecdc-38a3-4c47-8cb6-4d04f2e16b25": {
        "x": 840,
        "y": 176,
        "id": "3224ecdc-38a3-4c47-8cb6-4d04f2e16b25",
        "icon": "script",
        "lane": "90b700bc-a029-440d-9033-affa0724797f",
        "name": "Задать новое время для оповещения",
        "type": "script",
        "color": "#fde9a0",
        "exits": ["689ca009-409f-49ee-9450-66c82a935a4d"],
        "width": 80,
        "height": 64,
        "settings": {
          "func": "set_timer",
          "count": 1,
          "delay": 5,
          "retry": true,
          "escalation": {
            "byError": {
              "notify": false,
              "interrupt": false,
              "receivers": []
            }
          }
        }
      },
      "3c0ad7b4-c456-44a9-b975-7291d3424f12": {
        "x": 216,
        "y": 328,
        "id": "3c0ad7b4-c456-44a9-b975-7291d3424f12",
        "icon": "notification",
        "lane": "90b700bc-a029-440d-9033-affa0724797f",
        "name": "Оповещение об ошибке",
        "type": "notification",
        "color": "#ffff66",
        "exits": ["d3d84acd-1278-45df-b28d-cfd30a177b97"],
        "width": 80,
        "height": 64,
        "settings": {
          "author": {
            "code": "",
            "kind": "system"
          },
          "target": {
            "kind": "process"
          },
          "receivers": [
            {
              "code": "administrators",
              "kind": "group",
              "multi": true,
              "namespace": "system"
            }
          ],
          "messageBody": "{$error}",
          "messageHeader": "Ошибка в процессе \"Напоминание\""
        }
      },
      "3c5c0fea-379e-4b17-9272-1061bf48e95c": {
        "x": 1328,
        "y": 176,
        "id": "3c5c0fea-379e-4b17-9272-1061bf48e95c",
        "icon": "script",
        "lane": "90b700bc-a029-440d-9033-affa0724797f",
        "name": "Генерация текста уведомления для сотрудника",
        "type": "script",
        "color": "#fde9a0",
        "exits": ["84801b5e-65c8-4833-8dcc-a5b49df3dd77"],
        "width": 80,
        "height": 64,
        "settings": {
          "func": "generate_alert_staff",
          "count": 1,
          "delay": 5,
          "retry": true,
          "escalation": {
            "byError": {
              "notify": false,
              "interrupt": false,
              "receivers": []
            }
          }
        }
      },
      "408bf380-2b32-4492-8a36-f1dcacac32f3": {
        "x": 1656,
        "y": 336,
        "id": "408bf380-2b32-4492-8a36-f1dcacac32f3",
        "icon": "user",
        "lane": "4cbe8065-255c-4514-be2b-7666e9d27ade",
        "name": "Оповещение руководителю",
        "type": "user",
        "color": "#daeef7",
        "exits": ["a0916fa3-cbaf-41a2-8795-b12e820405e6"],
        "width": 80,
        "height": 64,
        "settings": {
          "name": "Проконтролировать подписание документа {ToString({$staff.full_name}, short, Р)}",
          "notify": true,
          "formCode": "form_39a20a2b-aa78-41e8-85ba-03a250627481",
          "authorType": 2,
          "escalation": {
            "byTime": {
              "limit": {
                "code": "execution_time",
                "days": 0,
                "kind": "variable",
                "hours": 0,
                "minutes": 0,
                "absolute": false,
                "substraction": false
              },
              "action": {
                "notify": true,
                "interrupt": false,
                "receivers": [
                  {
                    "code": "chief",
                    "kind": "context"
                  }
                ]
              },
              "enabled": true
            }
          },
          "formFields": [
            {
              "code": "staff",
              "tooltip": "",
              "readonly": true,
              "required": false,
              "hideEmpty": false
            },
            {
              "code": "execution_time",
              "tooltip": "",
              "readonly": true,
              "required": false,
              "hideEmpty": false
            }
          ],
          "priorityType": "context_var",
          "allowReassign": true,
          "descriptionType": "context_var",
          "placeContextVar": "",
          "planDatesSettings": {
            "enabled": false,
            "planCodes": {
              "endCode": "",
              "startCode": ""
            }
          },
          "disableEmailNotify": false,
          "externalParticipantsContextVar": ""
        }
      },
      "46251689-e192-47cf-b77d-badb56445ff4": {
        "x": 1128,
        "y": 336,
        "id": "46251689-e192-47cf-b77d-badb56445ff4",
        "icon": "script",
        "lane": "90b700bc-a029-440d-9033-affa0724797f",
        "name": "Генерация уведомления руководителю",
        "type": "script",
        "color": "#fde9a0",
        "exits": ["39458c8e-4920-49b8-bfa9-0739f634de09"],
        "width": 80,
        "height": 64,
        "settings": {
          "func": "generate_alert_chief",
          "count": 1,
          "delay": 5,
          "retry": true,
          "escalation": {
            "byError": {
              "notify": false,
              "interrupt": false,
              "receivers": []
            }
          }
        }
      },
      "46e5e7e2-a9c3-455c-a18e-d5d17fca3e1b": {
        "x": 120,
        "y": 232,
        "id": "46e5e7e2-a9c3-455c-a18e-d5d17fca3e1b",
        "icon": "script",
        "lane": "90b700bc-a029-440d-9033-affa0724797f",
        "name": "Таймер (10 секунд)",
        "type": "script",
        "color": "#fde9a0",
        "exits": ["f4aa23f4-c6a5-41ff-a19f-fe096ba4fa10"],
        "width": 80,
        "height": 64,
        "settings": {
          "func": "timer_10",
          "count": 1,
          "delay": 5,
          "retry": true,
          "escalation": {
            "byError": {
              "notify": false,
              "interrupt": false,
              "receivers": []
            }
          }
        }
      },
      "55cab69a-443b-41df-9be6-7ae354ce48c4": {
        "x": 1024,
        "y": 336,
        "id": "55cab69a-443b-41df-9be6-7ae354ce48c4",
        "lane": "90b700bc-a029-440d-9033-affa0724797f",
        "name": "Определение руководителя сотрудника",
        "type": "call",
        "color": "#ffffff",
        "exits": ["6387213a-e505-4708-be0a-9c3c4dc8624c"],
        "width": 80,
        "height": 64,
        "settings": {
          "code": "periodic_medical_examination",
          "async": false,
          "input": [
            {
              "source": {
                "kind": "context",
                "value": "staff"
              },
              "target": {
                "kind": "context",
                "value": "staff"
              }
            }
          ],
          "output": [
            {
              "source": {
                "kind": "context",
                "value": "chief"
              },
              "target": {
                "kind": "context",
                "value": "chief"
              }
            },
            {
              "source": {
                "kind": "context",
                "value": "chief_app"
              },
              "target": {
                "kind": "context",
                "value": "chief_app"
              }
            }
          ],
          "linkCode": "",
          "namespace": "kedo.staff",
          "subProcessTargetFieldCode": ""
        }
      },
      "5d25144f-476d-4548-ae51-327664ba3c68": {
        "x": 312,
        "y": 232,
        "id": "5d25144f-476d-4548-ae51-327664ba3c68",
        "lane": "90b700bc-a029-440d-9033-affa0724797f",
        "name": "Контроль закрытия задачи",
        "type": "call",
        "color": "#ffffff",
        "exits": ["7ca10e28-04b9-4555-9ff3-37228bb1d087"],
        "width": 80,
        "height": 64,
        "settings": {
          "code": "interrupt_notification_process",
          "async": true,
          "input": [
            {
              "source": {
                "kind": "context",
                "value": "task_id"
              },
              "target": {
                "kind": "context",
                "value": "task_id"
              }
            }
          ],
          "output": [],
          "linkCode": "",
          "namespace": "kedo_ext",
          "subProcessTargetFieldCode": ""
        }
      },
      "67b7868f-e05c-4a37-b58f-694886e0bdce": {
        "x": 632,
        "y": 248,
        "id": "67b7868f-e05c-4a37-b58f-694886e0bdce",
        "icon": "parallel",
        "lane": "90b700bc-a029-440d-9033-affa0724797f",
        "name": "",
        "type": "gateway",
        "color": "#ffffff",
        "exits": [
          "1c6c7a4f-c9cf-4f5c-8885-34221d840750",
          "e0167178-6547-47f2-90c7-fc093d001a01",
          "6ccefe51-c8b6-4615-af24-defc5d83977b"
        ],
        "width": 32,
        "height": 32,
        "settings": {
          "func": "",
          "type": "parallel",
          "useFunc": false,
          "funcType": "STRING",
          "description": ""
        }
      },
      "7547b13f-6a86-4a52-87ac-0f977cdecf42": {
        "x": 1432,
        "y": 176,
        "id": "7547b13f-6a86-4a52-87ac-0f977cdecf42",
        "lane": "90b700bc-a029-440d-9033-affa0724797f",
        "name": "Оповещение типовое",
        "type": "call",
        "color": "#ffffff",
        "exits": ["472d1925-e453-4d73-93ca-48441aa9379f"],
        "width": 80,
        "height": 64,
        "settings": {
          "code": "notification",
          "async": true,
          "input": [
            {
              "source": {
                "kind": "context",
                "value": "staff"
              },
              "target": {
                "kind": "context",
                "value": "staff"
              }
            },
            {
              "source": {
                "kind": "manual",
                "value": "Оповещение"
              },
              "target": {
                "kind": "context",
                "value": "topic_of_the_letter"
              }
            },
            {
              "source": {
                "kind": "manual",
                "value": "Оповещение"
              },
              "target": {
                "kind": "context",
                "value": "alert_head"
              }
            },
            {
              "source": {
                "kind": "context",
                "value": "alert_body_sms"
              },
              "target": {
                "kind": "context",
                "value": "notification_text_for_sms"
              }
            },
            {
              "source": {
                "kind": "context",
                "value": "alert_body_email"
              },
              "target": {
                "kind": "context",
                "value": "alert_body"
              }
            }
          ],
          "output": [],
          "linkCode": "",
          "namespace": "kedo",
          "subProcessTargetFieldCode": ""
        }
      },
      "78907707-ce3b-49f8-8fc7-34b15b9f0cfc": {
        "x": 2088,
        "y": 528,
        "id": "78907707-ce3b-49f8-8fc7-34b15b9f0cfc",
        "icon": "script",
        "lane": "3926a25c-6894-4732-be1b-b8c4cde4393d",
        "name": "Установить срок подписания = текущее время",
        "type": "script",
        "color": "#fde9a0",
        "exits": ["3e8c17fd-431b-467e-871d-1feda81e061d"],
        "width": 80,
        "height": 64,
        "settings": {
          "func": "designInPaper",
          "count": 1,
          "delay": 5,
          "retry": true,
          "escalation": {
            "byError": {
              "notify": false,
              "interrupt": false,
              "receivers": []
            }
          }
        }
      },
      "7fa6d385-b996-4484-96a4-653327694016": {
        "x": 840,
        "y": 72,
        "id": "7fa6d385-b996-4484-96a4-653327694016",
        "lane": "90b700bc-a029-440d-9033-affa0724797f",
        "name": "Оповещение типовое",
        "type": "call",
        "color": "#ffffff",
        "exits": ["7d3f580a-e855-47a2-914d-dff943a70f25"],
        "width": 80,
        "height": 64,
        "settings": {
          "code": "notification",
          "async": true,
          "input": [
            {
              "source": {
                "kind": "context",
                "value": "staff"
              },
              "target": {
                "kind": "context",
                "value": "staff"
              }
            },
            {
              "source": {
                "kind": "manual",
                "value": "Оповещение"
              },
              "target": {
                "kind": "context",
                "value": "topic_of_the_letter"
              }
            },
            {
              "source": {
                "kind": "manual",
                "value": "Оповещение"
              },
              "target": {
                "kind": "context",
                "value": "alert_head"
              }
            },
            {
              "source": {
                "kind": "context",
                "value": "alert_body_sms"
              },
              "target": {
                "kind": "context",
                "value": "notification_text_for_sms"
              }
            },
            {
              "source": {
                "kind": "context",
                "value": "alert_body_email"
              },
              "target": {
                "kind": "context",
                "value": "alert_body"
              }
            }
          ],
          "output": [],
          "namespace": "kedo",
          "subProcessTargetFieldCode": ""
        }
      },
      "85eb8135-36de-43a2-9cc9-eed692a89850": {
        "x": 896,
        "y": 496,
        "id": "85eb8135-36de-43a2-9cc9-eed692a89850",
        "icon": "timer",
        "lane": "90b700bc-a029-440d-9033-affa0724797f",
        "name": "Таймер",
        "type": "event",
        "color": "#ffffff",
        "exits": ["794c6778-4ba6-4903-b8b9-503f79c0cead"],
        "width": 32,
        "height": 32,
        "settings": {
          "kind": "timer",
          "timer": {
            "code": "notify_hr_datetime",
            "days": 0,
            "kind": "variable",
            "hours": 0,
            "minutes": 0,
            "absolute": false,
            "substraction": false
          }
        }
      },
      "8c7930c1-eac8-4222-9723-56f20be43d7d": {
        "x": 1240,
        "y": 192,
        "id": "8c7930c1-eac8-4222-9723-56f20be43d7d",
        "icon": "exclusive",
        "lane": "90b700bc-a029-440d-9033-affa0724797f",
        "name": "Истек срок выполнения задачи?",
        "type": "gateway",
        "color": "#ffffff",
        "exits": [
          "d6e6be3a-f054-4850-88d7-993425d3e638",
          "6a87ceda-6cb0-412f-a57f-52fb6b6446d3"
        ],
        "width": 32,
        "height": 32,
        "settings": {
          "func": "check_overdue",
          "type": "exclusive",
          "useFunc": true,
          "funcType": "BOOLEAN",
          "description": ""
        }
      },
      "a3469727-2e63-4eae-9589-be92a3cb2b21": {
        "x": 2128,
        "y": 240,
        "id": "a3469727-2e63-4eae-9589-be92a3cb2b21",
        "icon": "end",
        "lane": "3926a25c-6894-4732-be1b-b8c4cde4393d",
        "name": "",
        "type": "end",
        "color": "#ffffff",
        "exits": [],
        "width": 32,
        "height": 32,
        "settings": {
          "actions": [],
          "isModal": false,
          "actionType": "nothing",
          "messageText": "",
          "redirectUrl": ""
        }
      },
      "ad8e5388-7f9b-4ad7-9f36-395589f4e0ba": {
        "x": 896,
        "y": 352,
        "id": "ad8e5388-7f9b-4ad7-9f36-395589f4e0ba",
        "icon": "timer",
        "lane": "90b700bc-a029-440d-9033-affa0724797f",
        "name": "Таймер",
        "type": "event",
        "color": "#ffffff",
        "exits": ["94659bc7-e1eb-4a06-956f-100cc5d402c0"],
        "width": 32,
        "height": 32,
        "settings": {
          "kind": "timer",
          "timer": {
            "code": "notify_chief_datetime",
            "days": 0,
            "kind": "variable",
            "hours": 0,
            "minutes": 0,
            "absolute": false,
            "substraction": false
          }
        }
      },
      "b4a5f865-f06d-4ee4-9bb5-da5e98d63a60": {
        "x": 1920,
        "y": 480,
        "id": "b4a5f865-f06d-4ee4-9bb5-da5e98d63a60",
        "icon": "user",
        "lane": "3926a25c-6894-4732-be1b-b8c4cde4393d",
        "name": "Оповещение отделу кадров",
        "type": "user",
        "color": "#daeef7",
        "exits": [
          "69c82a72-a10d-4532-9c31-252523f83147",
          "05a5d8ea-b7d4-4ab4-b525-627377c52010"
        ],
        "width": 80,
        "height": 64,
        "settings": {
          "name": "Проконтролировать подписание документа {ToString({$staff.full_name}, short, Р)}",
          "notify": true,
          "formCode": "form_4c099275-aad7-436e-a5a3-8fa75728f15f",
          "authorType": 0,
          "escalation": {
            "byTime": {
              "limit": {
                "code": "execution_time",
                "days": 0,
                "kind": "variable",
                "hours": 0,
                "minutes": 0,
                "absolute": false,
                "substraction": false
              },
              "action": {
                "notify": true,
                "interrupt": false,
                "receivers": [
                  {
                    "code": "hr_dep",
                    "kind": "context"
                  }
                ]
              },
              "enabled": true
            }
          },
          "formFields": [
            {
              "code": "staff",
              "tooltip": "",
              "readonly": true,
              "required": false,
              "hideEmpty": false
            },
            {
              "code": "execution_time",
              "tooltip": "",
              "readonly": true,
              "required": false,
              "hideEmpty": false
            }
          ],
          "priorityType": "context_var",
          "allowReassign": true,
          "descriptionType": "context_var",
          "placeContextVar": "",
          "planDatesSettings": {
            "enabled": false,
            "planCodes": {
              "endCode": "",
              "startCode": ""
            }
          },
          "disableEmailNotify": false,
          "externalParticipantsContextVar": ""
        }
      },
      "b714d745-012b-4510-85c4-3c379dc9f5f9": {
        "x": 968,
        "y": 192,
        "id": "b714d745-012b-4510-85c4-3c379dc9f5f9",
        "icon": "timer",
        "lane": "90b700bc-a029-440d-9033-affa0724797f",
        "name": "Таймер",
        "type": "event",
        "color": "#ffffff",
        "exits": ["a90f1638-d9e5-4939-a032-c498b7019026"],
        "width": 32,
        "height": 32,
        "settings": {
          "kind": "timer",
          "timer": {
            "code": "remind_datetime",
            "days": 0,
            "kind": "variable",
            "hours": 0,
            "minutes": 0,
            "absolute": false,
            "substraction": false
          }
        }
      },
      "e92192d9-9734-40fd-b486-5d900fc0d4aa": {
        "x": 2056,
        "y": 240,
        "id": "e92192d9-9734-40fd-b486-5d900fc0d4aa",
        "icon": "parallel",
        "lane": "3926a25c-6894-4732-be1b-b8c4cde4393d",
        "name": "",
        "type": "gateway",
        "color": "#ffffff",
        "exits": ["816771ed-43b5-4d45-8735-9c001fdaefb5"],
        "width": 32,
        "height": 32,
        "settings": {
          "func": "",
          "type": "parallel",
          "useFunc": false,
          "funcType": "STRING",
          "description": ""
        }
      },
      "f5b831f6-8d8f-4b19-a819-0533def393dd": {
        "x": 728,
        "y": 480,
        "id": "f5b831f6-8d8f-4b19-a819-0533def393dd",
        "icon": "script",
        "lane": "90b700bc-a029-440d-9033-affa0724797f",
        "name": "Вычислить время оповещения (отдел кадров)",
        "type": "script",
        "color": "#fde9a0",
        "exits": ["5e93ca02-37bc-4e96-b85f-70a5ea72e444"],
        "width": 80,
        "height": 64,
        "settings": {
          "func": "calc_time_hr",
          "count": 1,
          "delay": 5,
          "retry": true,
          "escalation": {
            "byError": {
              "notify": false,
              "interrupt": false,
              "receivers": []
            }
          }
        }
      },
      "f74f74ba-60a5-4171-9576-48e51dcd6e08": {
        "x": 1072,
        "y": 192,
        "id": "f74f74ba-60a5-4171-9576-48e51dcd6e08",
        "icon": "exclusive",
        "lane": "90b700bc-a029-440d-9033-affa0724797f",
        "name": "Документ подписан?",
        "type": "gateway",
        "color": "#ffffff",
        "exits": [
          "9c5be04a-02bf-49a5-adac-c19e9380a027",
          "7c0a7a4e-3fde-459d-9c31-42a74c48a3ec"
        ],
        "width": 32,
        "height": 32,
        "settings": {
          "func": "check_document",
          "type": "exclusive",
          "useFunc": true,
          "funcType": "BOOLEAN",
          "description": ""
        }
      },
      "f9981b5f-f217-4897-a7dd-287097909671": {
        "x": 728,
        "y": 176,
        "id": "f9981b5f-f217-4897-a7dd-287097909671",
        "icon": "script",
        "lane": "90b700bc-a029-440d-9033-affa0724797f",
        "name": "Генерация текста уведомления",
        "type": "script",
        "color": "#fde9a0",
        "exits": ["3a6f026a-ba3c-4873-b915-ce66b0723af3"],
        "width": 80,
        "height": 64,
        "settings": {
          "func": "generate_alert_body",
          "count": 1,
          "delay": 5,
          "retry": true,
          "escalation": {
            "byError": {
              "notify": false,
              "interrupt": false,
              "receivers": []
            }
          }
        }
      }
    },
    "lanes": {
      "3926a25c-6894-4732-be1b-b8c4cde4393d": {
        "x": 1868,
        "y": 24,
        "id": "3926a25c-6894-4732-be1b-b8c4cde4393d",
        "name": "Отдел кадров",
        "color": "#d6f0cc",
        "width": 340,
        "height": 600,
        "settings": {
          "type": "dynamic",
          "groups": [null],
          "variable": "hr_dep",
          "permissionExtend": {
            "kind": "simple"
          }
        },
        "direction": "vertical",
        "multiInstance": true
      },
      "4cbe8065-255c-4514-be2b-7666e9d27ade": {
        "x": 1556,
        "y": 24,
        "id": "4cbe8065-255c-4514-be2b-7666e9d27ade",
        "name": "Руководитель",
        "color": "#d6f0cc",
        "width": 312,
        "height": 600,
        "settings": {
          "type": "dynamic",
          "groups": [null],
          "variable": "chief",
          "permissionExtend": {
            "kind": "simple"
          }
        },
        "direction": "vertical",
        "multiInstance": false
      },
      "90b700bc-a029-440d-9033-affa0724797f": {
        "x": 8,
        "y": 24,
        "id": "90b700bc-a029-440d-9033-affa0724797f",
        "name": "Инициатор",
        "color": "#d6f0cc",
        "width": 1548,
        "height": 600,
        "settings": {
          "type": "dynamic",
          "variable": "__createdBy",
          "permissionExtend": {
            "kind": "simple"
          }
        },
        "direction": "vertical",
        "multiInstance": false
      }
    },
    "paper": {
      "format": "A4",
      "orientation": "landscape"
    },
    "transitions": {
      "05a5d8ea-b7d4-4ab4-b525-627377c52010": {
        "id": "05a5d8ea-b7d4-4ab4-b525-627377c52010",
        "name": "Оформить в бумаге",
        "path": [
          {
            "x": 1960,
            "y": 544
          },
          {
            "x": 1960,
            "y": 560
          },
          {
            "x": 2088,
            "y": 560
          }
        ],
        "type": "plain",
        "source": "b4a5f865-f06d-4ee4-9bb5-da5e98d63a60",
        "target": "78907707-ce3b-49f8-8fc7-34b15b9f0cfc",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "1c6c7a4f-c9cf-4f5c-8885-34221d840750": {
        "id": "1c6c7a4f-c9cf-4f5c-8885-34221d840750",
        "name": "",
        "path": [
          {
            "x": 648,
            "y": 248
          },
          {
            "x": 648,
            "y": 208
          },
          {
            "x": 728,
            "y": 208
          }
        ],
        "type": "plain",
        "source": "67b7868f-e05c-4a37-b58f-694886e0bdce",
        "target": "f9981b5f-f217-4897-a7dd-287097909671",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "34dc6b68-c207-479d-9a4c-c9dfe6a5d793": {
        "id": "34dc6b68-c207-479d-9a4c-c9dfe6a5d793",
        "name": "",
        "path": [
          {
            "x": 808,
            "y": 368
          },
          {
            "x": 896,
            "y": 368
          }
        ],
        "type": "plain",
        "source": "07cec9ee-8811-4f81-9b91-c87a3bd928a8",
        "target": "ad8e5388-7f9b-4ad7-9f36-395589f4e0ba",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "39458c8e-4920-49b8-bfa9-0739f634de09": {
        "id": "39458c8e-4920-49b8-bfa9-0739f634de09",
        "name": "",
        "path": [
          {
            "x": 1208,
            "y": 368
          },
          {
            "x": 1232,
            "y": 368
          }
        ],
        "type": "plain",
        "source": "46251689-e192-47cf-b77d-badb56445ff4",
        "target": "199095c8-cd5a-45b2-86db-59ca078e4685",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "3a6f026a-ba3c-4873-b915-ce66b0723af3": {
        "id": "3a6f026a-ba3c-4873-b915-ce66b0723af3",
        "name": "",
        "path": [
          {
            "x": 808,
            "y": 208
          },
          {
            "x": 840,
            "y": 208
          }
        ],
        "type": "plain",
        "source": "f9981b5f-f217-4897-a7dd-287097909671",
        "target": "3224ecdc-38a3-4c47-8cb6-4d04f2e16b25",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "3e8c17fd-431b-467e-871d-1feda81e061d": {
        "id": "3e8c17fd-431b-467e-871d-1feda81e061d",
        "name": "",
        "path": [
          {
            "x": 2128,
            "y": 528
          },
          {
            "x": 2128,
            "y": 280
          },
          {
            "x": 2072,
            "y": 280
          },
          {
            "x": 2072,
            "y": 272
          }
        ],
        "type": "plain",
        "source": "78907707-ce3b-49f8-8fc7-34b15b9f0cfc",
        "target": "e92192d9-9734-40fd-b486-5d900fc0d4aa",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "472d1925-e453-4d73-93ca-48441aa9379f": {
        "id": "472d1925-e453-4d73-93ca-48441aa9379f",
        "name": "",
        "path": [
          {
            "x": 1512,
            "y": 208
          },
          {
            "x": 2072,
            "y": 208
          },
          {
            "x": 2072,
            "y": 240
          }
        ],
        "type": "plain",
        "source": "7547b13f-6a86-4a52-87ac-0f977cdecf42",
        "target": "e92192d9-9734-40fd-b486-5d900fc0d4aa",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "4ee670d5-115e-4ffd-a434-fdd16bfd556c": {
        "id": "4ee670d5-115e-4ffd-a434-fdd16bfd556c",
        "name": "",
        "path": [
          {
            "x": 1312,
            "y": 368
          },
          {
            "x": 1656,
            "y": 368
          }
        ],
        "type": "plain",
        "source": "199095c8-cd5a-45b2-86db-59ca078e4685",
        "target": "408bf380-2b32-4492-8a36-f1dcacac32f3",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "5e93ca02-37bc-4e96-b85f-70a5ea72e444": {
        "id": "5e93ca02-37bc-4e96-b85f-70a5ea72e444",
        "name": "",
        "path": [
          {
            "x": 808,
            "y": 512
          },
          {
            "x": 896,
            "y": 512
          }
        ],
        "type": "plain",
        "source": "f5b831f6-8d8f-4b19-a819-0533def393dd",
        "target": "85eb8135-36de-43a2-9cc9-eed692a89850",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "6196ca65-4bfa-4a12-9801-e17043d948fc": {
        "id": "6196ca65-4bfa-4a12-9801-e17043d948fc",
        "name": "",
        "path": [
          {
            "x": 496,
            "y": 264
          },
          {
            "x": 520,
            "y": 264
          }
        ],
        "type": "plain",
        "source": "2dd4c595-79b4-4ec0-baf6-14525352ed31",
        "target": "22e2906d-3b35-401d-a939-3b1ef76adf73",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "6387213a-e505-4708-be0a-9c3c4dc8624c": {
        "id": "6387213a-e505-4708-be0a-9c3c4dc8624c",
        "name": "",
        "path": [
          {
            "x": 1104,
            "y": 368
          },
          {
            "x": 1128,
            "y": 368
          }
        ],
        "type": "plain",
        "source": "55cab69a-443b-41df-9be6-7ae354ce48c4",
        "target": "46251689-e192-47cf-b77d-badb56445ff4",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "689ca009-409f-49ee-9450-66c82a935a4d": {
        "id": "689ca009-409f-49ee-9450-66c82a935a4d",
        "name": "",
        "path": [
          {
            "x": 920,
            "y": 208
          },
          {
            "x": 968,
            "y": 208
          }
        ],
        "type": "plain",
        "source": "3224ecdc-38a3-4c47-8cb6-4d04f2e16b25",
        "target": "b714d745-012b-4510-85c4-3c379dc9f5f9",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "69c82a72-a10d-4532-9c31-252523f83147": {
        "id": "69c82a72-a10d-4532-9c31-252523f83147",
        "name": "Готово",
        "path": [
          {
            "x": 2000,
            "y": 496
          },
          {
            "x": 2076,
            "y": 496
          },
          {
            "x": 2076,
            "y": 280
          },
          {
            "x": 2072,
            "y": 280
          },
          {
            "x": 2072,
            "y": 272
          }
        ],
        "type": "plain",
        "source": "b4a5f865-f06d-4ee4-9bb5-da5e98d63a60",
        "target": "e92192d9-9734-40fd-b486-5d900fc0d4aa",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "6a87ceda-6cb0-412f-a57f-52fb6b6446d3": {
        "id": "6a87ceda-6cb0-412f-a57f-52fb6b6446d3",
        "name": "Да",
        "path": [
          {
            "x": 1272,
            "y": 208
          },
          {
            "x": 1328,
            "y": 208
          }
        ],
        "type": "default",
        "source": "8c7930c1-eac8-4222-9723-56f20be43d7d",
        "target": "3c5c0fea-379e-4b17-9272-1061bf48e95c",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "6ccefe51-c8b6-4615-af24-defc5d83977b": {
        "id": "6ccefe51-c8b6-4615-af24-defc5d83977b",
        "name": "",
        "path": [
          {
            "x": 648,
            "y": 280
          },
          {
            "x": 648,
            "y": 512
          },
          {
            "x": 728,
            "y": 512
          }
        ],
        "type": "plain",
        "source": "67b7868f-e05c-4a37-b58f-694886e0bdce",
        "target": "f5b831f6-8d8f-4b19-a819-0533def393dd",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "794c6778-4ba6-4903-b8b9-503f79c0cead": {
        "id": "794c6778-4ba6-4903-b8b9-503f79c0cead",
        "name": "",
        "path": [
          {
            "x": 928,
            "y": 512
          },
          {
            "x": 1920,
            "y": 512
          }
        ],
        "type": "plain",
        "source": "85eb8135-36de-43a2-9cc9-eed692a89850",
        "target": "b4a5f865-f06d-4ee4-9bb5-da5e98d63a60",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "7c0a7a4e-3fde-459d-9c31-42a74c48a3ec": {
        "id": "7c0a7a4e-3fde-459d-9c31-42a74c48a3ec",
        "name": "Да",
        "path": [
          {
            "x": 1088,
            "y": 224
          },
          {
            "x": 1088,
            "y": 256
          },
          {
            "x": 2056,
            "y": 256
          }
        ],
        "type": "plain",
        "source": "f74f74ba-60a5-4171-9576-48e51dcd6e08",
        "target": "e92192d9-9734-40fd-b486-5d900fc0d4aa",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [
            {
              "a": {
                "kind": "context",
                "value": "__service"
              },
              "b": {
                "kind": "manual",
                "value": true
              },
              "type": "BOOLEAN",
              "inversion": false,
              "operation": {
                "relation": "equal",
                "inversion": false,
                "caseInsensitive": false
              },
              "conjunction": false
            }
          ],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "7ca10e28-04b9-4555-9ff3-37228bb1d087": {
        "id": "7ca10e28-04b9-4555-9ff3-37228bb1d087",
        "name": "",
        "path": [
          {
            "x": 392,
            "y": 264
          },
          {
            "x": 416,
            "y": 264
          }
        ],
        "type": "plain",
        "source": "5d25144f-476d-4548-ae51-327664ba3c68",
        "target": "2dd4c595-79b4-4ec0-baf6-14525352ed31",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "7d3f580a-e855-47a2-914d-dff943a70f25": {
        "id": "7d3f580a-e855-47a2-914d-dff943a70f25",
        "name": "",
        "path": [
          {
            "x": 880,
            "y": 136
          },
          {
            "x": 880,
            "y": 176
          }
        ],
        "type": "plain",
        "source": "7fa6d385-b996-4484-96a4-653327694016",
        "target": "3224ecdc-38a3-4c47-8cb6-4d04f2e16b25",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "816771ed-43b5-4d45-8735-9c001fdaefb5": {
        "id": "816771ed-43b5-4d45-8735-9c001fdaefb5",
        "name": "",
        "path": [
          {
            "x": 2088,
            "y": 256
          },
          {
            "x": 2128,
            "y": 256
          }
        ],
        "type": "plain",
        "source": "e92192d9-9734-40fd-b486-5d900fc0d4aa",
        "target": "a3469727-2e63-4eae-9589-be92a3cb2b21",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "84801b5e-65c8-4833-8dcc-a5b49df3dd77": {
        "id": "84801b5e-65c8-4833-8dcc-a5b49df3dd77",
        "name": "",
        "path": [
          {
            "x": 1408,
            "y": 208
          },
          {
            "x": 1432,
            "y": 208
          }
        ],
        "type": "plain",
        "source": "3c5c0fea-379e-4b17-9272-1061bf48e95c",
        "target": "7547b13f-6a86-4a52-87ac-0f977cdecf42",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "94659bc7-e1eb-4a06-956f-100cc5d402c0": {
        "id": "94659bc7-e1eb-4a06-956f-100cc5d402c0",
        "name": "",
        "path": [
          {
            "x": 928,
            "y": 368
          },
          {
            "x": 1024,
            "y": 368
          }
        ],
        "type": "plain",
        "source": "ad8e5388-7f9b-4ad7-9f36-395589f4e0ba",
        "target": "55cab69a-443b-41df-9be6-7ae354ce48c4",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "9c5be04a-02bf-49a5-adac-c19e9380a027": {
        "id": "9c5be04a-02bf-49a5-adac-c19e9380a027",
        "name": "Нет",
        "path": [
          {
            "x": 1104,
            "y": 208
          },
          {
            "x": 1240,
            "y": 208
          }
        ],
        "type": "default",
        "source": "f74f74ba-60a5-4171-9576-48e51dcd6e08",
        "target": "8c7930c1-eac8-4222-9723-56f20be43d7d",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "a0916fa3-cbaf-41a2-8795-b12e820405e6": {
        "id": "a0916fa3-cbaf-41a2-8795-b12e820405e6",
        "name": "Готово",
        "path": [
          {
            "x": 1736,
            "y": 368
          },
          {
            "x": 2068,
            "y": 368
          },
          {
            "x": 2068,
            "y": 280
          },
          {
            "x": 2072,
            "y": 280
          },
          {
            "x": 2072,
            "y": 272
          }
        ],
        "type": "plain",
        "source": "408bf380-2b32-4492-8a36-f1dcacac32f3",
        "target": "e92192d9-9734-40fd-b486-5d900fc0d4aa",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "primary",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "a90f1638-d9e5-4939-a032-c498b7019026": {
        "id": "a90f1638-d9e5-4939-a032-c498b7019026",
        "name": "",
        "path": [
          {
            "x": 1000,
            "y": 208
          },
          {
            "x": 1072,
            "y": 208
          }
        ],
        "type": "plain",
        "source": "b714d745-012b-4510-85c4-3c379dc9f5f9",
        "target": "f74f74ba-60a5-4171-9576-48e51dcd6e08",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "b21f8ede-e51b-403e-a794-d5b784957ec1": {
        "id": "b21f8ede-e51b-403e-a794-d5b784957ec1",
        "name": "",
        "path": [
          {
            "x": 88,
            "y": 264
          },
          {
            "x": 120,
            "y": 264
          }
        ],
        "type": "plain",
        "source": "00000000-0000-0000-0000-000000000000",
        "target": "46e5e7e2-a9c3-455c-a18e-d5d17fca3e1b",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "d3d84acd-1278-45df-b28d-cfd30a177b97": {
        "id": "d3d84acd-1278-45df-b28d-cfd30a177b97",
        "name": "",
        "path": [
          {
            "x": 256,
            "y": 392
          },
          {
            "x": 256,
            "y": 432
          }
        ],
        "type": "plain",
        "source": "3c0ad7b4-c456-44a9-b975-7291d3424f12",
        "target": "29007ffa-73d9-457b-9414-8055faf99fb8",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "d6e6be3a-f054-4850-88d7-993425d3e638": {
        "id": "d6e6be3a-f054-4850-88d7-993425d3e638",
        "name": "Нет",
        "path": [
          {
            "x": 1256,
            "y": 192
          },
          {
            "x": 1256,
            "y": 104
          },
          {
            "x": 920,
            "y": 104
          }
        ],
        "type": "plain",
        "source": "8c7930c1-eac8-4222-9723-56f20be43d7d",
        "target": "7fa6d385-b996-4484-96a4-653327694016",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [
            {
              "a": {
                "kind": "context",
                "value": "__service"
              },
              "b": {
                "kind": "manual",
                "value": false
              },
              "type": "BOOLEAN",
              "inversion": false,
              "operation": {
                "relation": "equal",
                "inversion": false,
                "caseInsensitive": false
              },
              "conjunction": false
            }
          ],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "e0167178-6547-47f2-90c7-fc093d001a01": {
        "id": "e0167178-6547-47f2-90c7-fc093d001a01",
        "name": "",
        "path": [
          {
            "x": 648,
            "y": 280
          },
          {
            "x": 648,
            "y": 368
          },
          {
            "x": 728,
            "y": 368
          }
        ],
        "type": "plain",
        "source": "67b7868f-e05c-4a37-b58f-694886e0bdce",
        "target": "07cec9ee-8811-4f81-9b91-c87a3bd928a8",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "e9af1ad0-49e0-4323-8c2a-ac4032a793cf": {
        "id": "e9af1ad0-49e0-4323-8c2a-ac4032a793cf",
        "name": "",
        "path": [
          {
            "x": 600,
            "y": 264
          },
          {
            "x": 632,
            "y": 264
          }
        ],
        "type": "plain",
        "source": "22e2906d-3b35-401d-a939-3b1ef76adf73",
        "target": "67b7868f-e05c-4a37-b58f-694886e0bdce",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "ec3e7799-3c69-4741-935d-ca006da8fbfb": {
        "id": "ec3e7799-3c69-4741-935d-ca006da8fbfb",
        "name": "",
        "path": [
          {
            "x": 296,
            "y": 264
          },
          {
            "x": 312,
            "y": 264
          }
        ],
        "type": "plain",
        "source": "0c290b0e-1abf-4756-a77e-de7feac34a8d",
        "target": "5d25144f-476d-4548-ae51-327664ba3c68",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "f4aa23f4-c6a5-41ff-a19f-fe096ba4fa10": {
        "id": "f4aa23f4-c6a5-41ff-a19f-fe096ba4fa10",
        "name": "",
        "path": [
          {
            "x": 200,
            "y": 264
          },
          {
            "x": 216,
            "y": 264
          }
        ],
        "type": "plain",
        "source": "46e5e7e2-a9c3-455c-a18e-d5d17fca3e1b",
        "target": "0c290b0e-1abf-4756-a77e-de7feac34a8d",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "f515536d-9df6-4458-b89e-6c053c37d5bd": {
        "id": "f515536d-9df6-4458-b89e-6c053c37d5bd",
        "name": "",
        "path": [
          {
            "x": 256,
            "y": 296
          },
          {
            "x": 256,
            "y": 328
          }
        ],
        "type": "error",
        "source": "0c290b0e-1abf-4756-a77e-de7feac34a8d",
        "target": "3c0ad7b4-c456-44a9-b975-7291d3424f12",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      }
    }
  },
  "scripts": "/**\nHere you can write scripts for complex server processing of the context during process execution.\nTo write scripts, use TypeScript (https://www.typescriptlang.org).\nELMA365 SDK documentation available on https://tssdk.elma365.com.\n**/\n\nasync function get_kedo_settings(): Promise\u003cvoid\u003e {\n    const settings = await Context.fields.kedo_settings.app.search().where(f =\u003e f.__deletedAt.eq(null)).size(10000).all();\n\n    const remind_frequency = settings.find(f =\u003e f.data.code == 'remind_frequency');\n    Context.data.remind_frequency = remind_frequency \u0026\u0026 remind_frequency.data.quantity ? remind_frequency.data.quantity : 4;\n\n    const notify_deadline_chief = settings.find(f =\u003e f.data.code == 'notify_deadline_chief');\n    Context.data.notify_deadline_chief = notify_deadline_chief \u0026\u0026 notify_deadline_chief.data.quantity ? notify_deadline_chief.data.quantity : 12;\n\n    const notify_deadline_hr_dep = settings.find(f =\u003e f.data.code == 'notify_deadline_hr_dep');\n    Context.data.notify_deadline_hr_dep = notify_deadline_hr_dep \u0026\u0026 notify_deadline_hr_dep.data.quantity ? notify_deadline_hr_dep.data.quantity : 8;\n}\n\nasync function get_current_time(): Promise\u003cvoid\u003e {\n    Context.data.current_datetime = new Datetime();\n}\n\nasync function set_timer(): Promise\u003cvoid\u003e {\n    if (!Context.data.remind_frequency || Context.data.remind_frequency == 0) {\n        Context.data.remind_frequency = 4;\n    }\n\n    const current_datetime = new Datetime();\n    Context.data.remind_datetime = await System.productionSchedule.calcDate(current_datetime, new Duration(Context.data.remind_frequency!, 'hours'));\n}\n\nasync function check_overdue(): Promise\u003cboolean\u003e {\n    const currentTime = new Datetime();\n    const limit = Context.data.execution_time!;\n    const remind_frequency = Context.data.remind_frequency!;\n\n    if (limit.sub(currentTime).hours \u003e remind_frequency) {\n        return true;\n    }\n\n    return false;\n}\n\nasync function check_document(): Promise\u003cboolean\u003e {\n    const task_id = Context.data.task_id!;\n\n    const task = await System.processes._searchTasks().where((f, g) =\u003e g.and(\n        f.__id.eq(task_id!)\n    )).first();\n\n    if (task \u0026\u0026 task.data.state != 'in_progress') {\n        return true;\n    }\n\n    return false;\n}\n\nasync function generate_alert_body(): Promise\u003cvoid\u003e {\n    const limit = Context.data.execution_time!.format('DD.MM.YYYY HH:mm');\n\n    Context.data.alert_body_email = `Вам поступил документ на подписание. Срок выполнения ${limit}. Перейдите на портал КЭДО.`;\n    Context.data.alert_body_sms = `Вам поступил документ на подписание. Срок выполнения ${limit}. Перейдите на портал КЭДО. (ссылка)`;\n}\n\nasync function generate_alert_staff(): Promise\u003cvoid\u003e {\n    const limit = Context.data.execution_time!.format('DD.MM.YYYY HH:mm');\n\n    Context.data.alert_body_email = `Внимание! У вас есть не подписанный документ. Срок подписания ${limit}.`;\n    Context.data.alert_body_sms = `Внимание! У вас есть не подписанный документ. Срок подписания ${limit}.`;\n}\n\nasync function generate_alert_chief(): Promise\u003cvoid\u003e {\n    const staff = await Context.data.staff!.fetch();\n    const limit = Context.data.execution_time!.format('DD.MM.YYYY HH:mm');\n\n    Context.data.alert_body_email = `Внимание! У ${staff.data.__name} есть не подписанный документ. Срок подписания ${limit}. Проконтролируйте подписание.`;\n    Context.data.alert_body_sms = `Внимание! У ${staff.data.__name} есть не подписанный документ. Срок подписания ${limit}. Проконтролируйте подписание.`;\n}\n\nfunction log(text: string): void {\n    if (!Context.data.debug) {\n        Context.data.debug = '';\n    }\n\n    Context.data.debug += `${text}\\n`;\n}\n\nasync function get_task_id(): Promise\u003cvoid\u003e {\n    // Получаем экземпляр текущего процесса.\n    const current_process = await System.processes._searchInstances().where(f =\u003e f.__id.eq(Context.id)).first();\n\n    // Получаем родительский процесс, из которого был запущен текущий процесс.\n    const parent_process = await System.processes._searchInstances().where(f =\u003e f.__id.eq(current_process!.data.__parentId!)).first();\n\n    if (!parent_process) {\n        Context.data.error = `Не удалось найти экземпляр родительского процесса. ID текущего процесса: ${current_process!.id}`;\n        throw new Error(Context.data.error);\n    }\n\n    const parent_process_template = await parent_process.getTemplate();\n    const proccess_data = parent_process_template.namespace.split('.');\n\n    /** Формирование строки - шаблон родительского процесса. */\n    const templateNsAndCode = `${proccess_data.join('.')}:${parent_process_template.code}`;\n\n    /** Получаем все задачи шаблона родительского процесса и сортируем их по убыванию. */\n    const tasks = await System.processes._searchTasks()\n        .where((f, g) =\u003e g.and(\n            g.or(\n                f.state.like('in_progress'),\n                f.state.like('assignment')\n            ),\n            f.templateNsAndCode.eq(templateNsAndCode)\n        ))\n        .sort(\"__createdAt\", false)\n        .size(1000)\n        .all();\n\n    /** Получение задач родительского процесса. */\n    let parent_process_tasks = tasks.filter(f =\u003e f.data.instance \u0026\u0026 f.data.instance.__id == parent_process?.id);\n\n    if (parent_process_tasks.length == 0) {\n        Context.data.error = `Не найдена задача, которую нужно отслеживать. ID текущего процесса: ${Context.id}; ID родительского процесса: ${parent_process.id};`;\n        throw new Error(Context.data.error);\n    }\n\n    // Первая задача род. процесса - задача, которую нам нужно контролировать.\n    const need_task = parent_process_tasks[0];\n\n    if (need_task \u0026\u0026 !need_task.data.dueDate) {\n        Context.data.error = `Для задачи ${need_task.data.__name} не установлено время выполнения.`\n        throw new Error(Context.data.error);\n    }\n\n    // Записываем в контекст ID задачи и время выполнения.\n    Context.data.task_id = need_task.id;\n    Context.data.execution_time = need_task.data.dueDate;\n\n    Context.data.parent_process_link = `${System.getBaseUrl()}/admin/monitor/${parent_process.data.__templateId}(p:history/${parent_process.id})`;\n    Context.data.task_link = `${System.getBaseUrl()}/admin/monitor/${parent_process.data.__templateId}(p:task/${need_task.id})`;\n}\n\nasync function calc_time_chief(): Promise\u003cvoid\u003e {\n    const notify_deadline_chief = Context.data.notify_deadline_chief;\n    const limit = Context.data.execution_time;\n\n    const planned_datetime = limit!.add(new Duration(-notify_deadline_chief!, 'hours'));\n\n    if (planned_datetime.before(new Datetime())) {\n        Context.data.notify_chief_datetime = new Datetime().add(new Duration(1, 'hours'));\n    } else {\n        Context.data.notify_chief_datetime = planned_datetime;\n    }\n}\n\nasync function calc_time_hr(): Promise\u003cvoid\u003e {\n    const notify_deadline_hr = Context.data.notify_deadline_hr_dep;\n    const limit = Context.data.execution_time;\n\n    const planned_datetime = limit!.add(new Duration(-notify_deadline_hr!, 'hours'));\n\n    if (planned_datetime.before(new Datetime())) {\n        Context.data.notify_hr_datetime = new Datetime().add(new Duration(1, 'hours'));\n    } else {\n        Context.data.notify_hr_datetime = planned_datetime;\n    }\n}\n\nasync function timer_10(): Promise\u003cvoid\u003e {\n    let currentTime = new Datetime();\n    let needTime = new Datetime().add(new Duration(20, 'seconds'));\n\n    while (!currentTime.after(needTime)) {\n        currentTime = new Datetime();\n    }\n}\n\nasync function designInPaper(): Promise\u003cvoid\u003e {\n    if (Context.data.task_id) {\n        const task = await System.processes._searchTasks().where(f =\u003e f.__id.eq(Context.data.task_id!)).first();\n        if (task) {\n            try {\n                await task.changeDueDate(new Datetime(),'В бумагу')\n            } catch {}\n        }\n    }\n}\n",
  "forms": [
    {
      "id": "",
      "code": "form_39a20a2b-aa78-41e8-85ba-03a250627481",
      "name": "Оповещение руководителю",
      "values": {
        "formType": "task-form",
        "formGroup": {
          "path": ["context"]
        }
      },
      "widget": {
        "draft": false,
        "deleted": false,
        "version": 4
      },
      "content": {
        "[footer]": [
          {
            "id": "31979bac-00bd-4123-a901-9d14190c8dde",
            "values": {
              "buttons": {
                "path": ["actionButtons"]
              }
            },
            "content": null,
            "descriptor": "buttons-panel",
            "descriptorVersion": null
          }
        ],
        "[content]": [
          {
            "id": "c18e9118-cda2-49f4-ae50-5414c9b970b2",
            "values": {
              "shadow": true
            },
            "content": {
              "": [
                {
                  "id": "dcdd3e4e-0c49-483b-87c2-8c782a8890f0",
                  "values": {
                    "form": {
                      "path": ["context"]
                    },
                    "fields": {
                      "path": ["fields"]
                    }
                  },
                  "content": null,
                  "descriptor": "dynamic-form",
                  "descriptorVersion": null
                }
              ]
            },
            "descriptor": "modal-body",
            "descriptorVersion": null
          }
        ],
        "[sidebar]": [
          {
            "id": "39d7757a-529f-4526-98f3-fddc66becf85",
            "values": null,
            "content": {
              "": [
                {
                  "id": "abe4b782-6e2d-49cc-a57e-81b636422ee5",
                  "values": {
                    "context": {
                      "path": ["context"]
                    }
                  },
                  "content": null,
                  "descriptor": "target-widget",
                  "descriptorVersion": null
                }
              ]
            },
            "descriptor": "sidebar-widget",
            "descriptorVersion": null
          },
          {
            "id": "231b371a-64ae-4b61-8014-cba6da318ac9",
            "values": null,
            "content": {
              "": [
                {
                  "id": "5e39b91d-aea4-467e-862f-0f8766eb44df",
                  "values": {
                    "context": {
                      "path": ["context"]
                    }
                  },
                  "content": null,
                  "descriptor": "linked-item",
                  "descriptorVersion": null
                }
              ]
            },
            "descriptor": "sidebar-widget",
            "descriptorVersion": null
          },
          {
            "id": "a4469de0-d7f3-11ec-9d64-0242ac120002",
            "values": null,
            "content": {
              "": [
                {
                  "id": "3ead7c41-6dfa-4144-80da-2bfb5f0ccf59",
                  "values": {
                    "formGroup": {
                      "path": ["context"]
                    }
                  },
                  "content": null,
                  "descriptor": "item-reminder",
                  "descriptorVersion": null
                }
              ]
            },
            "descriptor": "sidebar-widget",
            "descriptorVersion": null
          },
          {
            "id": "56d1d0e8-aa83-4cdd-ae43-294b26ad4d04",
            "values": null,
            "content": {
              "": [
                {
                  "id": "e1525e34-14ba-456b-b703-f407945c01e0",
                  "values": {
                    "formGroup": {
                      "path": ["context"]
                    }
                  },
                  "content": null,
                  "descriptor": "item-tasks",
                  "descriptorVersion": null
                }
              ]
            },
            "descriptor": "sidebar-widget",
            "descriptorVersion": null
          },
          {
            "id": "eef018f2-1d3a-4600-a19d-791733b28b5e",
            "values": null,
            "content": {
              "": [
                {
                  "id": "e0a17dec-603a-461a-becf-861637630584",
                  "values": {
                    "target": {
                      "path": ["target"]
                    }
                  },
                  "content": null,
                  "descriptor": "messages-target",
                  "descriptorVersion": null
                }
              ]
            },
            "descriptor": "sidebar-widget",
            "descriptorVersion": null
          }
        ],
        "[formInfoPanel]": [
          {
            "id": "c4b2ed7e-2f9c-47d4-8fbb-edcd3189e0db",
            "values": {
              "__validateResult": {
                "path": ["context", "__validateResult"]
              }
            },
            "content": null,
            "descriptor": "validation-info-block",
            "descriptorVersion": null
          }
        ],
        "[headerControls]": [
          {
            "id": "475aa008-aaff-402f-8de2-408bae1f1928",
            "values": {
              "task": {
                "path": ["task"]
              }
            },
            "content": null,
            "descriptor": "task-percent-widget",
            "descriptorVersion": null
          },
          {
            "id": "702d9c59-77ae-4dd5-b71a-a5fe7b58858f",
            "values": {
              "item": {
                "path": ["__itemRef"]
              }
            },
            "content": null,
            "descriptor": "extension-zone-toolbar-widget",
            "descriptorVersion": null
          },
          {
            "id": "f7b11c79-4267-4f5b-a002-dd629d549682",
            "values": {
              "task": {
                "path": ["task"]
              },
              "skipRulesCheck": true
            },
            "content": null,
            "descriptor": "process-item-map",
            "descriptorVersion": null
          },
          {
            "id": "ff2500ee-6573-49cd-a9e8-2d5c93350f26",
            "values": {
              "icon": "menu_vertical",
              "view": "icon",
              "label": "bpm.tasks.item@menu",
              "action": {
                "path": ["menuAction"]
              }
            },
            "content": null,
            "descriptor": "button",
            "descriptorVersion": null
          }
        ],
        "[headerCustomization]": []
      },
      "descriptor": "item-form-complex-popup",
      "descriptorVersion": 2
    },
    {
      "id": "",
      "code": "form_4c099275-aad7-436e-a5a3-8fa75728f15f",
      "name": "Оповещение отделу кадров",
      "values": {
        "formType": "task-form",
        "formGroup": {
          "path": ["context"]
        }
      },
      "widget": {
        "draft": false,
        "deleted": false,
        "version": 4
      },
      "content": {
        "[footer]": [
          {
            "id": "31979bac-00bd-4123-a901-9d14190c8dde",
            "values": {
              "buttons": {
                "path": ["actionButtons"]
              }
            },
            "content": null,
            "descriptor": "buttons-panel",
            "descriptorVersion": null
          }
        ],
        "[content]": [
          {
            "id": "c18e9118-cda2-49f4-ae50-5414c9b970b2",
            "values": {
              "shadow": true
            },
            "content": {
              "": [
                {
                  "id": "dcdd3e4e-0c49-483b-87c2-8c782a8890f0",
                  "values": {
                    "form": {
                      "path": ["context"]
                    },
                    "fields": {
                      "path": ["fields"]
                    }
                  },
                  "content": null,
                  "descriptor": "dynamic-form",
                  "descriptorVersion": null
                }
              ]
            },
            "descriptor": "modal-body",
            "descriptorVersion": null
          }
        ],
        "[sidebar]": [
          {
            "id": "39d7757a-529f-4526-98f3-fddc66becf85",
            "values": null,
            "content": {
              "": [
                {
                  "id": "abe4b782-6e2d-49cc-a57e-81b636422ee5",
                  "values": {
                    "context": {
                      "path": ["context"]
                    }
                  },
                  "content": null,
                  "descriptor": "target-widget",
                  "descriptorVersion": null
                }
              ]
            },
            "descriptor": "sidebar-widget",
            "descriptorVersion": null
          },
          {
            "id": "231b371a-64ae-4b61-8014-cba6da318ac9",
            "values": null,
            "content": {
              "": [
                {
                  "id": "5e39b91d-aea4-467e-862f-0f8766eb44df",
                  "values": {
                    "context": {
                      "path": ["context"]
                    }
                  },
                  "content": null,
                  "descriptor": "linked-item",
                  "descriptorVersion": null
                }
              ]
            },
            "descriptor": "sidebar-widget",
            "descriptorVersion": null
          },
          {
            "id": "a4469de0-d7f3-11ec-9d64-0242ac120002",
            "values": null,
            "content": {
              "": [
                {
                  "id": "3ead7c41-6dfa-4144-80da-2bfb5f0ccf59",
                  "values": {
                    "formGroup": {
                      "path": ["context"]
                    }
                  },
                  "content": null,
                  "descriptor": "item-reminder",
                  "descriptorVersion": null
                }
              ]
            },
            "descriptor": "sidebar-widget",
            "descriptorVersion": null
          },
          {
            "id": "56d1d0e8-aa83-4cdd-ae43-294b26ad4d04",
            "values": null,
            "content": {
              "": [
                {
                  "id": "e1525e34-14ba-456b-b703-f407945c01e0",
                  "values": {
                    "formGroup": {
                      "path": ["context"]
                    }
                  },
                  "content": null,
                  "descriptor": "item-tasks",
                  "descriptorVersion": 4
                }
              ]
            },
            "descriptor": "sidebar-widget",
            "descriptorVersion": null
          },
          {
            "id": "eef018f2-1d3a-4600-a19d-791733b28b5e",
            "values": null,
            "content": {
              "": [
                {
                  "id": "e0a17dec-603a-461a-becf-861637630584",
                  "values": {
                    "target": {
                      "path": ["target"]
                    }
                  },
                  "content": null,
                  "descriptor": "messages-target",
                  "descriptorVersion": null
                }
              ]
            },
            "descriptor": "sidebar-widget",
            "descriptorVersion": null
          }
        ],
        "[formInfoPanel]": [
          {
            "id": "8cffd088-cedd-42b4-9274-901eec7274f0",
            "values": {
              "__validateResult": {
                "path": ["context", "__validateResult"]
              }
            },
            "content": null,
            "descriptor": "validation-info-block",
            "descriptorVersion": null
          }
        ],
        "[headerControls]": [
          {
            "id": "475aa008-aaff-402f-8de2-408bae1f1928",
            "values": {
              "task": {
                "path": ["task"]
              }
            },
            "content": null,
            "descriptor": "task-percent-widget",
            "descriptorVersion": null
          },
          {
            "id": "702d9c59-77ae-4dd5-b71a-a5fe7b58858f",
            "values": {
              "item": {
                "path": ["__itemRef"]
              }
            },
            "content": null,
            "descriptor": "extension-zone-toolbar-widget",
            "descriptorVersion": null
          },
          {
            "id": "f7b11c79-4267-4f5b-a002-dd629d549682",
            "values": {
              "task": {
                "path": ["task"]
              },
              "skipRulesCheck": true
            },
            "content": null,
            "descriptor": "process-item-map",
            "descriptorVersion": null
          },
          {
            "id": "ff2500ee-6573-49cd-a9e8-2d5c93350f26",
            "values": {
              "icon": "menu_vertical",
              "view": "icon",
              "label": "bpm.tasks.item@menu",
              "action": {
                "path": ["menuAction"]
              }
            },
            "content": null,
            "descriptor": "button",
            "descriptorVersion": null
          }
        ],
        "[headerCustomization]": []
      },
      "descriptor": "item-form-complex-popup",
      "descriptorVersion": 2
    }
  ],
  "settings": {
    "logged": true,
    "debugForm": {
      "allFields": false,
      "formFields": []
    },
    "targetFeed": {
      "type": "instance",
      "variable": ""
    },
    "allowGlobal": false,
    "instanceCard": {
      "allFields": true,
      "formFields": []
    },
    "notifyOnStart": true,
    "allowNamespace": true,
    "applicationContext": false,
    "importsDependencies": [],
    "useStartFormInDebug": true,
    "fieldVisibilityConditions": {
      "chief": {
        "enabled": false,
        "conditions": []
      },
      "debug": {
        "enabled": false,
        "conditions": []
      },
      "error": {
        "enabled": false,
        "conditions": []
      },
      "staff": {
        "enabled": false,
        "conditions": []
      },
      "hr_dep": {
        "enabled": false,
        "conditions": []
      },
      "task_id": {
        "enabled": false,
        "conditions": []
      },
      "chief_app": {
        "enabled": false,
        "conditions": []
      },
      "task_link": {
        "enabled": false,
        "conditions": []
      },
      "kedo_settings": {
        "enabled": false,
        "conditions": []
      },
      "alert_body_sms": {
        "enabled": false,
        "conditions": []
      },
      "execution_time": {
        "enabled": false,
        "conditions": []
      },
      "remind_datetime": {
        "enabled": false,
        "conditions": []
      },
      "alert_body_email": {
        "enabled": false,
        "conditions": []
      },
      "current_datetime": {
        "enabled": false,
        "conditions": []
      },
      "remind_frequency": {
        "enabled": false,
        "conditions": []
      },
      "notify_hr_datetime": {
        "enabled": false,
        "conditions": []
      },
      "parent_process_link": {
        "enabled": false,
        "conditions": []
      },
      "notify_chief_datetime": {
        "enabled": false,
        "conditions": []
      },
      "notify_deadline_chief": {
        "enabled": false,
        "conditions": []
      },
      "notify_deadline_hr_dep": {
        "enabled": false,
        "conditions": []
      }
    }
  },
  "hideInList": false,
  "applicationLink": false,
  "__deletedAt": null
}
