{
  "__id": "018fb8c1-cf14-7c8f-b292-259f54c96ac7",
  "namespace": "ext_7fe3de7d-f459-4f75-940c-271c6e9ea1ed",
  "code": "get_priniting_docs",
  "category": "00000000-0000-0000-0000-000000000000",
  "__name": "__oldПолучить печатные формы документов",
  "type": "bpmn",
  "draft": false,
  "version": 4,
  "context": [
    {
      "code": "request_url",
      "type": "STRING",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "URL запроса",
        "data": {
          "additionalType": "string"
        }
      }
    },
    {
      "code": "iteration_number",
      "type": "FLOAT",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": 1,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Номер итерации",
        "data": {
          "additionalType": "integer",
          "showRowSeparator": true
        }
      }
    },
    {
      "code": "found_files",
      "type": "FILE",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": true,
      "required": false,
      "single": false,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Найденные файлы",
        "data": {}
      }
    },
    {
      "code": "document_id",
      "type": "STRING",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "id Документа",
        "data": {
          "additionalType": "string"
        }
      }
    },
    {
      "code": "filter",
      "type": "STRING",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Фильтр",
        "data": {
          "additionalType": "string"
        }
      }
    },
    {
      "code": "document_found",
      "type": "BOOLEAN",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": false,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Документ найден",
        "data": {
          "additionalType": "radio",
          "noValue": "Нет",
          "yesValue": "Да"
        }
      }
    },
    {
      "code": "response",
      "type": "STRING",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Ответ",
        "data": {
          "additionalType": "string"
        }
      }
    },
    {
      "code": "document_file",
      "type": "FILE",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": true,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Файл",
        "data": {}
      }
    },
    {
      "code": "error",
      "type": "STRING",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Ошибка",
        "data": {
          "additionalType": "string"
        }
      }
    }
  ],
  "manualRun": true,
  "readonly": false,
  "__createdAt": "2022-10-19T10:37:51.76483658Z",
  "__createdBy": "36866a36-08a4-47b2-80ed-c46c1518633a",
  "__updatedAt": "2022-10-19T12:52:15.836220665Z",
  "__updatedBy": "59e0911f-230a-4b6d-becf-6b302a91977a",
  "process": {
    "items": {
      "00000000-0000-0000-0000-000000000000": {
        "x": 104,
        "y": 72,
        "id": "00000000-0000-0000-0000-000000000000",
        "lane": "ccadba84-d61f-41d2-a557-5c58b6a61ef0",
        "type": "start",
        "color": "#ffffff",
        "exits": ["66f53267-85f4-4882-aea4-ceec96c3d45b"],
        "width": 32,
        "height": 32,
        "settings": {
          "formFields": [
            {
              "code": "document_id",
              "tooltip": "",
              "readonly": false,
              "required": true,
              "hideEmpty": false
            }
          ],
          "instruction": "",
          "notifyMessage": "Запущен процесс",
          "titleTemplate": "Получить печатные формы документов - {$__createdAt}",
          "titleGenerateMethod": "template"
        }
      },
      "4913a3d6-e223-4404-9480-30be6d0e017f": {
        "x": 80,
        "y": 280,
        "id": "4913a3d6-e223-4404-9480-30be6d0e017f",
        "icon": "script",
        "lane": "ccadba84-d61f-41d2-a557-5c58b6a61ef0",
        "name": "Записать данные запроса",
        "type": "script",
        "color": "#fde9a0",
        "exits": ["250ad4d8-953c-4142-86b4-f59fa267da12"],
        "width": 80,
        "height": 64,
        "settings": {
          "func": "fillRequestData",
          "count": 1,
          "delay": 5,
          "retry": true,
          "escalation": {
            "byError": {
              "notify": false,
              "interrupt": false,
              "receivers": []
            }
          }
        }
      },
      "5177b2a2-e296-4e9e-aaa4-9eea228c7e0f": {
        "x": 440,
        "y": 736,
        "id": "5177b2a2-e296-4e9e-aaa4-9eea228c7e0f",
        "icon": "script",
        "lane": "ccadba84-d61f-41d2-a557-5c58b6a61ef0",
        "name": "Заполнение данных запроса",
        "type": "script",
        "color": "#fde9a0",
        "exits": ["1499288a-e1cb-455d-a872-df35babe22eb"],
        "width": 80,
        "height": 64,
        "settings": {
          "func": "fillDocRequestData",
          "count": 1,
          "delay": 5,
          "retry": true,
          "escalation": {
            "byError": {
              "notify": false,
              "interrupt": false,
              "receivers": []
            }
          }
        }
      },
      "86ae6644-a3a2-486a-94b2-0cf41956607c": {
        "x": 368,
        "y": 296,
        "id": "86ae6644-a3a2-486a-94b2-0cf41956607c",
        "icon": "exclusive",
        "lane": "ccadba84-d61f-41d2-a557-5c58b6a61ef0",
        "name": "",
        "type": "gateway",
        "color": "#ffffff",
        "exits": [
          "b6400533-2028-4157-a7d3-ad899a604b42",
          "8f3901c5-f339-43ff-bf1b-d47db48081e9"
        ],
        "width": 32,
        "height": 32,
        "settings": {
          "func": "",
          "type": "exclusive",
          "useFunc": false,
          "funcType": "STRING",
          "description": ""
        }
      },
      "8aaba6f1-8628-4822-a4ed-17f38e66540f": {
        "x": 768,
        "y": 848,
        "id": "8aaba6f1-8628-4822-a4ed-17f38e66540f",
        "icon": "user",
        "lane": "ccadba84-d61f-41d2-a557-5c58b6a61ef0",
        "name": "Ознакомиться с ошибкой",
        "type": "user",
        "color": "#daeef7",
        "exits": ["73208e5b-898d-43c9-807a-ac5c33cb9482"],
        "width": 80,
        "height": 64,
        "settings": {
          "name": "",
          "notify": true,
          "escalation": {
            "byTime": {
              "limit": {
                "days": 0,
                "kind": "duration",
                "hours": 0,
                "minutes": 0,
                "absolute": false
              },
              "action": {
                "notify": false,
                "interrupt": false,
                "receivers": []
              },
              "enabled": false
            }
          },
          "formFields": [
            {
              "code": "request_url",
              "tooltip": "",
              "readonly": false,
              "required": false,
              "hideEmpty": false
            },
            {
              "code": "error",
              "tooltip": "",
              "readonly": false,
              "required": false,
              "hideEmpty": false
            },
            {
              "code": "response",
              "tooltip": "",
              "readonly": false,
              "required": false,
              "hideEmpty": false
            }
          ],
          "allowReassign": true,
          "planDatesSettings": {
            "enabled": false,
            "planCodes": {
              "endCode": "",
              "startCode": ""
            }
          }
        }
      },
      "a60476da-ab5f-44bd-9333-588fb159df45": {
        "x": 232,
        "y": 280,
        "id": "a60476da-ab5f-44bd-9333-588fb159df45",
        "icon": "system",
        "lane": "ccadba84-d61f-41d2-a557-5c58b6a61ef0",
        "name": "Запрос в 1С",
        "type": "ca",
        "color": "#fde9a0",
        "exits": [
          "4d34db17-6d81-48ec-9b3b-4a82ea187554",
          "c9bd0af3-31df-4192-9ff6-1b6760348d0b"
        ],
        "width": 80,
        "height": 64,
        "settings": {
          "code": "request_in_1c",
          "name": "",
          "input": [
            {
              "source": {
                "kind": "context",
                "value": "request_url"
              },
              "target": {
                "kind": "context",
                "value": "request_parameters"
              }
            },
            {
              "target": {
                "kind": "context",
                "value": "request_body"
              }
            },
            {
              "target": {
                "kind": "context",
                "value": "request_type_string"
              }
            }
          ],
          "output": [
            {
              "source": {
                "kind": "context",
                "value": "error"
              },
              "target": {
                "kind": "context",
                "value": "error"
              }
            },
            {
              "source": {
                "kind": "context",
                "value": "response"
              },
              "target": {
                "kind": "context",
                "value": "response_1c_json"
              }
            }
          ],
          "namespace": "ext_7fe3de7d-f459-4f75-940c-271c6e9ea1ed",
          "escalation": {
            "byTime": {
              "limit": {
                "days": 0,
                "kind": "duration",
                "hours": 0,
                "minutes": 0,
                "absolute": false
              },
              "action": {
                "notify": false,
                "interrupt": false,
                "receivers": []
              },
              "enabled": false
            },
            "byError": {
              "exit": "4d34db17-6d81-48ec-9b3b-4a82ea187554",
              "notify": true,
              "interrupt": true,
              "receivers": [
                {
                  "kind": "current"
                }
              ]
            }
          },
          "bindingForm": {
            "fieldValues": {}
          },
          "targetAppCode": "",
          "dynamicBinding": {}
        }
      },
      "ae7bcd69-acda-46c4-804c-d47417cf3a46": {
        "x": 344,
        "y": 160,
        "id": "ae7bcd69-acda-46c4-804c-d47417cf3a46",
        "icon": "user",
        "lane": "ccadba84-d61f-41d2-a557-5c58b6a61ef0",
        "name": "Ознакомиться с ошибкой",
        "type": "user",
        "color": "#daeef7",
        "exits": ["68ecbfc8-7ce7-4c69-8e76-7eede9b2e540"],
        "width": 80,
        "height": 64,
        "settings": {
          "name": "",
          "notify": true,
          "escalation": {
            "byTime": {
              "limit": {
                "days": 0,
                "kind": "duration",
                "hours": 0,
                "minutes": 0,
                "absolute": false
              },
              "action": {
                "notify": false,
                "interrupt": false,
                "receivers": []
              },
              "enabled": false
            }
          },
          "formFields": [
            {
              "code": "__name",
              "tooltip": "",
              "readonly": false,
              "required": true,
              "hideEmpty": false
            },
            {
              "code": "error",
              "tooltip": "",
              "readonly": false,
              "required": false,
              "hideEmpty": false
            },
            {
              "code": "response",
              "tooltip": "",
              "readonly": false,
              "required": false,
              "hideEmpty": false
            }
          ],
          "allowReassign": true,
          "planDatesSettings": {
            "enabled": false,
            "planCodes": {
              "endCode": "",
              "startCode": ""
            }
          }
        }
      },
      "b2efbbff-ed72-461f-ad37-abe87a1a46da": {
        "x": 600,
        "y": 728,
        "id": "b2efbbff-ed72-461f-ad37-abe87a1a46da",
        "icon": "script",
        "lane": "ccadba84-d61f-41d2-a557-5c58b6a61ef0",
        "name": "Парсинг файлов",
        "type": "script",
        "color": "#fde9a0",
        "exits": ["bdfc59c7-1c87-40d1-888d-e7910dd81902"],
        "width": 80,
        "height": 64,
        "settings": {
          "func": "parseFiles",
          "count": 1,
          "delay": 5,
          "retry": true,
          "escalation": {
            "byError": {
              "notify": false,
              "interrupt": false,
              "receivers": []
            }
          }
        }
      },
      "b79fcff3-53d1-4fdb-805f-bb82dc6c245f": {
        "x": 464,
        "y": 512,
        "id": "b79fcff3-53d1-4fdb-805f-bb82dc6c245f",
        "icon": "exclusive",
        "lane": "ccadba84-d61f-41d2-a557-5c58b6a61ef0",
        "name": "",
        "type": "gateway",
        "color": "#ffffff",
        "exits": [
          "1efcabf8-b4fc-411f-be3b-e9f2a85de242",
          "5b715870-82d2-42f0-a53d-304541b96d92"
        ],
        "width": 32,
        "height": 32,
        "settings": {
          "func": "",
          "type": "exclusive",
          "useFunc": false,
          "funcType": "STRING",
          "description": ""
        }
      },
      "c4494dec-2cf8-4845-a5ef-f4e7d3db1996": {
        "x": 440,
        "y": 848,
        "id": "c4494dec-2cf8-4845-a5ef-f4e7d3db1996",
        "icon": "system",
        "lane": "ccadba84-d61f-41d2-a557-5c58b6a61ef0",
        "name": "Запрос в 1С Документы",
        "type": "ca",
        "color": "#fde9a0",
        "exits": [
          "68b30a65-c4ea-43a7-a211-95ae98cf0211",
          "4291a5cb-e168-48d3-8d95-4b1bb53c64c6"
        ],
        "width": 80,
        "height": 64,
        "settings": {
          "code": "request_in_1c",
          "name": "",
          "input": [
            {
              "source": {
                "kind": "context",
                "value": "request_url"
              },
              "target": {
                "kind": "context",
                "value": "request_parameters"
              }
            },
            {
              "target": {
                "kind": "context",
                "value": "request_body"
              }
            },
            {
              "target": {
                "kind": "context",
                "value": "request_type_string"
              }
            }
          ],
          "output": [
            {
              "source": {
                "kind": "context",
                "value": "error"
              },
              "target": {
                "kind": "context",
                "value": "error"
              }
            },
            {
              "source": {
                "kind": "context",
                "value": "response"
              },
              "target": {
                "kind": "context",
                "value": "response_1c_json"
              }
            }
          ],
          "namespace": "ext_7fe3de7d-f459-4f75-940c-271c6e9ea1ed",
          "escalation": {
            "byTime": {
              "limit": {
                "days": 0,
                "kind": "duration",
                "hours": 0,
                "minutes": 0,
                "absolute": false
              },
              "action": {
                "notify": false,
                "interrupt": false,
                "receivers": []
              },
              "enabled": false
            },
            "byError": {
              "exit": "4291a5cb-e168-48d3-8d95-4b1bb53c64c6",
              "notify": true,
              "interrupt": true,
              "receivers": [
                {
                  "kind": "current"
                }
              ]
            }
          },
          "bindingForm": {
            "fieldValues": {}
          },
          "targetAppCode": "",
          "dynamicBinding": {}
        }
      },
      "cb5a0961-924b-467e-8991-c4d7175ee6af": {
        "x": 720,
        "y": 432,
        "id": "cb5a0961-924b-467e-8991-c4d7175ee6af",
        "icon": "end",
        "lane": "ccadba84-d61f-41d2-a557-5c58b6a61ef0",
        "name": "",
        "type": "end",
        "color": "#ffffff",
        "exits": [],
        "width": 32,
        "height": 32,
        "settings": {
          "actions": [],
          "isModal": false,
          "actionType": "nothing",
          "messageText": "",
          "redirectUrl": ""
        }
      },
      "d7dc8643-5982-4f01-b8af-22ef8211e2e0": {
        "x": 256,
        "y": 648,
        "id": "d7dc8643-5982-4f01-b8af-22ef8211e2e0",
        "icon": "timer",
        "lane": "ccadba84-d61f-41d2-a557-5c58b6a61ef0",
        "name": "Ожидание",
        "type": "event",
        "color": "#ffffff",
        "exits": ["7e763a97-20ec-49ef-a78d-c0d4e83bf9b8"],
        "width": 32,
        "height": 32,
        "settings": {
          "kind": "timer",
          "timer": {
            "days": 0,
            "kind": "duration",
            "hours": 0,
            "minutes": 1,
            "absolute": false
          }
        }
      },
      "eb410520-f21d-4a79-8a84-87a5c22719a6": {
        "x": 464,
        "y": 648,
        "id": "eb410520-f21d-4a79-8a84-87a5c22719a6",
        "icon": "exclusive",
        "lane": "ccadba84-d61f-41d2-a557-5c58b6a61ef0",
        "name": "",
        "type": "gateway",
        "color": "#ffffff",
        "exits": [
          "a3a1fc9e-bc0a-4b9a-b28b-b335ecd54e7c",
          "71fd5f87-ec28-4cab-a8f6-b18293ea9ac5"
        ],
        "width": 32,
        "height": 32,
        "settings": {
          "func": "",
          "type": "exclusive",
          "useFunc": false,
          "funcType": "STRING",
          "description": ""
        }
      },
      "f2172100-e556-48b1-ae82-77a8c6efbb39": {
        "x": 624,
        "y": 864,
        "id": "f2172100-e556-48b1-ae82-77a8c6efbb39",
        "icon": "exclusive",
        "lane": "ccadba84-d61f-41d2-a557-5c58b6a61ef0",
        "name": "",
        "type": "gateway",
        "color": "#ffffff",
        "exits": [
          "b695d837-132f-47a1-ab69-5154038c7e6b",
          "c40e0270-33e3-48e6-8793-d07cc38ca59c"
        ],
        "width": 32,
        "height": 32,
        "settings": {
          "func": "",
          "type": "exclusive",
          "useFunc": false,
          "funcType": "STRING",
          "description": ""
        }
      },
      "f7067404-5c84-46f4-a6e1-e93926063554": {
        "x": 440,
        "y": 416,
        "id": "f7067404-5c84-46f4-a6e1-e93926063554",
        "icon": "script",
        "lane": "ccadba84-d61f-41d2-a557-5c58b6a61ef0",
        "name": "Поиск нужного документа",
        "type": "script",
        "color": "#fde9a0",
        "exits": ["a5ee2161-b5c7-4761-adc7-06a2cefaa42b"],
        "width": 80,
        "height": 64,
        "settings": {
          "func": "parseData",
          "count": 1,
          "delay": 5,
          "retry": true,
          "escalation": {
            "byError": {
              "notify": false,
              "interrupt": false,
              "receivers": []
            }
          }
        }
      },
      "fe9e59db-7630-4504-80e8-0d225b4b039f": {
        "x": 80,
        "y": 160,
        "id": "fe9e59db-7630-4504-80e8-0d225b4b039f",
        "icon": "script",
        "lane": "ccadba84-d61f-41d2-a557-5c58b6a61ef0",
        "name": "Записать документ в известные",
        "type": "script",
        "color": "#fde9a0",
        "exits": ["05bec34c-da5b-47f1-b731-f38a8a8885cf"],
        "width": 80,
        "height": 64,
        "settings": {
          "func": "writeToDocApp",
          "count": 1,
          "delay": 5,
          "retry": true,
          "escalation": {
            "byError": {
              "notify": false,
              "interrupt": false,
              "receivers": []
            }
          }
        }
      }
    },
    "lanes": {
      "ccadba84-d61f-41d2-a557-5c58b6a61ef0": {
        "x": 8,
        "y": 8,
        "id": "ccadba84-d61f-41d2-a557-5c58b6a61ef0",
        "name": "Инициатор",
        "color": "#d6f0cc",
        "width": 864,
        "height": 1100,
        "settings": {
          "type": "dynamic",
          "variable": "__createdBy",
          "permissionExtend": {
            "kind": "simple"
          }
        },
        "direction": "vertical",
        "multiInstance": false
      }
    },
    "paper": {
      "format": "A4",
      "orientation": "landscape"
    },
    "transitions": {
      "05bec34c-da5b-47f1-b731-f38a8a8885cf": {
        "id": "05bec34c-da5b-47f1-b731-f38a8a8885cf",
        "name": "",
        "path": [
          {
            "x": 120,
            "y": 224
          },
          {
            "x": 120,
            "y": 280
          }
        ],
        "type": "plain",
        "source": "fe9e59db-7630-4504-80e8-0d225b4b039f",
        "target": "4913a3d6-e223-4404-9480-30be6d0e017f",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "1499288a-e1cb-455d-a872-df35babe22eb": {
        "id": "1499288a-e1cb-455d-a872-df35babe22eb",
        "name": "",
        "path": [
          {
            "x": 480,
            "y": 800
          },
          {
            "x": 480,
            "y": 848
          }
        ],
        "type": "plain",
        "source": "5177b2a2-e296-4e9e-aaa4-9eea228c7e0f",
        "target": "c4494dec-2cf8-4845-a5ef-f4e7d3db1996",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "1efcabf8-b4fc-411f-be3b-e9f2a85de242": {
        "id": "1efcabf8-b4fc-411f-be3b-e9f2a85de242",
        "name": "",
        "path": [
          {
            "x": 480,
            "y": 544
          },
          {
            "x": 480,
            "y": 648
          }
        ],
        "type": "default",
        "source": "b79fcff3-53d1-4fdb-805f-bb82dc6c245f",
        "target": "eb410520-f21d-4a79-8a84-87a5c22719a6",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "250ad4d8-953c-4142-86b4-f59fa267da12": {
        "id": "250ad4d8-953c-4142-86b4-f59fa267da12",
        "name": "",
        "path": [
          {
            "x": 160,
            "y": 312
          },
          {
            "x": 232,
            "y": 312
          }
        ],
        "type": "plain",
        "source": "4913a3d6-e223-4404-9480-30be6d0e017f",
        "target": "a60476da-ab5f-44bd-9333-588fb159df45",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "4291a5cb-e168-48d3-8d95-4b1bb53c64c6": {
        "id": "4291a5cb-e168-48d3-8d95-4b1bb53c64c6",
        "name": "",
        "path": [
          {
            "x": 520,
            "y": 896
          },
          {
            "x": 528,
            "y": 896
          },
          {
            "x": 528,
            "y": 936
          },
          {
            "x": 760,
            "y": 936
          },
          {
            "x": 760,
            "y": 896
          },
          {
            "x": 768,
            "y": 896
          }
        ],
        "type": "error",
        "source": "c4494dec-2cf8-4845-a5ef-f4e7d3db1996",
        "target": "8aaba6f1-8628-4822-a4ed-17f38e66540f",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "4d34db17-6d81-48ec-9b3b-4a82ea187554": {
        "id": "4d34db17-6d81-48ec-9b3b-4a82ea187554",
        "name": "",
        "path": [
          {
            "x": 272,
            "y": 280
          },
          {
            "x": 272,
            "y": 192
          },
          {
            "x": 344,
            "y": 192
          }
        ],
        "type": "error",
        "source": "a60476da-ab5f-44bd-9333-588fb159df45",
        "target": "ae7bcd69-acda-46c4-804c-d47417cf3a46",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "5b715870-82d2-42f0-a53d-304541b96d92": {
        "id": "5b715870-82d2-42f0-a53d-304541b96d92",
        "name": "",
        "path": [
          {
            "x": 496,
            "y": 528
          },
          {
            "x": 592,
            "y": 528
          },
          {
            "x": 592,
            "y": 448
          },
          {
            "x": 720,
            "y": 448
          }
        ],
        "type": "plain",
        "source": "b79fcff3-53d1-4fdb-805f-bb82dc6c245f",
        "target": "cb5a0961-924b-467e-8991-c4d7175ee6af",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [
            {
              "a": {
                "kind": "context",
                "value": "iteration_number"
              },
              "b": {
                "kind": "manual",
                "value": 10
              },
              "type": "FLOAT",
              "inversion": false,
              "operation": {
                "relation": "greater",
                "inversion": false,
                "caseInsensitive": false
              },
              "conjunction": false
            }
          ],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "66f53267-85f4-4882-aea4-ceec96c3d45b": {
        "id": "66f53267-85f4-4882-aea4-ceec96c3d45b",
        "name": "",
        "path": [
          {
            "x": 120,
            "y": 104
          },
          {
            "x": 120,
            "y": 160
          }
        ],
        "type": "plain",
        "source": "00000000-0000-0000-0000-000000000000",
        "target": "fe9e59db-7630-4504-80e8-0d225b4b039f",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "68b30a65-c4ea-43a7-a211-95ae98cf0211": {
        "id": "68b30a65-c4ea-43a7-a211-95ae98cf0211",
        "name": "",
        "path": [
          {
            "x": 520,
            "y": 880
          },
          {
            "x": 624,
            "y": 880
          }
        ],
        "type": "plain",
        "source": "c4494dec-2cf8-4845-a5ef-f4e7d3db1996",
        "target": "f2172100-e556-48b1-ae82-77a8c6efbb39",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "68ecbfc8-7ce7-4c69-8e76-7eede9b2e540": {
        "id": "68ecbfc8-7ce7-4c69-8e76-7eede9b2e540",
        "name": "",
        "path": [
          {
            "x": 424,
            "y": 192
          },
          {
            "x": 736,
            "y": 192
          },
          {
            "x": 736,
            "y": 432
          }
        ],
        "type": "plain",
        "source": "ae7bcd69-acda-46c4-804c-d47417cf3a46",
        "target": "cb5a0961-924b-467e-8991-c4d7175ee6af",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "71fd5f87-ec28-4cab-a8f6-b18293ea9ac5": {
        "id": "71fd5f87-ec28-4cab-a8f6-b18293ea9ac5",
        "name": "",
        "path": [
          {
            "x": 480,
            "y": 680
          },
          {
            "x": 480,
            "y": 736
          }
        ],
        "type": "plain",
        "source": "eb410520-f21d-4a79-8a84-87a5c22719a6",
        "target": "5177b2a2-e296-4e9e-aaa4-9eea228c7e0f",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [
            {
              "a": {
                "kind": "context",
                "value": "document_found"
              },
              "b": {
                "kind": "manual",
                "value": true
              },
              "type": "BOOLEAN",
              "inversion": false,
              "operation": {
                "relation": "equal",
                "inversion": false,
                "caseInsensitive": false
              },
              "conjunction": false
            }
          ],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "73208e5b-898d-43c9-807a-ac5c33cb9482": {
        "id": "73208e5b-898d-43c9-807a-ac5c33cb9482",
        "name": "",
        "path": [
          {
            "x": 808,
            "y": 848
          },
          {
            "x": 808,
            "y": 448
          },
          {
            "x": 752,
            "y": 448
          }
        ],
        "type": "plain",
        "source": "8aaba6f1-8628-4822-a4ed-17f38e66540f",
        "target": "cb5a0961-924b-467e-8991-c4d7175ee6af",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "7e763a97-20ec-49ef-a78d-c0d4e83bf9b8": {
        "id": "7e763a97-20ec-49ef-a78d-c0d4e83bf9b8",
        "name": "",
        "path": [
          {
            "x": 272,
            "y": 648
          },
          {
            "x": 272,
            "y": 344
          }
        ],
        "type": "plain",
        "source": "d7dc8643-5982-4f01-b8af-22ef8211e2e0",
        "target": "a60476da-ab5f-44bd-9333-588fb159df45",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "8f3901c5-f339-43ff-bf1b-d47db48081e9": {
        "id": "8f3901c5-f339-43ff-bf1b-d47db48081e9",
        "name": "",
        "path": [
          {
            "x": 384,
            "y": 296
          },
          {
            "x": 384,
            "y": 224
          }
        ],
        "type": "plain",
        "source": "86ae6644-a3a2-486a-94b2-0cf41956607c",
        "target": "ae7bcd69-acda-46c4-804c-d47417cf3a46",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [
            {
              "a": {
                "kind": "context",
                "value": "error"
              },
              "type": "STRING",
              "inversion": false,
              "operation": {
                "relation": "empty",
                "inversion": true,
                "caseInsensitive": false
              },
              "conjunction": false
            }
          ],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "a3a1fc9e-bc0a-4b9a-b28b-b335ecd54e7c": {
        "id": "a3a1fc9e-bc0a-4b9a-b28b-b335ecd54e7c",
        "name": "",
        "path": [
          {
            "x": 464,
            "y": 664
          },
          {
            "x": 288,
            "y": 664
          }
        ],
        "type": "default",
        "source": "eb410520-f21d-4a79-8a84-87a5c22719a6",
        "target": "d7dc8643-5982-4f01-b8af-22ef8211e2e0",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "a5ee2161-b5c7-4761-adc7-06a2cefaa42b": {
        "id": "a5ee2161-b5c7-4761-adc7-06a2cefaa42b",
        "name": "",
        "path": [
          {
            "x": 480,
            "y": 480
          },
          {
            "x": 480,
            "y": 512
          }
        ],
        "type": "plain",
        "source": "f7067404-5c84-46f4-a6e1-e93926063554",
        "target": "b79fcff3-53d1-4fdb-805f-bb82dc6c245f",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "b6400533-2028-4157-a7d3-ad899a604b42": {
        "id": "b6400533-2028-4157-a7d3-ad899a604b42",
        "name": "",
        "path": [
          {
            "x": 400,
            "y": 312
          },
          {
            "x": 480,
            "y": 312
          },
          {
            "x": 480,
            "y": 416
          }
        ],
        "type": "default",
        "source": "86ae6644-a3a2-486a-94b2-0cf41956607c",
        "target": "f7067404-5c84-46f4-a6e1-e93926063554",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "b695d837-132f-47a1-ab69-5154038c7e6b": {
        "id": "b695d837-132f-47a1-ab69-5154038c7e6b",
        "name": "",
        "path": [
          {
            "x": 656,
            "y": 880
          },
          {
            "x": 768,
            "y": 880
          }
        ],
        "type": "plain",
        "source": "f2172100-e556-48b1-ae82-77a8c6efbb39",
        "target": "8aaba6f1-8628-4822-a4ed-17f38e66540f",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [
            {
              "a": {
                "kind": "context",
                "value": "error"
              },
              "type": "STRING",
              "inversion": false,
              "operation": {
                "relation": "empty",
                "inversion": true,
                "caseInsensitive": false
              },
              "conjunction": false
            }
          ],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "bdfc59c7-1c87-40d1-888d-e7910dd81902": {
        "id": "bdfc59c7-1c87-40d1-888d-e7910dd81902",
        "name": "",
        "path": [
          {
            "x": 640,
            "y": 728
          },
          {
            "x": 640,
            "y": 472
          },
          {
            "x": 736,
            "y": 472
          },
          {
            "x": 736,
            "y": 464
          }
        ],
        "type": "plain",
        "source": "b2efbbff-ed72-461f-ad37-abe87a1a46da",
        "target": "cb5a0961-924b-467e-8991-c4d7175ee6af",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "c40e0270-33e3-48e6-8793-d07cc38ca59c": {
        "id": "c40e0270-33e3-48e6-8793-d07cc38ca59c",
        "name": "",
        "path": [
          {
            "x": 640,
            "y": 864
          },
          {
            "x": 640,
            "y": 792
          }
        ],
        "type": "default",
        "source": "f2172100-e556-48b1-ae82-77a8c6efbb39",
        "target": "b2efbbff-ed72-461f-ad37-abe87a1a46da",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "c9bd0af3-31df-4192-9ff6-1b6760348d0b": {
        "id": "c9bd0af3-31df-4192-9ff6-1b6760348d0b",
        "name": "",
        "path": [
          {
            "x": 312,
            "y": 312
          },
          {
            "x": 368,
            "y": 312
          }
        ],
        "type": "plain",
        "source": "a60476da-ab5f-44bd-9333-588fb159df45",
        "target": "86ae6644-a3a2-486a-94b2-0cf41956607c",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      }
    }
  },
  "scripts": "/**\nЗдесь вы можете написать скрипты для сложной серверной обработки контекста во время выполнения процесса.\nДля написания скриптов используйте TypeScript (https://www.typescriptlang.org).\nДокументация TS SDK доступна на сайте https://tssdk.elma365.com.\n**/\nasync function writeToDocApp(): Promise\u003cvoid\u003e {\n   const serverApp = await Namespace.params.fields.additional_app.app.search().first();\n   if (!!serverApp) {\n      const knownDocuments = serverApp.data.massiv_izvestnykh_dokumentov ? JSON.parse(serverApp.data.massiv_izvestnykh_dokumentov) : [];\n      knownDocuments.push(Context.data.document_id);\n      serverApp.data.massiv_izvestnykh_dokumentov = JSON.stringify(knownDocuments);\n      await serverApp.save();\n   }\n}\n\nasync function fillRequestData(): Promise\u003cvoid\u003e {\n    Context.data.request_url = 'InformationRegister_EM_ДокументыСотрудников?$format=json'\n    Context.data.iteration_number = 0\n}\n\nasync function parseData(): Promise\u003cvoid\u003e {\n    const response = JSON.parse(Context.data.response!);\n    const documents = response.value.filter((item: any) =\u003e {\n        return item[\"Документ\"] === Context.data.document_id;\n    })\n\n    if (!!documents) {\n        Context.data.document_found = true\n    }\n\n    Context.data.iteration_number = Context.data.iteration_number! + 1\n}\n\nasync function getArrayBufferFromBase64(base64: string):Promise\u003cArrayBuffer\u003e {\n    var binary_string = atob(base64);\n    var len = binary_string.length; \n    var bytes = new Uint8Array(len); \n    for (var i = 0; i \u003c len; i++) {\n        bytes[i] = binary_string.charCodeAt(i); \n    } \n    return bytes.buffer; \n}\n\nasync function fillDocRequestData(): Promise\u003cvoid\u003e {\n    Context.data.request_url = `InformationRegister_EM_ПечатныеФормыДокументов?$format=json`;\n}\n\nasync function parseFiles(): Promise\u003cvoid\u003e {\n    const response = JSON.parse(Context.data.response!);\n    const documents = response.value.filter((item: any) =\u003e {\n        return item[\"Документ\"] === Context.data.document_id;\n    })\n\n    if (!!documents){\n        const allFiles: FileItem[] = []\n        for(let document of documents) {\n            const fileArrayBuffer = await getArrayBufferFromBase64(document[\"ХранилищеПечатнойФормы_Base64Data\"]);\n            const newFile = await Context.fields.document_file.create(`${document[\"ПечатнаяФорма\"]}.pdf`, fileArrayBuffer);\n            allFiles.push(newFile)\n        }\n        Context.data.found_files = allFiles\n    }\n}\n",
  "forms": [],
  "settings": {
    "logged": true,
    "targetFeed": {
      "type": "instance",
      "variable": ""
    },
    "allowGlobal": false,
    "instanceCard": {
      "allFields": true,
      "formFields": []
    },
    "notifyOnStart": true,
    "allowNamespace": false,
    "applicationContext": false,
    "fieldVisibilityConditions": {
      "error": {
        "enabled": false,
        "conditions": []
      },
      "filter": {
        "enabled": false,
        "conditions": []
      },
      "response": {
        "enabled": false,
        "conditions": []
      },
      "document_id": {
        "enabled": false,
        "conditions": []
      },
      "found_files": {
        "enabled": false,
        "conditions": []
      },
      "request_url": {
        "enabled": false,
        "conditions": []
      },
      "document_file": {
        "enabled": false,
        "conditions": []
      },
      "document_found": {
        "enabled": false,
        "conditions": []
      },
      "dokument_naiden": {
        "enabled": false,
        "conditions": []
      },
      "dokumenta_naiden": {
        "enabled": false,
        "conditions": []
      },
      "iteration_number": {
        "enabled": false,
        "conditions": []
      }
    }
  },
  "hideInList": false,
  "applicationLink": false,
  "__deletedAt": null
}
