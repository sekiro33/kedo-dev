{
  "__id": "018c8757-193d-7f56-a5b1-a8e9d0226c97",
  "namespace": "ext_7fe3de7d-f459-4f75-940c-271c6e9ea1ed",
  "code": "fill_related_documents_table_workflow",
  "category": "00000000-0000-0000-0000-000000000000",
  "__name": "Заполнение таблицы связанных документов",
  "type": "bpmn",
  "draft": false,
  "version": 5,
  "context": [],
  "manualRun": true,
  "readonly": false,
  "__createdAt": "2023-12-16T15:23:22.585908539Z",
  "__createdBy": "7c329408-ca7d-4e6d-b40c-9e6df17b7782",
  "__updatedAt": "2024-02-03T21:09:51.208155908Z",
  "__updatedBy": "7303b866-4220-4086-a09e-348a76b12c73",
  "process": {
    "items": {
      "00000000-0000-0000-0000-000000000000": {
        "x": 104,
        "y": 72,
        "id": "00000000-0000-0000-0000-000000000000",
        "lane": "7ea0a8b9-0b3b-4203-a3ba-63c00e9970cc",
        "type": "start",
        "color": "#ffffff",
        "exits": ["dcb32581-d313-4947-9144-d4072068ec12"],
        "width": 32,
        "height": 32,
        "settings": {
          "formFields": [
            {
              "code": "__name",
              "display": "Название",
              "tooltip": "Название экземпляра процесса, будет показываться в задачах",
              "readonly": false,
              "required": true
            }
          ],
          "instruction": "",
          "notifyMessage": "Запущен процесс",
          "titleTemplate": "Заполнение таблицы связанных документов - {$__createdAt}",
          "titleGenerateMethod": "template"
        }
      },
      "2fdea1fd-bdf2-417b-a57c-f491ce7d1167": {
        "x": 352,
        "y": 72,
        "id": "2fdea1fd-bdf2-417b-a57c-f491ce7d1167",
        "icon": "end",
        "lane": "7ea0a8b9-0b3b-4203-a3ba-63c00e9970cc",
        "name": "",
        "type": "end",
        "color": "#ffffff",
        "exits": [],
        "width": 32,
        "height": 32,
        "settings": {
          "actions": [],
          "isModal": false,
          "actionType": "nothing",
          "messageText": "",
          "redirectUrl": ""
        }
      },
      "e311b013-5236-4c33-a0d7-840e2287fd63": {
        "x": 200,
        "y": 56,
        "id": "e311b013-5236-4c33-a0d7-840e2287fd63",
        "icon": "script",
        "lane": "7ea0a8b9-0b3b-4203-a3ba-63c00e9970cc",
        "name": "Заполнить таблицу",
        "type": "script",
        "color": "#fde9a0",
        "exits": ["3b75031d-c5a4-4750-9287-76af3b6e4bd3"],
        "width": 80,
        "height": 64,
        "settings": {
          "func": "fillRelatedDocumentsTable",
          "count": 1,
          "delay": 5,
          "retry": true,
          "escalation": {
            "byError": {
              "notify": false,
              "interrupt": false,
              "receivers": []
            }
          }
        }
      }
    },
    "lanes": {
      "7ea0a8b9-0b3b-4203-a3ba-63c00e9970cc": {
        "x": 8,
        "y": 8,
        "id": "7ea0a8b9-0b3b-4203-a3ba-63c00e9970cc",
        "name": "Инициатор",
        "color": "#d6f0cc",
        "width": 580,
        "height": 600,
        "settings": {
          "type": "dynamic",
          "variable": "__createdBy",
          "permissionExtend": {
            "kind": "simple"
          }
        },
        "direction": "vertical",
        "multiInstance": false
      }
    },
    "paper": {
      "format": "A4",
      "orientation": "landscape"
    },
    "transitions": {
      "3b75031d-c5a4-4750-9287-76af3b6e4bd3": {
        "id": "3b75031d-c5a4-4750-9287-76af3b6e4bd3",
        "name": "",
        "path": [
          {
            "x": 280,
            "y": 88
          },
          {
            "x": 352,
            "y": 88
          }
        ],
        "type": "plain",
        "source": "e311b013-5236-4c33-a0d7-840e2287fd63",
        "target": "2fdea1fd-bdf2-417b-a57c-f491ce7d1167",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "dcb32581-d313-4947-9144-d4072068ec12": {
        "id": "dcb32581-d313-4947-9144-d4072068ec12",
        "name": "",
        "path": [
          {
            "x": 136,
            "y": 88
          },
          {
            "x": 200,
            "y": 88
          }
        ],
        "type": "plain",
        "source": "00000000-0000-0000-0000-000000000000",
        "target": "e311b013-5236-4c33-a0d7-840e2287fd63",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      }
    }
  },
  "scripts": "/**\nЗдесь вы можете написать скрипты для сложной серверной обработки контекста во время выполнения процесса.\nДля написания скриптов используйте TypeScript (https://www.typescriptlang.org).\nДокументация TS SDK доступна на сайте https://tssdk.elma365.com.\n**/\n\ninterface IRelatedDocuments {\n    namespace: string,\n    code: string,\n    documents: IDocument[],\n}\n\ninterface IDocument {\n    namespace: string,\n    code: string,\n    related_field_code: string,\n}\n\nconst related_documents: IRelatedDocuments[] = [\n    {\n        \"namespace\": \"business_trips\",\n        \"code\": \"businesstrip_requests\",\n        \"documents\": [\n            {\n                \"namespace\": \"business_trips\",\n                \"code\": \"trip_requests\",\n                \"related_field_code\": \"businesstrip_requests\"\n            },\n            {\n                \"namespace\": \"business_trips\",\n                \"code\": \"business_trip_consent\",\n                \"related_field_code\": \"business_trip\"\n            },\n            {\n                \"namespace\": \"business_trips\",\n                \"code\": \"business_trip_change_service_note\",\n                \"related_field_code\": \"business_trip\"\n            },\n            {\n                \"namespace\": \"business_trips\",\n                \"code\": \"service_note_accountable_funds\",\n                \"related_field_code\": \"business_trip\"\n            },\n            {\n                \"namespace\": \"business_trips\",\n                \"code\": \"order_for_a_business_trip\",\n                \"related_field_code\": \"business_trip\"\n            },\n            {\n                \"namespace\": \"business_trips\",\n                \"code\": \"avansovyi_otchet\",\n                \"related_field_code\": \"businesstrip_requests\"\n            },\n            {\n                \"namespace\": \"business_trips\",\n                \"code\": \"service_assignments\",\n                \"related_field_code\": \"businesstrip_requests\"\n            }\n        ]\n    },\n    {\n        \"namespace\": \"time_tracking\",\n        \"code\": \"overtime_work\",\n        \"documents\": [\n            {\n                \"namespace\": \"time_tracking\",\n                \"code\": \"overtime_requests\",\n                \"related_field_code\": \"overtime_work\"\n            },\n            {\n                \"namespace\": \"time_tracking\",\n                \"code\": \"overtimeWorkOrders\",\n                \"related_field_code\": \"overtime_work\"\n            },\n            {\n                \"namespace\": \"time_tracking\",\n                \"code\": \"overtimeWorkNotifications\",\n                \"related_field_code\": \"overtime_work\"\n            },\n            {\n                \"namespace\": \"time_tracking\",\n                \"code\": \"overtimeWorkConsent\",\n                \"related_field_code\": \"overtime_work\"\n            },\n            {\n                \"namespace\": \"time_tracking\",\n                \"code\": \"overtime_order\",\n                \"related_field_code\": \"overtime_work\"\n            }\n        ]\n    },\n    {\n        \"namespace\": \"absences\",\n        \"code\": \"vacations\",\n        \"documents\": [\n            {\n                \"namespace\": \"absences\",\n                \"code\": \"vacation_docs\",\n                \"related_field_code\": \"vacation\"\n            },\n            {\n                \"namespace\": \"absences\",\n                \"code\": \"vacation_orders\",\n                \"related_field_code\": \"vacation\"\n            },\n            {\n                \"namespace\": \"absences\",\n                \"code\": \"memo_recall_vacation\",\n                \"related_field_code\": \"vacation\"\n            },\n            {\n                \"namespace\": \"absences\",\n                \"code\": \"consent_recall_vacation\",\n                \"related_field_code\": \"vacation\"\n            }\n        ]\n    },\n    {\n        \"namespace\": \"kedo\",\n        \"code\": \"staff\",\n        \"documents\": [\n            {\n                \"namespace\": \"personnel_documents\",\n                \"code\": \"application_for_financial_assistance\",\n                \"related_field_code\": \"staff\"\n            },\n            {\n                \"namespace\": \"personnel_documents\",\n                \"code\": \"benefit_application\",\n                \"related_field_code\": \"staff\"\n            },\n            {\n                \"namespace\": \"personnel_documents\",\n                \"code\": \"application_for_the_transfer_of_salary_to_the_current_account\",\n                \"related_field_code\": \"staff\"\n            },\n            {\n                \"namespace\": \"personnel_documents\",\n                \"code\": \"free_from\",\n                \"related_field_code\": \"staff\"\n            },\n            {\n                \"namespace\": \"personnel_documents\",\n                \"code\": \"certificate\",\n                \"related_field_code\": \"staff\"\n            },\n            {\n                \"namespace\": \"personnel_documents\",\n                \"code\": \"other_documents\",\n                \"related_field_code\": \"staff\"\n            },\n            {\n                \"namespace\": \"absences\",\n                \"code\": \"vacation_docs\",\n                \"related_field_code\": \"kedo_staff\"\n            },\n            {\n                \"namespace\": \"absences\",\n                \"code\": \"vacation_orders\",\n                \"related_field_code\": \"kedo_staff\"\n            },\n            {\n                \"namespace\": \"time_tracking\",\n                \"code\": \"overtime_work\",\n                \"related_field_code\": \"kedo_staff\"\n            },\n            {\n                \"namespace\": \"kedo\",\n                \"code\": \"additional_agreement\",\n                \"related_field_code\": \"staff\"\n            },\n            {\n                \"namespace\": \"kedo\",\n                \"code\": \"employees_personal_data\",\n                \"related_field_code\": \"staff\"\n            },\n            {\n                \"namespace\": \"business_trips\",\n                \"code\": \"trip_requests\",\n                \"related_field_code\": \"kedo_staff\"\n            },\n            {\n                \"namespace\": \"business_trips\",\n                \"code\": \"order_for_a_business_trip\",\n                \"related_field_code\": \"kedo_staff\"\n            },\n            {\n                \"namespace\": \"personnel_documents\",\n                \"code\": \"combination\",\n                \"related_field_code\": \"substitute\"\n            },\n            {\n                \"namespace\": \"personnel_documents\",\n                \"code\": \"combination_additional_agreement\",\n                \"related_field_code\": \"staff\"\n            },\n            {\n                \"namespace\": \"kedo\",\n                \"code\": \"letter_of_resignation\",\n                \"related_field_code\": \"staff\"\n            },\n            {\n                \"namespace\": \"kedo\",\n                \"code\": \"electronic_interaction_agreement\",\n                \"related_field_code\": \"staff\"\n            },\n            {\n                \"namespace\": \"kedo\",\n                \"code\": \"labor_contract\",\n                \"related_field_code\": \"staff\"\n            },\n            {\n                \"namespace\": \"kedo\",\n                \"code\": \"admission_order\",\n                \"related_field_code\": \"staff\"\n            },\n            {\n                \"namespace\": \"kedo\",\n                \"code\": \"information_about_labor_activity\",\n                \"related_field_code\": \"staff\"\n            },\n            {\n                \"namespace\": \"kedo\",\n                \"code\": \"job_application\",\n                \"related_field_code\": \"staff\"\n            },\n            {\n                \"namespace\": \"kedo\",\n                \"code\": \"additional_agreement_to_the_contract\",\n                \"related_field_code\": \"staff\"\n            },\n            {\n                \"namespace\": \"kedo\",\n                \"code\": \"consent_processing_personal_data\",\n                \"related_field_code\": \"staff\"\n            },\n            {\n                \"namespace\": \"kedo\",\n                \"code\": \"transfer_application\",\n                \"related_field_code\": \"staff\"\n            },\n            {\n                \"namespace\": \"kedo\",\n                \"code\": \"order_for_transfer\",\n                \"related_field_code\": \"staff\"\n            },\n            {\n                \"namespace\": \"kedo\",\n                \"code\": \"transfer_approve\",\n                \"related_field_code\": \"staff\"\n            },\n            {\n                \"namespace\": \"kedo\",\n                \"code\": \"additional_transfer_agreement\",\n                \"related_field_code\": \"staff\"\n            },\n            {\n                \"namespace\": \"kedo\",\n                \"code\": \"dismissal_app\",\n                \"related_field_code\": \"staff\"\n            },\n            {\n                \"namespace\": \"kedo\",\n                \"code\": \"letter_of_resignation\",\n                \"related_field_code\": \"staff\"\n            },\n            {\n                \"namespace\": \"kedo\",\n                \"code\": \"dismissal_order\",\n                \"related_field_code\": \"staff\"\n            },\n            {\n                \"namespace\": \"kedo\",\n                \"code\": \"recall_dismissal\",\n                \"related_field_code\": \"staff\"\n            },\n            {\n                \"namespace\": \"kedo\",\n                \"code\": \"category_assignment\",\n                \"related_field_code\": \"staff\"\n            },\n            {\n                \"namespace\": \"kedo\",\n                \"code\": \"application_category_assignment\",\n                \"related_field_code\": \"staff\"\n            },\n            {\n                \"namespace\": \"kedo\",\n                \"code\": \"employees_personal_data\",\n                \"related_field_code\": \"staff\"\n            },\n            {\n                \"namespace\": \"kedo\",\n                \"code\": \"passport_data_application\",\n                \"related_field_code\": \"staff\"\n            },\n            {\n                \"namespace\": \"kedo\",\n                \"code\": \"passport_data_change_order\",\n                \"related_field_code\": \"staff\"\n            },\n            {\n                \"namespace\": \"kedo\",\n                \"code\": \"child_personal_data_consent\",\n                \"related_field_code\": \"staff\"\n            }\n        ]\n    }\n]\n\nasync function fillRelatedDocumentsTable(): Promise\u003cvoid\u003e {\n    await Namespace.storage.setItem(\"related_documents\", JSON.stringify(related_documents));\n}\n",
  "forms": [],
  "settings": {
    "logged": true,
    "targetFeed": {
      "type": "instance",
      "variable": ""
    },
    "allowGlobal": false,
    "instanceCard": {
      "allFields": true,
      "formFields": []
    },
    "notifyOnStart": true,
    "allowNamespace": false,
    "applicationContext": false,
    "importsDependencies": [],
    "fieldVisibilityConditions": {}
  },
  "hideInList": false,
  "applicationLink": false,
  "__deletedAt": null
}
