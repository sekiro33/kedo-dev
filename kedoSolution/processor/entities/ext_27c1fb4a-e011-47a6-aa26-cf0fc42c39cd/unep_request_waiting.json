{
  "__id": "018c8757-193d-7f62-b358-f4f7ac3ef143",
  "namespace": "ext_27c1fb4a-e011-47a6-aa26-cf0fc42c39cd",
  "code": "unep_request_waiting",
  "category": "00000000-0000-0000-0000-000000000000",
  "__name": "Ожидание выпуска УНЭП_old",
  "type": "bpmn",
  "draft": false,
  "version": 3,
  "context": [
    {
      "code": "error_exists",
      "type": "BOOLEAN",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Есть ошибка?",
        "data": {
          "additionalType": "radio",
          "noValue": "Нет",
          "yesValue": "Да"
        }
      }
    },
    {
      "code": "cert_released",
      "type": "BOOLEAN",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Сертификат выпущен",
        "data": {
          "additionalType": "radio",
          "noValue": "Нет",
          "yesValue": "Да"
        }
      }
    },
    {
      "code": "passport_number",
      "type": "STRING",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Номер документа",
        "data": {
          "additionalType": "string"
        }
      }
    },
    {
      "code": "provider",
      "type": "ENUM",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": true,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {
        "enumItems": [
          {
            "code": "kontur",
            "name": "Контур",
            "checked": false
          },
          {
            "code": "sign_me",
            "name": "Sign.me",
            "checked": false
          }
        ]
      },
      "view": {
        "name": "Провайдер",
        "data": {}
      }
    },
    {
      "code": "issue_date",
      "type": "STRING",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Дата выдачи",
        "data": {
          "additionalType": "string"
        }
      }
    },
    {
      "code": "user",
      "type": "SYS_USER",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": true,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {
        "filter": {
          "value": {
            "tf": {}
          },
          "enabled": false
        }
      },
      "view": {
        "name": "Пользователь",
        "data": {}
      }
    },
    {
      "code": "issued_by",
      "type": "STRING",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Кем выдан",
        "data": {
          "additionalType": "string"
        }
      }
    },
    {
      "code": "request_data_full",
      "type": "BOOLEAN",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": false,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Данные заявки получены",
        "data": {
          "additionalType": "radio",
          "noValue": "Нет",
          "yesValue": "Да"
        }
      }
    },
    {
      "code": "valid_to",
      "type": "STRING",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Срок действия",
        "data": {
          "additionalType": "string"
        }
      }
    },
    {
      "code": "debug",
      "type": "STRING",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "debug",
        "data": {
          "additionalType": "string"
        }
      }
    },
    {
      "code": "unep_issue_confirmation_type",
      "type": "ENUM",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": true,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {
        "enumItems": [
          {
            "code": "esia",
            "name": "ЕСИА",
            "checked": false
          },
          {
            "code": "sms",
            "name": "СМС",
            "checked": false
          }
        ]
      },
      "view": {
        "name": "Способ подтверждения выпуска УНЭП",
        "data": {}
      }
    },
    {
      "code": "issue_declined",
      "type": "BOOLEAN",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Заявка отклонена",
        "data": {
          "additionalType": "radio",
          "noValue": "Нет",
          "yesValue": "Да"
        }
      }
    },
    {
      "code": "birth_date",
      "type": "STRING",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Дата рождения",
        "data": {
          "additionalType": "string"
        }
      }
    },
    {
      "code": "error",
      "type": "STRING",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Ошибка",
        "data": {
          "additionalType": "string"
        }
      }
    },
    {
      "code": "api_key",
      "type": "STRING",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "API ключ",
        "data": {
          "additionalType": "string"
        }
      }
    },
    {
      "code": "birth_place",
      "type": "STRING",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Место рождения",
        "data": {
          "additionalType": "string"
        }
      }
    },
    {
      "code": "responsible_user",
      "type": "SYS_USER",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": true,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {
        "filter": {
          "value": {
            "tf": {}
          },
          "enabled": false
        }
      },
      "view": {
        "name": "Ответственный",
        "data": {}
      }
    },
    {
      "code": "request_id",
      "type": "STRING",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Идентификатор заявки",
        "data": {
          "additionalType": "string"
        }
      }
    },
    {
      "code": "issue_id",
      "type": "STRING",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Код подразделения",
        "data": {
          "additionalType": "string"
        }
      }
    },
    {
      "code": "passport_series",
      "type": "STRING",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Серия документа",
        "data": {
          "additionalType": "string"
        }
      }
    },
    {
      "code": "request_confirmed",
      "type": "BOOLEAN",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Заявка подтверждена",
        "data": {
          "additionalType": "radio",
          "noValue": "Нет",
          "yesValue": "Да"
        }
      }
    }
  ],
  "manualRun": true,
  "readonly": false,
  "__createdAt": "2023-04-19T09:17:45.715295006Z",
  "__createdBy": "6c362877-9ef9-45f4-aa6f-e5e126ee96c0",
  "__updatedAt": "2023-04-25T09:56:19.365156809Z",
  "__updatedBy": "7303b866-4220-4086-a09e-348a76b12c73",
  "process": {
    "items": {
      "00000000-0000-0000-0000-000000000000": {
        "x": 320,
        "y": 72,
        "id": "00000000-0000-0000-0000-000000000000",
        "lane": "efb676e4-ba26-4d94-8f2f-889c23250567",
        "type": "start",
        "color": "#ffffff",
        "exits": ["86325ede-5709-44b9-af81-a1b8cdab6db1"],
        "width": 32,
        "height": 32,
        "settings": {
          "formFields": [
            {
              "code": "__name",
              "tooltip": "Название экземпляра процесса, будет показываться в задачах",
              "readonly": false,
              "required": true,
              "hideEmpty": false
            },
            {
              "code": "provider",
              "tooltip": "",
              "readonly": false,
              "required": false,
              "hideEmpty": false
            },
            {
              "code": "api_key",
              "tooltip": "",
              "readonly": false,
              "required": false,
              "hideEmpty": false
            },
            {
              "code": "responsible_user",
              "tooltip": "",
              "readonly": false,
              "required": false,
              "hideEmpty": false
            },
            {
              "code": "unep_issue_confirmation_type",
              "tooltip": "",
              "readonly": false,
              "required": false,
              "hideEmpty": false
            },
            {
              "code": "request_id",
              "tooltip": "",
              "readonly": false,
              "required": false,
              "hideEmpty": false
            },
            {
              "code": "user",
              "tooltip": "",
              "readonly": false,
              "required": false,
              "hideEmpty": false
            }
          ],
          "instruction": "",
          "notifyMessage": "Запущен процесс",
          "titleTemplate": "Ожидание выпуска УНЭП - {$__createdAt}",
          "titleGenerateMethod": "template"
        }
      },
      "08a0bcd6-0d89-4c1a-a521-b445a9abe0f7": {
        "x": 160,
        "y": 288,
        "id": "08a0bcd6-0d89-4c1a-a521-b445a9abe0f7",
        "icon": "exclusive",
        "lane": "efb676e4-ba26-4d94-8f2f-889c23250567",
        "name": "",
        "type": "gateway",
        "color": "#ffffff",
        "exits": [
          "11749371-2fd3-4281-8840-76d98ae52be5",
          "78b3c65b-5766-4bf9-9114-78b2c4d0b99b"
        ],
        "width": 32,
        "height": 32,
        "settings": {
          "func": "",
          "type": "exclusive",
          "useFunc": false,
          "funcType": "STRING",
          "description": ""
        }
      },
      "29c201fb-266c-4fc0-9fea-59ae519db572": {
        "x": 616,
        "y": 328,
        "id": "29c201fb-266c-4fc0-9fea-59ae519db572",
        "icon": "user",
        "lane": "efb676e4-ba26-4d94-8f2f-889c23250567",
        "name": "Ознакомиться с ошибкой",
        "type": "user",
        "color": "#daeef7",
        "exits": ["7e6a5c3d-907d-4b57-a41c-c64121fe6397"],
        "width": 80,
        "height": 64,
        "settings": {
          "name": "Ознакомиться с ошибкой при выпуске УНЭП на {$user}",
          "notify": true,
          "authorType": 0,
          "escalation": {
            "byTime": {
              "limit": {
                "days": 0,
                "kind": "duration",
                "hours": 0,
                "minutes": 0,
                "absolute": false
              },
              "action": {
                "notify": false,
                "interrupt": false,
                "receivers": []
              },
              "enabled": false
            }
          },
          "formFields": [
            {
              "code": "error",
              "tooltip": "",
              "readonly": true,
              "required": false,
              "hideEmpty": false
            }
          ],
          "allowReassign": true,
          "planDatesSettings": {
            "enabled": false,
            "planCodes": {
              "endCode": "",
              "startCode": ""
            }
          }
        }
      },
      "33bae583-7a8f-4bba-9288-cf0f9403a932": {
        "x": 448,
        "y": 344,
        "id": "33bae583-7a8f-4bba-9288-cf0f9403a932",
        "icon": "exclusive",
        "lane": "efb676e4-ba26-4d94-8f2f-889c23250567",
        "name": "",
        "type": "gateway",
        "color": "#ffffff",
        "exits": [
          "cd04feb7-1237-4e9d-b5f6-5cd4880409e5",
          "d8a27219-52ed-4eee-96c8-2027e37891a8"
        ],
        "width": 32,
        "height": 32,
        "settings": {
          "func": "",
          "type": "exclusive",
          "useFunc": false,
          "funcType": "STRING",
          "description": ""
        }
      },
      "460a5ea7-5686-42b7-899b-2c9513f11cbd": {
        "x": 448,
        "y": 576,
        "id": "460a5ea7-5686-42b7-899b-2c9513f11cbd",
        "icon": "end",
        "lane": "efb676e4-ba26-4d94-8f2f-889c23250567",
        "name": "",
        "type": "end",
        "color": "#ffffff",
        "exits": [],
        "width": 32,
        "height": 32,
        "settings": {
          "actions": [],
          "isModal": false,
          "actionType": "nothing",
          "messageText": "",
          "redirectUrl": ""
        }
      },
      "47e45321-e274-42e7-bc8a-6a8ca903a28c": {
        "x": 536,
        "y": 248,
        "id": "47e45321-e274-42e7-bc8a-6a8ca903a28c",
        "icon": "exclusive",
        "lane": "efb676e4-ba26-4d94-8f2f-889c23250567",
        "name": "",
        "type": "gateway",
        "color": "#ffffff",
        "exits": [
          "ec9458bb-a38e-4c41-a714-a9e6b65d7308",
          "dd993fc9-8715-4b43-b1ac-2072cb446baf"
        ],
        "width": 32,
        "height": 32,
        "settings": {
          "func": "",
          "type": "exclusive",
          "useFunc": false,
          "funcType": "STRING",
          "description": ""
        }
      },
      "4cba9246-d4dc-419b-b589-b480efe70625": {
        "x": 320,
        "y": 152,
        "id": "4cba9246-d4dc-419b-b589-b480efe70625",
        "icon": "exclusive",
        "lane": "efb676e4-ba26-4d94-8f2f-889c23250567",
        "name": "",
        "type": "gateway",
        "color": "#ffffff",
        "exits": [
          "931e0088-ad58-4d6e-beee-7de7dc9baeb9",
          "aa26cb4b-82ac-476c-a2c4-575bbf7e54a5"
        ],
        "width": 32,
        "height": 32,
        "settings": {
          "func": "",
          "type": "exclusive",
          "useFunc": false,
          "funcType": "STRING",
          "description": ""
        }
      },
      "4f832f08-c122-44a4-875b-79b8f6728787": {
        "x": 448,
        "y": 152,
        "id": "4f832f08-c122-44a4-875b-79b8f6728787",
        "icon": "exclusive",
        "lane": "efb676e4-ba26-4d94-8f2f-889c23250567",
        "name": "",
        "type": "gateway",
        "color": "#ffffff",
        "exits": [
          "73b14568-6c86-4e61-99da-5831f364b285",
          "b9109232-45bc-43ae-ab1e-e954146b817a"
        ],
        "width": 32,
        "height": 32,
        "settings": {
          "func": "",
          "type": "exclusive",
          "useFunc": false,
          "funcType": "STRING",
          "description": ""
        }
      },
      "515c384e-ad9c-47d6-b240-b0ca9929b1e4": {
        "x": 528,
        "y": 512,
        "id": "515c384e-ad9c-47d6-b240-b0ca9929b1e4",
        "icon": "timer",
        "lane": "efb676e4-ba26-4d94-8f2f-889c23250567",
        "name": "Таймер 1",
        "type": "event",
        "color": "#ffffff",
        "exits": ["b25ecd87-9dda-4757-9cc9-f21305ba6215"],
        "width": 32,
        "height": 32,
        "settings": {
          "kind": "timer",
          "timer": {
            "days": 0,
            "kind": "duration",
            "hours": 0,
            "minutes": 1,
            "absolute": true
          }
        }
      },
      "52f039e9-cd8d-4488-b9ac-5e44c96c3d38": {
        "x": 160,
        "y": 368,
        "id": "52f039e9-cd8d-4488-b9ac-5e44c96c3d38",
        "lane": "efb676e4-ba26-4d94-8f2f-889c23250567",
        "name": "",
        "type": "end",
        "color": "#ffffff",
        "exits": [],
        "width": 32,
        "height": 32,
        "settings": {
          "actions": [],
          "isModal": false,
          "actionType": "nothing",
          "messageText": "",
          "redirectUrl": ""
        }
      },
      "5b946c56-99d9-4b3f-ad57-2e739fe49d1a": {
        "x": 448,
        "y": 512,
        "id": "5b946c56-99d9-4b3f-ad57-2e739fe49d1a",
        "icon": "exclusive",
        "lane": "efb676e4-ba26-4d94-8f2f-889c23250567",
        "name": "",
        "type": "gateway",
        "color": "#ffffff",
        "exits": [
          "f4715382-849e-4a78-bf3b-c3169789b4f7",
          "6faa34ed-4dc6-47b1-87e7-a293b28ff25a"
        ],
        "width": 32,
        "height": 32,
        "settings": {
          "func": "",
          "type": "exclusive",
          "useFunc": false,
          "funcType": "STRING",
          "description": ""
        }
      },
      "761e3994-875b-4351-8a93-f83658aec06e": {
        "x": 424,
        "y": 232,
        "id": "761e3994-875b-4351-8a93-f83658aec06e",
        "icon": "script",
        "lane": "efb676e4-ba26-4d94-8f2f-889c23250567",
        "name": "Подтвердить заявку Контур",
        "type": "script",
        "color": "#fde9a0",
        "exits": ["1333d782-2fac-4771-b50a-2c4999160ae0"],
        "width": 80,
        "height": 64,
        "settings": {
          "func": "validateIssue",
          "count": 1,
          "delay": 5,
          "retry": true,
          "escalation": {
            "byError": {
              "notify": false,
              "interrupt": false,
              "receivers": []
            }
          }
        }
      },
      "844b9076-55dd-477c-9cc8-a42b22d213a0": {
        "x": 296,
        "y": 200,
        "id": "844b9076-55dd-477c-9cc8-a42b22d213a0",
        "icon": "user",
        "lane": "efb676e4-ba26-4d94-8f2f-889c23250567",
        "name": "Ошибка при подтверждении заявки",
        "type": "user",
        "color": "#daeef7",
        "exits": [
          "db13ab9a-ee4a-47a0-b68d-159ee1cb1abf",
          "a34b1174-d128-4454-af4f-926ada086a7a"
        ],
        "width": 80,
        "height": 64,
        "settings": {
          "name": "Заявка на УНЭП для {$user} не была подтверждена",
          "notify": true,
          "authorType": 0,
          "escalation": {
            "byTime": {
              "limit": {
                "days": 0,
                "kind": "duration",
                "hours": 0,
                "minutes": 0,
                "absolute": false
              },
              "action": {
                "notify": false,
                "interrupt": false,
                "receivers": []
              },
              "enabled": false
            }
          },
          "formFields": [],
          "allowReassign": true,
          "planDatesSettings": {
            "enabled": false,
            "planCodes": {
              "endCode": "",
              "startCode": ""
            }
          }
        }
      },
      "8f2706d8-28e7-4285-9fd7-af8fb2c2fbf6": {
        "x": 616,
        "y": 232,
        "id": "8f2706d8-28e7-4285-9fd7-af8fb2c2fbf6",
        "icon": "script",
        "lane": "efb676e4-ba26-4d94-8f2f-889c23250567",
        "name": "Отправить данные о проверяющем",
        "type": "script",
        "color": "#fde9a0",
        "exits": ["a2118a58-9341-4eda-be7a-d81f376d2a2d"],
        "width": 80,
        "height": 64,
        "settings": {
          "func": "confirmSubjectIdentification",
          "count": 1,
          "delay": 5,
          "retry": true,
          "escalation": {
            "byError": {
              "notify": false,
              "interrupt": false,
              "receivers": []
            }
          }
        }
      },
      "9883404d-b497-474e-9b13-35d557abf051": {
        "x": 696,
        "y": 136,
        "id": "9883404d-b497-474e-9b13-35d557abf051",
        "icon": "user",
        "lane": "efb676e4-ba26-4d94-8f2f-889c23250567",
        "name": "Подтвердить данные по выпуску УНЭП",
        "type": "user",
        "color": "#daeef7",
        "exits": ["0c2e277c-09e2-42aa-9905-864b46c6f8e3"],
        "width": 80,
        "height": 64,
        "settings": {
          "name": "Подтвердить данные по выпуску УНЭП для {$user}",
          "notify": true,
          "authorType": 0,
          "escalation": {
            "byTime": {
              "limit": {
                "days": 0,
                "kind": "duration",
                "hours": 0,
                "minutes": 0,
                "absolute": false
              },
              "action": {
                "notify": false,
                "interrupt": false,
                "receivers": []
              },
              "enabled": false
            }
          },
          "formFields": [
            {
              "code": "passport_series",
              "tooltip": "",
              "readonly": true,
              "required": false,
              "hideEmpty": true
            },
            {
              "code": "passport_number",
              "tooltip": "",
              "readonly": true,
              "required": false,
              "hideEmpty": true
            },
            {
              "code": "issued_by",
              "tooltip": "",
              "readonly": true,
              "required": false,
              "hideEmpty": true
            },
            {
              "code": "issue_date",
              "tooltip": "",
              "readonly": true,
              "required": false,
              "hideEmpty": true
            },
            {
              "code": "birth_date",
              "tooltip": "",
              "readonly": true,
              "required": false,
              "hideEmpty": true
            },
            {
              "code": "birth_place",
              "tooltip": "",
              "readonly": true,
              "required": false,
              "hideEmpty": true
            },
            {
              "code": "issue_id",
              "tooltip": "",
              "readonly": true,
              "required": false,
              "hideEmpty": true
            },
            {
              "code": "valid_to",
              "tooltip": "",
              "readonly": true,
              "required": false,
              "hideEmpty": true
            }
          ],
          "allowReassign": true,
          "planDatesSettings": {
            "enabled": false,
            "planCodes": {
              "endCode": "",
              "startCode": ""
            }
          }
        }
      },
      "aee66b35-6cad-4d61-b67b-03e4ae9c93ca": {
        "x": 504,
        "y": 136,
        "id": "aee66b35-6cad-4d61-b67b-03e4ae9c93ca",
        "icon": "script",
        "lane": "efb676e4-ba26-4d94-8f2f-889c23250567",
        "name": "Получить данные по заявке",
        "type": "script",
        "color": "#fde9a0",
        "exits": ["e9e577d0-4dcb-4998-abef-63df44cee60d"],
        "width": 80,
        "height": 64,
        "settings": {
          "func": "getRequestData",
          "count": 1,
          "delay": 5,
          "retry": true,
          "escalation": {
            "byError": {
              "notify": false,
              "interrupt": false,
              "receivers": []
            }
          }
        }
      },
      "dc6819c8-8d9d-437b-b622-2c70899dca39": {
        "x": 424,
        "y": 416,
        "id": "dc6819c8-8d9d-437b-b622-2c70899dca39",
        "icon": "script",
        "lane": "efb676e4-ba26-4d94-8f2f-889c23250567",
        "name": "Проверить данные заявки",
        "type": "script",
        "color": "#fde9a0",
        "exits": ["4dc1dddf-209a-48bb-871d-0175ee3debf3"],
        "width": 80,
        "height": 64,
        "settings": {
          "func": "getRequestData",
          "count": 1,
          "delay": 5,
          "retry": true,
          "escalation": {
            "byError": {
              "notify": false,
              "interrupt": false,
              "receivers": []
            }
          }
        }
      },
      "fa643a6a-305f-4830-99d6-bc71406e27c8": {
        "x": 632,
        "y": 152,
        "id": "fa643a6a-305f-4830-99d6-bc71406e27c8",
        "icon": "exclusive",
        "lane": "efb676e4-ba26-4d94-8f2f-889c23250567",
        "name": "",
        "type": "gateway",
        "color": "#ffffff",
        "exits": [
          "c0361b1b-7a16-40ab-9773-917535596cb6",
          "03727b1c-e6df-45bc-bc59-d9415f9be1f5"
        ],
        "width": 32,
        "height": 32,
        "settings": {
          "func": "",
          "type": "exclusive",
          "useFunc": false,
          "funcType": "STRING",
          "description": ""
        }
      },
      "fddf1eed-6828-4fc1-ac03-e83d9850be3f": {
        "x": 136,
        "y": 200,
        "id": "fddf1eed-6828-4fc1-ac03-e83d9850be3f",
        "icon": "script",
        "lane": "efb676e4-ba26-4d94-8f2f-889c23250567",
        "name": "Подтвердить заявку Sign.me",
        "type": "script",
        "color": "#fde9a0",
        "exits": ["f2f8b24f-15a9-4c30-adea-369b1ac7b3f9"],
        "width": 80,
        "height": 64,
        "settings": {
          "func": "activate",
          "count": 1,
          "delay": 5,
          "retry": true,
          "escalation": {
            "byError": {
              "notify": false,
              "interrupt": false,
              "receivers": []
            }
          }
        }
      }
    },
    "lanes": {
      "efb676e4-ba26-4d94-8f2f-889c23250567": {
        "x": 8,
        "y": 8,
        "id": "efb676e4-ba26-4d94-8f2f-889c23250567",
        "name": "Ответственный",
        "color": "#d6f0cc",
        "width": 896,
        "height": 648,
        "settings": {
          "type": "dynamic",
          "groups": [null],
          "variable": "responsible_user",
          "permissionExtend": {
            "kind": "simple"
          }
        },
        "direction": "vertical",
        "multiInstance": false
      }
    },
    "paper": {
      "format": "A4",
      "orientation": "landscape"
    },
    "transitions": {
      "03727b1c-e6df-45bc-bc59-d9415f9be1f5": {
        "id": "03727b1c-e6df-45bc-bc59-d9415f9be1f5",
        "name": "",
        "path": [
          {
            "x": 648,
            "y": 184
          },
          {
            "x": 648,
            "y": 224
          },
          {
            "x": 592,
            "y": 224
          },
          {
            "x": 592,
            "y": 360
          },
          {
            "x": 616,
            "y": 360
          }
        ],
        "type": "plain",
        "source": "fa643a6a-305f-4830-99d6-bc71406e27c8",
        "target": "29c201fb-266c-4fc0-9fea-59ae519db572",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [
            {
              "a": {
                "kind": "context",
                "value": "error_exists"
              },
              "b": {
                "kind": "manual",
                "value": true
              },
              "type": "BOOLEAN",
              "inversion": false,
              "operation": {
                "relation": "equal",
                "inversion": false,
                "caseInsensitive": false
              },
              "conjunction": false
            }
          ],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "0c2e277c-09e2-42aa-9905-864b46c6f8e3": {
        "id": "0c2e277c-09e2-42aa-9905-864b46c6f8e3",
        "name": "",
        "path": [
          {
            "x": 736,
            "y": 200
          },
          {
            "x": 736,
            "y": 264
          },
          {
            "x": 696,
            "y": 264
          }
        ],
        "type": "plain",
        "source": "9883404d-b497-474e-9b13-35d557abf051",
        "target": "8f2706d8-28e7-4285-9fd7-af8fb2c2fbf6",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "11749371-2fd3-4281-8840-76d98ae52be5": {
        "id": "11749371-2fd3-4281-8840-76d98ae52be5",
        "name": "",
        "path": [
          {
            "x": 192,
            "y": 304
          },
          {
            "x": 336,
            "y": 304
          },
          {
            "x": 336,
            "y": 264
          }
        ],
        "type": "default",
        "source": "08a0bcd6-0d89-4c1a-a521-b445a9abe0f7",
        "target": "844b9076-55dd-477c-9cc8-a42b22d213a0",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "1333d782-2fac-4771-b50a-2c4999160ae0": {
        "id": "1333d782-2fac-4771-b50a-2c4999160ae0",
        "name": "",
        "path": [
          {
            "x": 464,
            "y": 296
          },
          {
            "x": 464,
            "y": 344
          }
        ],
        "type": "plain",
        "source": "761e3994-875b-4351-8a93-f83658aec06e",
        "target": "33bae583-7a8f-4bba-9288-cf0f9403a932",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "4dc1dddf-209a-48bb-871d-0175ee3debf3": {
        "id": "4dc1dddf-209a-48bb-871d-0175ee3debf3",
        "name": "",
        "path": [
          {
            "x": 464,
            "y": 480
          },
          {
            "x": 464,
            "y": 512
          }
        ],
        "type": "plain",
        "source": "dc6819c8-8d9d-437b-b622-2c70899dca39",
        "target": "5b946c56-99d9-4b3f-ad57-2e739fe49d1a",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "6faa34ed-4dc6-47b1-87e7-a293b28ff25a": {
        "id": "6faa34ed-4dc6-47b1-87e7-a293b28ff25a",
        "name": "",
        "path": [
          {
            "x": 464,
            "y": 544
          },
          {
            "x": 464,
            "y": 576
          }
        ],
        "type": "plain",
        "source": "5b946c56-99d9-4b3f-ad57-2e739fe49d1a",
        "target": "460a5ea7-5686-42b7-899b-2c9513f11cbd",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [
            {
              "a": {
                "kind": "context",
                "value": "cert_released"
              },
              "b": {
                "kind": "manual",
                "value": true
              },
              "type": "BOOLEAN",
              "inversion": false,
              "operation": {
                "relation": "equal",
                "inversion": false,
                "caseInsensitive": false
              },
              "conjunction": false
            }
          ],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "73b14568-6c86-4e61-99da-5831f364b285": {
        "id": "73b14568-6c86-4e61-99da-5831f364b285",
        "name": "",
        "path": [
          {
            "x": 464,
            "y": 184
          },
          {
            "x": 464,
            "y": 232
          }
        ],
        "type": "default",
        "source": "4f832f08-c122-44a4-875b-79b8f6728787",
        "target": "761e3994-875b-4351-8a93-f83658aec06e",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "78b3c65b-5766-4bf9-9114-78b2c4d0b99b": {
        "id": "78b3c65b-5766-4bf9-9114-78b2c4d0b99b",
        "name": "",
        "path": [
          {
            "x": 176,
            "y": 320
          },
          {
            "x": 176,
            "y": 368
          }
        ],
        "type": "plain",
        "source": "08a0bcd6-0d89-4c1a-a521-b445a9abe0f7",
        "target": "52f039e9-cd8d-4488-b9ac-5e44c96c3d38",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [
            {
              "a": {
                "kind": "context",
                "value": "request_confirmed"
              },
              "b": {
                "kind": "manual",
                "value": true
              },
              "type": "BOOLEAN",
              "inversion": false,
              "operation": {
                "relation": "equal",
                "inversion": false,
                "caseInsensitive": false
              },
              "conjunction": false
            }
          ],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "7e6a5c3d-907d-4b57-a41c-c64121fe6397": {
        "id": "7e6a5c3d-907d-4b57-a41c-c64121fe6397",
        "name": "",
        "path": [
          {
            "x": 656,
            "y": 392
          },
          {
            "x": 656,
            "y": 592
          },
          {
            "x": 480,
            "y": 592
          }
        ],
        "type": "plain",
        "source": "29c201fb-266c-4fc0-9fea-59ae519db572",
        "target": "460a5ea7-5686-42b7-899b-2c9513f11cbd",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "86325ede-5709-44b9-af81-a1b8cdab6db1": {
        "id": "86325ede-5709-44b9-af81-a1b8cdab6db1",
        "name": "",
        "path": [
          {
            "x": 336,
            "y": 104
          },
          {
            "x": 336,
            "y": 152
          }
        ],
        "type": "plain",
        "source": "00000000-0000-0000-0000-000000000000",
        "target": "4cba9246-d4dc-419b-b589-b480efe70625",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "931e0088-ad58-4d6e-beee-7de7dc9baeb9": {
        "id": "931e0088-ad58-4d6e-beee-7de7dc9baeb9",
        "name": "",
        "path": [
          {
            "x": 320,
            "y": 168
          },
          {
            "x": 176,
            "y": 168
          },
          {
            "x": 176,
            "y": 200
          }
        ],
        "type": "plain",
        "source": "4cba9246-d4dc-419b-b589-b480efe70625",
        "target": "fddf1eed-6828-4fc1-ac03-e83d9850be3f",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [
            {
              "a": {
                "kind": "context",
                "value": "provider"
              },
              "b": {
                "kind": "manual",
                "value": [
                  {
                    "code": "sign_me",
                    "name": "Sign.me"
                  }
                ]
              },
              "type": "ENUM",
              "inversion": false,
              "operation": {
                "relation": "equal",
                "inversion": false,
                "caseInsensitive": false
              },
              "conjunction": false
            }
          ],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "a2118a58-9341-4eda-be7a-d81f376d2a2d": {
        "id": "a2118a58-9341-4eda-be7a-d81f376d2a2d",
        "name": "",
        "path": [
          {
            "x": 616,
            "y": 264
          },
          {
            "x": 568,
            "y": 264
          }
        ],
        "type": "plain",
        "source": "8f2706d8-28e7-4285-9fd7-af8fb2c2fbf6",
        "target": "47e45321-e274-42e7-bc8a-6a8ca903a28c",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "a34b1174-d128-4454-af4f-926ada086a7a": {
        "id": "a34b1174-d128-4454-af4f-926ada086a7a",
        "name": "",
        "path": [
          {
            "x": 296,
            "y": 232
          },
          {
            "x": 216,
            "y": 232
          }
        ],
        "type": "plain",
        "source": "844b9076-55dd-477c-9cc8-a42b22d213a0",
        "target": "fddf1eed-6828-4fc1-ac03-e83d9850be3f",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "aa26cb4b-82ac-476c-a2c4-575bbf7e54a5": {
        "id": "aa26cb4b-82ac-476c-a2c4-575bbf7e54a5",
        "name": "",
        "path": [
          {
            "x": 352,
            "y": 168
          },
          {
            "x": 448,
            "y": 168
          }
        ],
        "type": "default",
        "source": "4cba9246-d4dc-419b-b589-b480efe70625",
        "target": "4f832f08-c122-44a4-875b-79b8f6728787",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "b25ecd87-9dda-4757-9cc9-f21305ba6215": {
        "id": "b25ecd87-9dda-4757-9cc9-f21305ba6215",
        "name": "",
        "path": [
          {
            "x": 544,
            "y": 512
          },
          {
            "x": 544,
            "y": 448
          },
          {
            "x": 504,
            "y": 448
          }
        ],
        "type": "plain",
        "source": "515c384e-ad9c-47d6-b240-b0ca9929b1e4",
        "target": "dc6819c8-8d9d-437b-b622-2c70899dca39",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "b9109232-45bc-43ae-ab1e-e954146b817a": {
        "id": "b9109232-45bc-43ae-ab1e-e954146b817a",
        "name": "",
        "path": [
          {
            "x": 480,
            "y": 168
          },
          {
            "x": 504,
            "y": 168
          }
        ],
        "type": "plain",
        "source": "4f832f08-c122-44a4-875b-79b8f6728787",
        "target": "aee66b35-6cad-4d61-b67b-03e4ae9c93ca",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [
            {
              "a": {
                "kind": "context",
                "value": "unep_issue_confirmation_type"
              },
              "b": {
                "kind": "manual",
                "value": [
                  {
                    "code": "sms",
                    "name": "СМС"
                  }
                ]
              },
              "type": "ENUM",
              "inversion": false,
              "operation": {
                "relation": "equal",
                "inversion": false,
                "caseInsensitive": false
              },
              "conjunction": false
            }
          ],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "c0361b1b-7a16-40ab-9773-917535596cb6": {
        "id": "c0361b1b-7a16-40ab-9773-917535596cb6",
        "name": "",
        "path": [
          {
            "x": 664,
            "y": 168
          },
          {
            "x": 696,
            "y": 168
          }
        ],
        "type": "default",
        "source": "fa643a6a-305f-4830-99d6-bc71406e27c8",
        "target": "9883404d-b497-474e-9b13-35d557abf051",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "cd04feb7-1237-4e9d-b5f6-5cd4880409e5": {
        "id": "cd04feb7-1237-4e9d-b5f6-5cd4880409e5",
        "name": "",
        "path": [
          {
            "x": 480,
            "y": 360
          },
          {
            "x": 616,
            "y": 360
          }
        ],
        "type": "plain",
        "source": "33bae583-7a8f-4bba-9288-cf0f9403a932",
        "target": "29c201fb-266c-4fc0-9fea-59ae519db572",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [
            {
              "a": {
                "kind": "context",
                "value": "error_exists"
              },
              "b": {
                "kind": "manual",
                "value": true
              },
              "type": "BOOLEAN",
              "inversion": false,
              "operation": {
                "relation": "equal",
                "inversion": false,
                "caseInsensitive": false
              },
              "conjunction": false
            }
          ],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "d8a27219-52ed-4eee-96c8-2027e37891a8": {
        "id": "d8a27219-52ed-4eee-96c8-2027e37891a8",
        "name": "",
        "path": [
          {
            "x": 464,
            "y": 376
          },
          {
            "x": 464,
            "y": 416
          }
        ],
        "type": "default",
        "source": "33bae583-7a8f-4bba-9288-cf0f9403a932",
        "target": "dc6819c8-8d9d-437b-b622-2c70899dca39",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "db13ab9a-ee4a-47a0-b68d-159ee1cb1abf": {
        "id": "db13ab9a-ee4a-47a0-b68d-159ee1cb1abf",
        "name": "",
        "path": [
          {
            "x": 356,
            "y": 264
          },
          {
            "x": 356,
            "y": 384
          },
          {
            "x": 192,
            "y": 384
          }
        ],
        "type": "plain",
        "source": "844b9076-55dd-477c-9cc8-a42b22d213a0",
        "target": "52f039e9-cd8d-4488-b9ac-5e44c96c3d38",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "dd993fc9-8715-4b43-b1ac-2072cb446baf": {
        "id": "dd993fc9-8715-4b43-b1ac-2072cb446baf",
        "name": "",
        "path": [
          {
            "x": 552,
            "y": 280
          },
          {
            "x": 552,
            "y": 360
          },
          {
            "x": 616,
            "y": 360
          }
        ],
        "type": "plain",
        "source": "47e45321-e274-42e7-bc8a-6a8ca903a28c",
        "target": "29c201fb-266c-4fc0-9fea-59ae519db572",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [
            {
              "a": {
                "kind": "context",
                "value": "error_exists"
              },
              "b": {
                "kind": "manual",
                "value": true
              },
              "type": "BOOLEAN",
              "inversion": false,
              "operation": {
                "relation": "equal",
                "inversion": false,
                "caseInsensitive": false
              },
              "conjunction": false
            }
          ],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "e9e577d0-4dcb-4998-abef-63df44cee60d": {
        "id": "e9e577d0-4dcb-4998-abef-63df44cee60d",
        "name": "",
        "path": [
          {
            "x": 584,
            "y": 168
          },
          {
            "x": 632,
            "y": 168
          }
        ],
        "type": "plain",
        "source": "aee66b35-6cad-4d61-b67b-03e4ae9c93ca",
        "target": "fa643a6a-305f-4830-99d6-bc71406e27c8",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "ec9458bb-a38e-4c41-a714-a9e6b65d7308": {
        "id": "ec9458bb-a38e-4c41-a714-a9e6b65d7308",
        "name": "",
        "path": [
          {
            "x": 536,
            "y": 264
          },
          {
            "x": 504,
            "y": 264
          }
        ],
        "type": "default",
        "source": "47e45321-e274-42e7-bc8a-6a8ca903a28c",
        "target": "761e3994-875b-4351-8a93-f83658aec06e",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "f2f8b24f-15a9-4c30-adea-369b1ac7b3f9": {
        "id": "f2f8b24f-15a9-4c30-adea-369b1ac7b3f9",
        "name": "",
        "path": [
          {
            "x": 176,
            "y": 264
          },
          {
            "x": 176,
            "y": 288
          }
        ],
        "type": "plain",
        "source": "fddf1eed-6828-4fc1-ac03-e83d9850be3f",
        "target": "08a0bcd6-0d89-4c1a-a521-b445a9abe0f7",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "f4715382-849e-4a78-bf3b-c3169789b4f7": {
        "id": "f4715382-849e-4a78-bf3b-c3169789b4f7",
        "name": "",
        "path": [
          {
            "x": 480,
            "y": 528
          },
          {
            "x": 528,
            "y": 528
          }
        ],
        "type": "default",
        "source": "5b946c56-99d9-4b3f-ad57-2e739fe49d1a",
        "target": "515c384e-ad9c-47d6-b240-b0ca9929b1e4",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      }
    }
  },
  "scripts": "const signMeUrl = Namespace.params.data.sign_me_server_address;\nconst konturUrl = `${Namespace.params.data.kontur_server_address}/v1/issues`;\nconst apiKey = Context.data.api_key!;\nconst requestId = Context.data.request_id;\nconst konturHeaders: Record\u003cstring, string\u003e = {\n    \"X-KONTUR-APIKEY\": apiKey,\n    \"Content-Type\": \"application/json\"\n}\n\nasync function logData(response: FetchResponse): Promise\u003cvoid\u003e {\n    let requestEndpoint: string = \"\";\n    let responseJson: any = {};\n    let responseText: string = \"\";\n    requestEndpoint = response.url.split(\"/\").slice(-1)[0];\n    switch (requestEndpoint) {\n        case \"activate\":\n            responseText = await response.text();\n\n            if (responseText.includes(\"1\")) {\n                Context.data.request_confirmed = true;\n            };\n            break;\n        case requestId:\n            if (Context.data.request_data_full) {\n                responseJson = await response.json();\n                let requestStatus = responseJson.status;\n                if (requestStatus == \"released\") {\n                    Context.data.cert_released = true;\n                };\n                return;\n            };\n            responseJson = await response.json();\n            let requestDocs = responseJson.documents.find((doc: any) =\u003e doc.type == \"passport\" || doc.type == \"otherIdentity\").requisites;\n            Context.data.passport_series = requestDocs.find((doc: any) =\u003e doc.type == \"series\")?.value;\n            Context.data.passport_number = requestDocs.find((doc: any) =\u003e doc.type == \"number\")?.value;\n            Context.data.issue_date = requestDocs.find((doc: any) =\u003e doc.type == \"issueDate\")?.value;\n            Context.data.birth_date = requestDocs.find((doc: any) =\u003e doc.type == \"birthDate\")?.value;\n            Context.data.birth_place = requestDocs.find((doc: any) =\u003e doc.type == \"birthPlace\")?.value;\n            Context.data.issue_id = requestDocs.find((doc: any) =\u003e doc.type == \"issueOrganizationId\")?.value;\n            Context.data.issued_by = requestDocs.find((doc: any) =\u003e doc.type == \"issueOrganization\")?.value;\n            Context.data.request_data_full = true;\n            break;\n    };\n};\n\nasync function logError(response?: FetchResponse, error?: string) {\n    Context.data.error_exists = true;\n\n    if (!!response) {\n        switch (response.status) {\n            case 400:\n                if (response.url.includes(\"validate\")) {\n                    const errorMessage = (await response.json()).error.message;\n                    Context.data.error = errorMessage;\n                    break;\n                };\n                const errorDetails = (await response.json()).error.details;\n                const errorFields = errorDetails.map((field: any) =\u003e {\n                    return JSON.stringify({\n                        'Поле': field.target,\n                        'Причина': field.message\n                    });\n                }).join(\", \");\n                Context.data.error = errorFields;\n            case 401:\n                Context.data.error = \"Неверный api-ключ\"\n            case 403:\n                Context.data.error = \"Недостаточно прав на создание заявки\"\n            case 404:\n                Context.data.error = \"Заявка с данным идентификатором не найдена.\";\n            case 408:\n                Context.data.error = \"Превышено время ожидания запроса.\";\n            case 409:\n                Context.data.error = \"Данная заявка в процессе актуализации.\";\n            case 429:\n                Context.data.error = \"Данные заявки изменялись слишком много раз, попробуйте заново.\";\n        };\n        return;\n    };\n    throw new Error(error);\n};\n\nasync function activate(): Promise\u003cvoid\u003e {\n    Context.data.error_exists = false;\n    let body = JSON.stringify({\n        api_key: apiKey,\n        uid: requestId\n    });\n    let response = await fetch(`${signMeUrl}/activate`, {\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body\n    });\n    if (!response.ok) {\n    \n    };\n    await logData(response);\n};\n\nasync function getRequestData(): Promise\u003cvoid\u003e {\n    Context.data.error_exists = false;\n    let response = await fetch(`${konturUrl}/${requestId}`, {\n        headers: konturHeaders\n    });\n    if (!response.ok) {\n        await logError(response);\n    };\n    await logData(response)\n};\n\nasync function confirmSubjectIdentification(): Promise\u003cvoid\u003e {\n    Context.data.error_exists = false;\n    let response = await fetch(`${konturUrl}/${requestId}/subject-identification`, {\n        method: \"PUT\",\n        headers: konturHeaders,\n        body: JSON.stringify({\n            identifiedBy: Context.data.responsible_user!.id,\n            identificationSubjectType: \"employee\"\n        })\n    });\n    if (!response.ok) {\n        Context.data.debug = response.statusText + \" \" + Context.data.responsible_user!.id\n        await logError(response);\n    };\n};\n\nasync function validateIssue(): Promise\u003cvoid\u003e {\n    Context.data.error_exists = false;\n    let response = await fetch(`${konturUrl}/${requestId}/validate`, {\n        method: \"POST\",\n        headers: konturHeaders\n    });\n\n    if (!response.ok) {\n        await logError(response);\n    };\n};",
  "forms": [],
  "settings": {
    "logged": true,
    "targetFeed": {
      "type": "instance",
      "variable": ""
    },
    "allowGlobal": false,
    "instanceCard": {
      "allFields": true,
      "formFields": []
    },
    "notifyOnStart": true,
    "allowNamespace": false,
    "applicationContext": false,
    "fieldVisibilityConditions": {
      "user": {
        "enabled": false,
        "conditions": []
      },
      "debug": {
        "enabled": false,
        "conditions": []
      },
      "error": {
        "enabled": false,
        "conditions": []
      },
      "api_key": {
        "enabled": false,
        "conditions": []
      },
      "issue_id": {
        "enabled": false,
        "conditions": []
      },
      "provider": {
        "enabled": false,
        "conditions": []
      },
      "valid_to": {
        "enabled": false,
        "conditions": []
      },
      "issued_by": {
        "enabled": false,
        "conditions": []
      },
      "birth_date": {
        "enabled": false,
        "conditions": []
      },
      "issue_date": {
        "enabled": false,
        "conditions": []
      },
      "request_id": {
        "enabled": false,
        "conditions": []
      },
      "birth_place": {
        "enabled": false,
        "conditions": []
      },
      "error_exists": {
        "enabled": false,
        "conditions": []
      },
      "cert_released": {
        "enabled": false,
        "conditions": []
      },
      "issue_declined": {
        "enabled": false,
        "conditions": []
      },
      "passport_number": {
        "enabled": false,
        "conditions": []
      },
      "passport_series": {
        "enabled": false,
        "conditions": []
      },
      "responsible_user": {
        "enabled": false,
        "conditions": []
      },
      "request_confirmed": {
        "enabled": false,
        "conditions": []
      },
      "request_data_full": {
        "enabled": false,
        "conditions": []
      },
      "unep_issue_confirmation_type": {
        "enabled": false,
        "conditions": []
      }
    }
  },
  "hideInList": false,
  "applicationLink": false,
  "__deletedAt": null
}
