{
  "__id": "018c8757-193c-7eae-8a61-70f023b085f4",
  "namespace": "kedo.staff",
  "code": "fixed_term_contract",
  "category": "00000000-0000-0000-0000-000000000000",
  "__name": "Срочный трудовой договор",
  "type": "bpmn",
  "draft": false,
  "version": 13,
  "context": [
    {
      "code": "warn_date",
      "type": "DATETIME",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Дата оповещения",
        "data": {
          "additionalType": "date",
          "defaultTimeType": "startOfDay",
          "timeOptional": false
        }
      }
    },
    {
      "code": "staff",
      "type": "SYS_COLLECTION",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": true,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {
        "code": "staff",
        "filter": null,
        "bindings": null,
        "namespace": "kedo",
        "isDependent": false,
        "linkedFieldCode": ""
      },
      "view": {
        "name": "Сотрудник"
      }
    },
    {
      "code": "contract_expire_date",
      "type": "DATETIME",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Дата окончания договора",
        "data": {
          "additionalType": "date",
          "defaultTimeType": "startOfDay",
          "timeOptional": false
        }
      }
    },
    {
      "code": "hrs",
      "type": "SYS_USER",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": true,
      "required": false,
      "single": false,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {
        "filter": {
          "value": {
            "tf": {}
          },
          "enabled": false
        }
      },
      "view": {
        "name": "Отдел кадров",
        "data": {}
      }
    },
    {
      "code": "send_notification",
      "type": "BOOLEAN",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": false,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Отправлять уведомление?",
        "data": {
          "additionalType": "radio",
          "noValue": "Нет",
          "yesValue": "Да"
        },
        "input": true,
        "output": true
      }
    }
  ],
  "manualRun": false,
  "readonly": false,
  "__createdAt": "2023-11-20T14:10:23.303688112Z",
  "__createdBy": "64f25f8e-6bb3-406b-84b3-4dd5d32e5537",
  "__updatedAt": "2024-03-04T09:09:23.444631414Z",
  "__updatedBy": "b3f986a6-49d7-4dbb-b047-88cc4285f013",
  "process": {
    "items": {
      "00000000-0000-0000-0000-000000000000": {
        "x": 104,
        "y": 48,
        "id": "00000000-0000-0000-0000-000000000000",
        "lane": "eb992511-282b-44ba-a436-d69a3242028a",
        "type": "start",
        "color": "#ffffff",
        "exits": ["38ece9ba-2ebf-4156-b576-c3a6a0f50300"],
        "width": 32,
        "height": 32,
        "settings": {
          "formFields": [
            {
              "code": "__name",
              "display": "Название",
              "tooltip": "Название экземпляра процесса, будет показываться в задачах",
              "readonly": false,
              "required": true
            }
          ],
          "instruction": "",
          "notifyMessage": "Запущен процесс",
          "titleTemplate": "Срочный трудовой договор ({$staff})",
          "titleGenerateMethod": "template"
        }
      },
      "199e9ca0-04ff-476c-a2b3-03f5f0fbc7d1": {
        "x": 496,
        "y": 480,
        "id": "199e9ca0-04ff-476c-a2b3-03f5f0fbc7d1",
        "icon": "end",
        "lane": "1b00d3af-d181-4543-a47b-d5bc65938a05",
        "name": "",
        "type": "end",
        "color": "#ffffff",
        "exits": [],
        "width": 32,
        "height": 32,
        "settings": {
          "actions": [],
          "isModal": false,
          "actionType": "nothing",
          "messageText": "",
          "redirectUrl": ""
        }
      },
      "32e3404c-bc33-4668-b1c5-b948709cb1e2": {
        "x": 104,
        "y": 480,
        "id": "32e3404c-bc33-4668-b1c5-b948709cb1e2",
        "icon": "exclusive",
        "lane": "eb992511-282b-44ba-a436-d69a3242028a",
        "name": "",
        "type": "gateway",
        "color": "#ffffff",
        "exits": [
          "bcf36433-110d-4ea3-a358-cf4bbb3398c6",
          "d8d65dfd-44a7-4290-91ab-54cbf28cb128"
        ],
        "width": 32,
        "height": 32,
        "settings": {
          "func": "",
          "type": "exclusive",
          "useFunc": false,
          "funcType": "STRING",
          "description": ""
        }
      },
      "76fde489-d581-4073-bf61-f91cfcaad9bc": {
        "x": 280,
        "y": 480,
        "id": "76fde489-d581-4073-bf61-f91cfcaad9bc",
        "icon": "timer",
        "lane": "1b00d3af-d181-4543-a47b-d5bc65938a05",
        "name": "Таймер ожидания окончания",
        "type": "event",
        "color": "#ffffff",
        "exits": ["b405ff96-54dc-4f51-9cd1-e6494af5b138"],
        "width": 32,
        "height": 32,
        "settings": {
          "kind": "timer",
          "timer": {
            "code": "warn_date",
            "days": 0,
            "kind": "variable",
            "hours": 0,
            "minutes": 0,
            "absolute": false,
            "substraction": false
          }
        }
      },
      "825ddae1-c4e1-43bf-a7db-47bfa99df446": {
        "x": 368,
        "y": 464,
        "id": "825ddae1-c4e1-43bf-a7db-47bfa99df446",
        "icon": "user",
        "lane": "1b00d3af-d181-4543-a47b-d5bc65938a05",
        "name": "Сообщить о окончании перевода / срочного ТД",
        "type": "user",
        "color": "#daeef7",
        "exits": ["0a4893e6-8cdf-4118-b393-e261e7668be3"],
        "width": 80,
        "height": 64,
        "settings": {
          "name": "Приближается окончание перевода / срочного трудового договора у сотрудника {$staff}",
          "notify": true,
          "formCode": "form_9d6d882b-8680-483f-9786-69e072aa8cbb",
          "authorType": 2,
          "escalation": {
            "byTime": {
              "limit": {
                "days": 3,
                "kind": "duration",
                "hours": 0,
                "minutes": 0,
                "absolute": false
              },
              "action": {
                "notify": false,
                "interrupt": false,
                "receivers": []
              },
              "enabled": true
            }
          },
          "formFields": [],
          "priorityType": "context_var",
          "allowReassign": true,
          "descriptionType": "context_var",
          "placeContextVar": "",
          "planDatesSettings": {
            "enabled": false,
            "planCodes": {
              "endCode": "",
              "startCode": ""
            }
          },
          "disableEmailNotify": false,
          "isIgnoreSubstitutionTarget": "",
          "externalParticipantsContextVar": ""
        }
      },
      "b21470ac-e213-4bcb-9e9f-d4710fd929d9": {
        "x": 104,
        "y": 552,
        "id": "b21470ac-e213-4bcb-9e9f-d4710fd929d9",
        "icon": "end",
        "lane": "eb992511-282b-44ba-a436-d69a3242028a",
        "name": "",
        "type": "end",
        "color": "#ffffff",
        "exits": [],
        "width": 32,
        "height": 32,
        "settings": {
          "actions": [],
          "isModal": false,
          "actionType": "nothing",
          "messageText": "",
          "redirectUrl": ""
        }
      },
      "ca3745a1-cfc3-4dd0-9226-dbdde2b8097e": {
        "x": 80,
        "y": 104,
        "id": "ca3745a1-cfc3-4dd0-9226-dbdde2b8097e",
        "icon": "script",
        "lane": "eb992511-282b-44ba-a436-d69a3242028a",
        "name": "Получить настройку по использованию уведомлений",
        "type": "script",
        "color": "#fde9a0",
        "exits": ["d268b5f0-ac78-48e8-a9f3-d1be2e521ec7"],
        "width": 80,
        "height": 64,
        "settings": {
          "func": "getSettings",
          "count": 1,
          "delay": 5,
          "retry": true,
          "escalation": {
            "byError": {
              "notify": false,
              "interrupt": false,
              "receivers": []
            }
          }
        }
      },
      "d0776bd5-8920-4dad-8f64-81b3018470e3": {
        "x": 80,
        "y": 296,
        "id": "d0776bd5-8920-4dad-8f64-81b3018470e3",
        "icon": "system",
        "lane": "eb992511-282b-44ba-a436-d69a3242028a",
        "name": "Получаем участников групп",
        "type": "ca",
        "color": "#20c997",
        "exits": [
          "7f7b748b-0470-40f2-8e50-9e1fb568fd6f",
          "102cae0f-274b-47f5-b82f-2de6e2b73a63"
        ],
        "width": 80,
        "height": 64,
        "settings": {
          "code": "get_users",
          "name": "",
          "input": [
            {
              "source": {
                "kind": "context",
                "value": "staff.organization"
              },
              "target": {
                "kind": "context",
                "value": "organization"
              }
            }
          ],
          "output": [
            {
              "source": {
                "kind": "context",
                "value": "hrs"
              },
              "target": {
                "kind": "context",
                "value": "hr_dep"
              }
            },
            {
              "target": {
                "kind": "context",
                "value": "accounting"
              }
            },
            {
              "target": {
                "kind": "context",
                "value": "matching_finance"
              }
            },
            {
              "target": {
                "kind": "context",
                "value": "office_managers"
              }
            },
            {
              "target": {
                "kind": "context",
                "value": "signatories"
              }
            },
            {
              "target": {
                "kind": "context",
                "value": "boss"
              }
            },
            {
              "target": {
                "kind": "context",
                "value": "boss_app"
              }
            },
            {
              "target": {
                "kind": "context",
                "value": "error"
              }
            }
          ],
          "namespace": "ext_7fe3de7d-f459-4f75-940c-271c6e9ea1ed",
          "escalation": {
            "byTime": {
              "limit": {
                "days": 0,
                "kind": "duration",
                "hours": 0,
                "minutes": 0,
                "absolute": false
              },
              "action": {
                "notify": false,
                "interrupt": false,
                "receivers": []
              },
              "enabled": false
            },
            "byError": {
              "exit": "7f7b748b-0470-40f2-8e50-9e1fb568fd6f",
              "notify": false,
              "interrupt": true,
              "receivers": []
            }
          },
          "bindingForm": {
            "fieldValues": {
              "boss": null,
              "error": null,
              "groups": null,
              "hr_dep": {
                "kind": "Mapped",
                "path": ["hrs"]
              },
              "boss_app": null,
              "accounting": null,
              "signatories": null,
              "_bindingData": {
                "inputs": [
                  {
                    "source": {
                      "kind": "context",
                      "value": "staff.organization"
                    },
                    "target": {
                      "kind": "context",
                      "value": "organization"
                    }
                  }
                ],
                "outputs": [
                  {
                    "source": {
                      "kind": "context",
                      "value": "hrs"
                    },
                    "target": {
                      "kind": "context",
                      "value": "hr_dep"
                    }
                  },
                  {
                    "target": {
                      "kind": "context",
                      "value": "accounting"
                    }
                  },
                  {
                    "target": {
                      "kind": "context",
                      "value": "matching_finance"
                    }
                  },
                  {
                    "target": {
                      "kind": "context",
                      "value": "office_managers"
                    }
                  },
                  {
                    "target": {
                      "kind": "context",
                      "value": "signatories"
                    }
                  },
                  {
                    "target": {
                      "kind": "context",
                      "value": "boss"
                    }
                  },
                  {
                    "target": {
                      "kind": "context",
                      "value": "boss_app"
                    }
                  },
                  {
                    "target": {
                      "kind": "context",
                      "value": "error"
                    }
                  }
                ],
                "sources": [
                  {
                    "code": "__createdBy",
                    "type": "SYS_USER",
                    "view": {
                      "name": "Инициатор",
                      "system": true
                    },
                    "array": false,
                    "single": true
                  },
                  {
                    "code": "__name",
                    "type": "STRING",
                    "view": {
                      "data": {
                        "additionalType": "string"
                      },
                      "name": "Название",
                      "system": true
                    },
                    "array": false,
                    "single": true
                  },
                  {
                    "code": "__comment",
                    "type": "STRING",
                    "view": {
                      "data": {
                        "additionalType": "text"
                      },
                      "name": "Комментарий",
                      "system": true
                    },
                    "array": false,
                    "single": true
                  },
                  {
                    "code": "warn_date",
                    "data": {},
                    "type": "DATETIME",
                    "view": {
                      "data": {
                        "timeOptional": false,
                        "additionalType": "date",
                        "defaultTimeType": "startOfDay"
                      },
                      "name": "Дата оповещения"
                    },
                    "array": false,
                    "single": true,
                    "deleted": false,
                    "formula": "",
                    "indexed": false,
                    "required": false,
                    "sortable": false,
                    "searchable": false,
                    "defaultValue": null,
                    "calcByFormula": false
                  },
                  {
                    "code": "staff",
                    "data": {
                      "code": "staff",
                      "filter": null,
                      "bindings": null,
                      "namespace": "kedo",
                      "isDependent": false,
                      "linkedFieldCode": ""
                    },
                    "type": "SYS_COLLECTION",
                    "view": {
                      "name": "Сотрудник"
                    },
                    "array": true,
                    "single": true,
                    "deleted": false,
                    "formula": "",
                    "indexed": false,
                    "required": false,
                    "sortable": false,
                    "searchable": false,
                    "defaultValue": null,
                    "calcByFormula": false
                  },
                  {
                    "code": "contract_expire_date",
                    "data": {},
                    "type": "DATETIME",
                    "view": {
                      "data": {
                        "timeOptional": false,
                        "additionalType": "date",
                        "defaultTimeType": "startOfDay"
                      },
                      "name": "Дата окончания договора"
                    },
                    "array": false,
                    "single": true,
                    "deleted": false,
                    "formula": "",
                    "indexed": false,
                    "required": false,
                    "sortable": false,
                    "searchable": false,
                    "defaultValue": null,
                    "calcByFormula": false
                  },
                  {
                    "id": 4,
                    "code": "hrs",
                    "data": {
                      "filter": {
                        "value": {
                          "tf": {}
                        },
                        "enabled": false
                      }
                    },
                    "type": "SYS_USER",
                    "view": {
                      "data": {},
                      "name": "Отдел кадров"
                    },
                    "array": true,
                    "single": false,
                    "deleted": false,
                    "formula": "",
                    "indexed": false,
                    "required": false,
                    "sortable": false,
                    "isNewField": true,
                    "searchable": false,
                    "calcByFormula": false,
                    "isNameChanged": true
                  }
                ],
                "targets": [
                  {
                    "code": "organization",
                    "data": {},
                    "type": "REF_ITEM",
                    "view": {
                      "data": {},
                      "name": "Организация",
                      "input": true,
                      "output": false
                    },
                    "array": true,
                    "single": true,
                    "deleted": false,
                    "formula": "",
                    "indexed": false,
                    "required": true,
                    "searchable": false,
                    "defaultValue": null,
                    "calcByFormula": false
                  },
                  {
                    "code": "hr_dep",
                    "data": {
                      "filter": {
                        "value": {
                          "tf": {}
                        },
                        "enabled": false
                      }
                    },
                    "type": "SYS_USER",
                    "view": {
                      "data": {},
                      "name": "Отдел кадров",
                      "output": true
                    },
                    "array": true,
                    "single": false,
                    "deleted": false,
                    "formula": "",
                    "indexed": false,
                    "required": false,
                    "searchable": false,
                    "defaultValue": null,
                    "calcByFormula": false
                  },
                  {
                    "code": "accounting",
                    "data": {
                      "filter": {
                        "value": {
                          "tf": {}
                        },
                        "enabled": false
                      }
                    },
                    "type": "SYS_USER",
                    "view": {
                      "data": {},
                      "name": "Бухгалтерия",
                      "output": true
                    },
                    "array": true,
                    "single": false,
                    "deleted": false,
                    "formula": "",
                    "indexed": false,
                    "required": false,
                    "searchable": false,
                    "defaultValue": null,
                    "calcByFormula": false
                  },
                  {
                    "code": "matching_finance",
                    "data": {
                      "filter": {
                        "value": {
                          "tf": {}
                        },
                        "enabled": false
                      }
                    },
                    "type": "SYS_USER",
                    "view": {
                      "data": {},
                      "name": "Ответственные за финансы ",
                      "output": true
                    },
                    "array": true,
                    "single": false,
                    "deleted": false,
                    "formula": "",
                    "indexed": false,
                    "required": false,
                    "searchable": false,
                    "defaultValue": null,
                    "calcByFormula": false
                  },
                  {
                    "code": "office_managers",
                    "data": {
                      "filter": {
                        "value": {
                          "tf": {}
                        },
                        "enabled": false
                      }
                    },
                    "type": "SYS_USER",
                    "view": {
                      "data": {},
                      "name": "Офис менеджеры",
                      "output": true
                    },
                    "array": true,
                    "single": false,
                    "deleted": false,
                    "formula": "",
                    "indexed": false,
                    "required": false,
                    "searchable": false,
                    "defaultValue": null,
                    "calcByFormula": false
                  },
                  {
                    "code": "signatories",
                    "data": {
                      "filter": {
                        "value": {
                          "tf": {}
                        },
                        "enabled": false
                      }
                    },
                    "type": "SYS_USER",
                    "view": {
                      "data": {},
                      "name": "Подписанты",
                      "output": true
                    },
                    "array": true,
                    "single": false,
                    "deleted": false,
                    "formula": "",
                    "indexed": false,
                    "required": false,
                    "searchable": false,
                    "defaultValue": null,
                    "calcByFormula": false
                  },
                  {
                    "code": "boss",
                    "data": {
                      "filter": {
                        "value": {
                          "tf": {}
                        },
                        "enabled": false
                      }
                    },
                    "type": "SYS_USER",
                    "view": {
                      "data": {},
                      "name": "Руководитель компании",
                      "output": true
                    },
                    "array": true,
                    "single": true,
                    "deleted": false,
                    "formula": "",
                    "indexed": false,
                    "required": false,
                    "searchable": false,
                    "defaultValue": null,
                    "calcByFormula": false
                  },
                  {
                    "code": "boss_app",
                    "data": {},
                    "type": "REF_ITEM",
                    "view": {
                      "data": {},
                      "name": "Руководитель компании (app)",
                      "input": false,
                      "output": true
                    },
                    "array": false,
                    "single": true,
                    "deleted": false,
                    "formula": "",
                    "indexed": false,
                    "required": false,
                    "searchable": false,
                    "defaultValue": null,
                    "calcByFormula": false
                  },
                  {
                    "code": "error",
                    "data": {},
                    "type": "STRING",
                    "view": {
                      "data": {
                        "additionalType": "text"
                      },
                      "name": "error",
                      "output": true
                    },
                    "array": false,
                    "single": true,
                    "deleted": false,
                    "formula": "",
                    "indexed": false,
                    "required": false,
                    "searchable": false,
                    "defaultValue": null,
                    "calcByFormula": false
                  }
                ]
              },
              "organization": {
                "kind": "Mapped",
                "path": ["staff", "organization"]
              },
              "office_managers": null,
              "matching_finance": null,
              "__dynamic_binding": {}
            }
          },
          "targetAppCode": "",
          "dynamicBinding": {}
        }
      },
      "e3d20b31-7cbd-4ad6-9450-de49fda4b1c1": {
        "x": 104,
        "y": 216,
        "id": "e3d20b31-7cbd-4ad6-9450-de49fda4b1c1",
        "icon": "exclusive",
        "lane": "eb992511-282b-44ba-a436-d69a3242028a",
        "name": "",
        "type": "gateway",
        "color": "#ffffff",
        "exits": [
          "f87b9961-f58b-41fb-804a-dcd1a691cf26",
          "b67b9050-9947-415c-b1b8-a6f3a2c1f788"
        ],
        "width": 32,
        "height": 32,
        "settings": {
          "func": "",
          "type": "exclusive",
          "useFunc": false,
          "funcType": "STRING",
          "description": ""
        }
      },
      "f4a76e99-9489-4039-ace6-4abb13e1af8e": {
        "x": 80,
        "y": 392,
        "id": "f4a76e99-9489-4039-ace6-4abb13e1af8e",
        "icon": "script",
        "lane": "eb992511-282b-44ba-a436-d69a3242028a",
        "name": "Заполнение даты оповещения",
        "type": "script",
        "color": "#fde9a0",
        "exits": ["299cce3b-346b-40a3-8547-8870fcf3c061"],
        "width": 80,
        "height": 64,
        "settings": {
          "func": "fillDate",
          "count": 1,
          "delay": 5,
          "retry": true,
          "escalation": {
            "byError": {
              "notify": false,
              "interrupt": false,
              "receivers": []
            }
          }
        }
      }
    },
    "lanes": {
      "1b00d3af-d181-4543-a47b-d5bc65938a05": {
        "x": 232,
        "y": 8,
        "id": "1b00d3af-d181-4543-a47b-d5bc65938a05",
        "name": "Отдел кадров",
        "color": "#d6f0cc",
        "width": 348,
        "height": 600,
        "settings": {
          "type": "dynamic",
          "group": {
            "code": "abdecf4b-b6ba-419f-bac7-c1455d2a6159",
            "kind": "common",
            "multi": true,
            "namespace": "kedo"
          },
          "groups": [
            {
              "code": "abdecf4b-b6ba-419f-bac7-c1455d2a6159",
              "kind": "common",
              "multi": true,
              "namespace": "kedo"
            }
          ],
          "variable": "hrs",
          "permissionExtend": {
            "kind": "simple"
          }
        },
        "direction": "vertical",
        "multiInstance": true
      },
      "eb992511-282b-44ba-a436-d69a3242028a": {
        "x": 8,
        "y": 8,
        "id": "eb992511-282b-44ba-a436-d69a3242028a",
        "name": "Инициатор",
        "color": "#d6f0cc",
        "width": 224,
        "height": 600,
        "settings": {
          "type": "dynamic",
          "variable": "__createdBy",
          "permissionExtend": {
            "kind": "simple"
          }
        },
        "direction": "vertical",
        "multiInstance": false
      }
    },
    "paper": {
      "format": "A4",
      "orientation": "landscape"
    },
    "transitions": {
      "0a4893e6-8cdf-4118-b393-e261e7668be3": {
        "id": "0a4893e6-8cdf-4118-b393-e261e7668be3",
        "name": "Готово",
        "path": [
          {
            "x": 448,
            "y": 496
          },
          {
            "x": 496,
            "y": 496
          }
        ],
        "type": "plain",
        "source": "825ddae1-c4e1-43bf-a7db-47bfa99df446",
        "target": "199e9ca0-04ff-476c-a2b3-03f5f0fbc7d1",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "primary",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "102cae0f-274b-47f5-b82f-2de6e2b73a63": {
        "id": "102cae0f-274b-47f5-b82f-2de6e2b73a63",
        "name": "",
        "path": [
          {
            "x": 120,
            "y": 360
          },
          {
            "x": 120,
            "y": 392
          }
        ],
        "type": "plain",
        "source": "d0776bd5-8920-4dad-8f64-81b3018470e3",
        "target": "f4a76e99-9489-4039-ace6-4abb13e1af8e",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "299cce3b-346b-40a3-8547-8870fcf3c061": {
        "id": "299cce3b-346b-40a3-8547-8870fcf3c061",
        "name": "",
        "path": [
          {
            "x": 120,
            "y": 456
          },
          {
            "x": 120,
            "y": 480
          }
        ],
        "type": "plain",
        "source": "f4a76e99-9489-4039-ace6-4abb13e1af8e",
        "target": "32e3404c-bc33-4668-b1c5-b948709cb1e2",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "38ece9ba-2ebf-4156-b576-c3a6a0f50300": {
        "id": "38ece9ba-2ebf-4156-b576-c3a6a0f50300",
        "name": "",
        "path": [
          {
            "x": 120,
            "y": 80
          },
          {
            "x": 120,
            "y": 104
          }
        ],
        "type": "plain",
        "source": "00000000-0000-0000-0000-000000000000",
        "target": "ca3745a1-cfc3-4dd0-9226-dbdde2b8097e",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "7f7b748b-0470-40f2-8e50-9e1fb568fd6f": {
        "id": "7f7b748b-0470-40f2-8e50-9e1fb568fd6f",
        "name": "",
        "path": [
          {
            "x": 80,
            "y": 328
          },
          {
            "x": 56,
            "y": 328
          },
          {
            "x": 56,
            "y": 568
          },
          {
            "x": 104,
            "y": 568
          }
        ],
        "type": "error",
        "source": "d0776bd5-8920-4dad-8f64-81b3018470e3",
        "target": "b21470ac-e213-4bcb-9e9f-d4710fd929d9",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "b405ff96-54dc-4f51-9cd1-e6494af5b138": {
        "id": "b405ff96-54dc-4f51-9cd1-e6494af5b138",
        "name": "",
        "path": [
          {
            "x": 312,
            "y": 496
          },
          {
            "x": 368,
            "y": 496
          }
        ],
        "type": "plain",
        "source": "76fde489-d581-4073-bf61-f91cfcaad9bc",
        "target": "825ddae1-c4e1-43bf-a7db-47bfa99df446",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "b67b9050-9947-415c-b1b8-a6f3a2c1f788": {
        "id": "b67b9050-9947-415c-b1b8-a6f3a2c1f788",
        "name": "",
        "path": [
          {
            "x": 104,
            "y": 232
          },
          {
            "x": 32,
            "y": 232
          },
          {
            "x": 32,
            "y": 564
          },
          {
            "x": 96,
            "y": 564
          },
          {
            "x": 96,
            "y": 568
          },
          {
            "x": 104,
            "y": 568
          }
        ],
        "type": "default",
        "source": "e3d20b31-7cbd-4ad6-9450-de49fda4b1c1",
        "target": "b21470ac-e213-4bcb-9e9f-d4710fd929d9",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "bcf36433-110d-4ea3-a358-cf4bbb3398c6": {
        "id": "bcf36433-110d-4ea3-a358-cf4bbb3398c6",
        "name": "Дата заполнена",
        "path": [
          {
            "x": 136,
            "y": 496
          },
          {
            "x": 280,
            "y": 496
          }
        ],
        "type": "plain",
        "source": "32e3404c-bc33-4668-b1c5-b948709cb1e2",
        "target": "76fde489-d581-4073-bf61-f91cfcaad9bc",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [
            {
              "a": {
                "kind": "context",
                "value": "warn_date"
              },
              "type": "DATETIME",
              "inversion": false,
              "operation": {
                "relation": "empty",
                "inversion": true,
                "caseInsensitive": false
              },
              "conjunction": false
            },
            {
              "a": {
                "kind": "context",
                "value": "staff"
              },
              "type": "SYS_COLLECTION",
              "inversion": false,
              "operation": {
                "relation": "empty",
                "inversion": true,
                "caseInsensitive": false
              },
              "conjunction": true
            }
          ],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "d268b5f0-ac78-48e8-a9f3-d1be2e521ec7": {
        "id": "d268b5f0-ac78-48e8-a9f3-d1be2e521ec7",
        "name": "",
        "path": [
          {
            "x": 120,
            "y": 168
          },
          {
            "x": 120,
            "y": 216
          }
        ],
        "type": "plain",
        "source": "ca3745a1-cfc3-4dd0-9226-dbdde2b8097e",
        "target": "e3d20b31-7cbd-4ad6-9450-de49fda4b1c1",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "d8d65dfd-44a7-4290-91ab-54cbf28cb128": {
        "id": "d8d65dfd-44a7-4290-91ab-54cbf28cb128",
        "name": "",
        "path": [
          {
            "x": 120,
            "y": 512
          },
          {
            "x": 120,
            "y": 552
          }
        ],
        "type": "default",
        "source": "32e3404c-bc33-4668-b1c5-b948709cb1e2",
        "target": "b21470ac-e213-4bcb-9e9f-d4710fd929d9",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "f87b9961-f58b-41fb-804a-dcd1a691cf26": {
        "id": "f87b9961-f58b-41fb-804a-dcd1a691cf26",
        "name": "Отправляем уведомление",
        "path": [
          {
            "x": 120,
            "y": 248
          },
          {
            "x": 120,
            "y": 296
          }
        ],
        "type": "plain",
        "source": "e3d20b31-7cbd-4ad6-9450-de49fda4b1c1",
        "target": "d0776bd5-8920-4dad-8f64-81b3018470e3",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [
            {
              "a": {
                "kind": "context",
                "value": "send_notification"
              },
              "b": {
                "kind": "manual",
                "value": true
              },
              "type": "BOOLEAN",
              "inversion": false,
              "operation": {
                "relation": "equal",
                "inversion": false,
                "caseInsensitive": false
              },
              "conjunction": false
            }
          ],
          "descritpion": ""
        },
        "nameShift": 0
      }
    }
  },
  "scripts": "/**\nHere you can write scripts for complex server processing of the context during process execution.\nTo write scripts, use TypeScript (https://www.typescriptlang.org).\nELMA365 SDK documentation available on https://tssdk.elma365.com.\n**/\n\nasync function fillDate(): Promise\u003cvoid\u003e {\n    \n    const setting = await Namespace.app.settings.search().where((f, g) =\u003e g.and(\n        f.__deletedAt.eq(null),\n        f.code.eq('days_to_warn_hrs_about_fixedterm_contract')\n    )).first();\n\n    let diff: number = 5;\n\n    if (setting \u0026\u0026 setting.data.quantity) {\n        diff = setting.data.quantity;\n    }\n\n    if (Context.data.contract_expire_date) {\n        Context.data.warn_date = Context.data.contract_expire_date.addDate(0, 0, -diff);\n    }\n\n}\n\nasync function getSettings(): Promise\u003cvoid\u003e {\n    const setting = await Namespace.app.settings.search().where((f, g) =\u003e g.and(\n        f.__deletedAt.eq(null),\n        f.code.eq('send_notification_about_the_ending_of_personnel_transfer')\n    )).first();\n\n    let notify = false;\n\n    if (setting \u0026\u0026 setting.data.status) {\n        notify = setting.data.status;\n    }\n\n    Context.data.send_notification = notify;\n}\n",
  "forms": [
    {
      "id": "",
      "code": "form_9d6d882b-8680-483f-9786-69e072aa8cbb",
      "name": "Сообщить о окончании срочного ТД",
      "values": {
        "formType": "task-form",
        "formGroup": {
          "path": ["context"]
        }
      },
      "widget": {
        "draft": false,
        "deleted": false,
        "version": 3
      },
      "content": {
        "[footer]": [
          {
            "id": "31979bac-00bd-4123-a901-9d14190c8dde",
            "values": {
              "buttons": {
                "path": ["actionButtons"]
              }
            },
            "content": null,
            "descriptor": "buttons-panel",
            "descriptorVersion": null
          }
        ],
        "[content]": [
          {
            "id": "c18e9118-cda2-49f4-ae50-5414c9b970b2",
            "values": {
              "shadow": true
            },
            "content": {
              "": [
                {
                  "id": "dcdd3e4e-0c49-483b-87c2-8c782a8890f0",
                  "values": {
                    "form": {
                      "path": ["context"]
                    },
                    "fields": {
                      "path": ["fields"]
                    }
                  },
                  "content": null,
                  "descriptor": "dynamic-form",
                  "descriptorVersion": null
                }
              ]
            },
            "descriptor": "modal-body",
            "descriptorVersion": null
          }
        ],
        "[sidebar]": [
          {
            "id": "39d7757a-529f-4526-98f3-fddc66becf85",
            "values": null,
            "content": {
              "": [
                {
                  "id": "abe4b782-6e2d-49cc-a57e-81b636422ee5",
                  "values": {
                    "context": {
                      "path": ["context"]
                    }
                  },
                  "content": null,
                  "descriptor": "target-widget",
                  "descriptorVersion": null
                }
              ]
            },
            "descriptor": "sidebar-widget",
            "descriptorVersion": null
          },
          {
            "id": "231b371a-64ae-4b61-8014-cba6da318ac9",
            "values": null,
            "content": {
              "": [
                {
                  "id": "5e39b91d-aea4-467e-862f-0f8766eb44df",
                  "values": {
                    "context": {
                      "path": ["context"]
                    }
                  },
                  "content": null,
                  "descriptor": "linked-item",
                  "descriptorVersion": null
                }
              ]
            },
            "descriptor": "sidebar-widget",
            "descriptorVersion": null
          },
          {
            "id": "a4469de0-d7f3-11ec-9d64-0242ac120002",
            "values": null,
            "content": {
              "": [
                {
                  "id": "3ead7c41-6dfa-4144-80da-2bfb5f0ccf59",
                  "values": {
                    "formGroup": {
                      "path": ["context"]
                    }
                  },
                  "content": null,
                  "descriptor": "item-reminder",
                  "descriptorVersion": null
                }
              ]
            },
            "descriptor": "sidebar-widget",
            "descriptorVersion": null
          },
          {
            "id": "56d1d0e8-aa83-4cdd-ae43-294b26ad4d04",
            "values": null,
            "content": {
              "": [
                {
                  "id": "e1525e34-14ba-456b-b703-f407945c01e0",
                  "values": {
                    "formGroup": {
                      "path": ["context"]
                    }
                  },
                  "content": null,
                  "descriptor": "item-tasks",
                  "descriptorVersion": null
                }
              ]
            },
            "descriptor": "sidebar-widget",
            "descriptorVersion": null
          },
          {
            "id": "eef018f2-1d3a-4600-a19d-791733b28b5e",
            "values": null,
            "content": {
              "": [
                {
                  "id": "e0a17dec-603a-461a-becf-861637630584",
                  "values": {
                    "target": {
                      "path": ["target"]
                    }
                  },
                  "content": null,
                  "descriptor": "messages-target",
                  "descriptorVersion": null
                }
              ]
            },
            "descriptor": "sidebar-widget",
            "descriptorVersion": null
          }
        ],
        "[formInfoPanel]": [
          {
            "id": "e55f6c1d-37ae-4534-86bb-0d714278d58a",
            "values": {
              "__validateResult": {
                "path": ["context", "__validateResult"]
              }
            },
            "content": null,
            "descriptor": "validation-info-block",
            "descriptorVersion": null
          }
        ],
        "[headerControls]": [
          {
            "id": "475aa008-aaff-402f-8de2-408bae1f1928",
            "values": {
              "task": {
                "path": ["task"]
              }
            },
            "content": null,
            "descriptor": "task-percent-widget",
            "descriptorVersion": null
          },
          {
            "id": "702d9c59-77ae-4dd5-b71a-a5fe7b58858f",
            "values": {
              "item": {
                "path": ["__itemRef"]
              }
            },
            "content": null,
            "descriptor": "extension-zone-toolbar-widget",
            "descriptorVersion": null
          },
          {
            "id": "f7b11c79-4267-4f5b-a002-dd629d549682",
            "values": {
              "task": {
                "path": ["task"]
              },
              "skipRulesCheck": true
            },
            "content": null,
            "descriptor": "process-item-map",
            "descriptorVersion": null
          },
          {
            "id": "ff2500ee-6573-49cd-a9e8-2d5c93350f26",
            "values": {
              "icon": "menu_vertical",
              "view": "icon",
              "label": "bpm.tasks.item@menu",
              "action": {
                "path": ["menuAction"]
              }
            },
            "content": null,
            "descriptor": "button",
            "descriptorVersion": null
          }
        ],
        "[headerCustomization]": []
      },
      "descriptor": "item-form-complex-popup",
      "descriptorVersion": 2
    }
  ],
  "settings": {
    "logged": true,
    "debugForm": {
      "allFields": false,
      "formFields": []
    },
    "targetFeed": {
      "type": "object",
      "variable": "staff"
    },
    "allowGlobal": false,
    "instanceCard": {
      "allFields": true,
      "formFields": []
    },
    "notifyOnStart": true,
    "allowNamespace": true,
    "applicationContext": false,
    "importsDependencies": [],
    "fieldVisibilityConditions": {
      "warn_date": {
        "enabled": false,
        "conditions": []
      },
      "send_notification": {
        "enabled": false,
        "conditions": []
      },
      "contract_expire_date": {
        "enabled": false,
        "conditions": []
      }
    }
  },
  "hideInList": false,
  "applicationLink": false,
  "__deletedAt": null
}
