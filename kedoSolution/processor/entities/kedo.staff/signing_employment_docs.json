{
  "__id": "018fb8c1-cf14-7cf7-a98f-fa9bd6ce3c82",
  "namespace": "kedo.staff",
  "code": "signing_employment_docs",
  "category": "00000000-0000-0000-0000-000000000000",
  "__name": "4.3. Подписание документов трудоустройства компанией",
  "type": "bpmn",
  "draft": false,
  "version": 5,
  "context": [
    {
      "code": "delete_print_form",
      "type": "BOOLEAN",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": false,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Удалить печатную форму?",
        "data": {
          "additionalType": "radio",
          "noValue": "Нет",
          "yesValue": "Да"
        }
      }
    },
    {
      "code": "docs_contract",
      "type": "SYS_COLLECTION",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": true,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {
        "code": "documents_for_employment",
        "filter": {
          "value": {
            "tf": {}
          },
          "enabled": false
        },
        "bindings": null,
        "namespace": "kedo",
        "isDependent": false,
        "linkedFieldCode": ""
      },
      "view": {
        "name": "Документы контракт",
        "data": {}
      }
    },
    {
      "code": "staff",
      "type": "SYS_COLLECTION",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": true,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {
        "code": "staff",
        "filter": null,
        "bindings": null,
        "namespace": "kedo",
        "isDependent": false,
        "linkedFieldCode": ""
      },
      "view": {
        "name": "Сотрудник"
      }
    },
    {
      "code": "ssylka",
      "type": "STRING",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "ссылка",
        "data": {
          "additionalType": "string"
        }
      }
    },
    {
      "code": "head_signing_notification",
      "type": "BOOLEAN",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Требуется уведомление о подписании документов работодателю",
        "data": {
          "additionalType": "radio",
          "noValue": "Нет",
          "yesValue": "Да"
        },
        "input": true,
        "output": true
      }
    },
    {
      "code": "signing",
      "type": "SYS_USER",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": true,
      "required": false,
      "single": false,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {
        "filter": {
          "value": {
            "tf": {}
          },
          "enabled": false
        }
      },
      "view": {
        "name": "Подписанты",
        "data": {}
      }
    },
    {
      "code": "test",
      "type": "STRING",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "test",
        "data": {
          "additionalType": "string"
        }
      }
    },
    {
      "code": "document_status_1c",
      "type": "STRING",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Статус документа 1С",
        "data": {
          "additionalType": "string"
        }
      }
    },
    {
      "code": "signers_app",
      "type": "SYS_COLLECTION",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": true,
      "required": false,
      "single": false,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {
        "code": "staff",
        "filter": {
          "value": {
            "tf": {}
          },
          "enabled": false
        },
        "bindings": null,
        "namespace": "kedo",
        "isDependent": false,
        "linkedFieldCode": ""
      },
      "view": {
        "name": "Подписанты (приложение)",
        "data": {},
        "input": true,
        "output": true
      }
    },
    {
      "code": "alternative_integration",
      "type": "BOOLEAN",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": false,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Альтернативная интеграция",
        "data": {
          "additionalType": "radio",
          "noValue": "Нет",
          "yesValue": "Да"
        }
      }
    },
    {
      "code": "deug",
      "type": "STRING",
      "searchable": false,
      "indexed": false,
      "deleted": true,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "deug",
        "data": {
          "additionalType": "string"
        }
      }
    },
    {
      "code": "id_document_1c",
      "type": "STRING",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "ID документа в 1С",
        "data": {
          "additionalType": "string"
        }
      }
    },
    {
      "code": "docs",
      "type": "REF_ITEM",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": true,
      "required": false,
      "single": false,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Документы",
        "data": {}
      }
    },
    {
      "code": "kedo_settings",
      "type": "SYS_COLLECTION",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": true,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {
        "code": "settings",
        "filter": {
          "value": {
            "tf": {}
          },
          "enabled": false
        },
        "bindings": null,
        "namespace": "kedo",
        "isDependent": false,
        "linkedFieldCode": ""
      },
      "view": {
        "name": "Настройки КЭДО",
        "data": {},
        "input": true,
        "output": true
      }
    }
  ],
  "manualRun": false,
  "readonly": false,
  "__createdAt": "2023-04-21T12:16:43.107908852Z",
  "__createdBy": "6c362877-9ef9-45f4-aa6f-e5e126ee96c0",
  "__updatedAt": "2024-06-04T21:36:17.88188891Z",
  "__updatedBy": "59e0911f-230a-4b6d-becf-6b302a91977a",
  "process": {
    "items": {
      "00000000-0000-0000-0000-000000000000": {
        "x": 48,
        "y": 72,
        "id": "00000000-0000-0000-0000-000000000000",
        "lane": "2d14e53f-4cce-477c-9159-b1cb0bffa9a0",
        "type": "start",
        "color": "#ffffff",
        "exits": ["2b989c72-c553-4436-b24e-d31f4ecb16fa"],
        "width": 32,
        "height": 32,
        "settings": {
          "formFields": [],
          "instruction": "",
          "notifyMessage": "Запущен процесс",
          "titleTemplate": "4.3. Подписание документов трудоустройства компанией ({$staff})",
          "titleGenerateMethod": "template"
        }
      },
      "120de5b8-75c4-4258-ad2e-f2dcfe137b62": {
        "x": 24,
        "y": 176,
        "id": "120de5b8-75c4-4258-ad2e-f2dcfe137b62",
        "lane": "2d14e53f-4cce-477c-9159-b1cb0bffa9a0",
        "name": "Получить участников групп",
        "type": "call",
        "color": "#ffffff",
        "exits": ["bbd6795d-9a80-4de9-bd53-9f04b7c1faa7"],
        "width": 80,
        "height": 64,
        "settings": {
          "code": "get_group_members_workflow",
          "async": false,
          "input": [
            {
              "source": {
                "kind": "context",
                "value": "staff.organization"
              },
              "target": {
                "kind": "context",
                "value": "organization"
              }
            }
          ],
          "output": [
            {
              "source": {
                "kind": "context",
                "value": "signing"
              },
              "target": {
                "kind": "context",
                "value": "signatories"
              }
            }
          ],
          "namespace": "kedo.organization",
          "subProcessTargetFieldCode": ""
        }
      },
      "65839fc2-f221-44b5-8e8a-8d513c73fb25": {
        "x": 704,
        "y": 176,
        "id": "65839fc2-f221-44b5-8e8a-8d513c73fb25",
        "icon": "user",
        "lane": "ee9f0b7d-581c-49dd-b834-0d5380e45351",
        "name": "Подписать пакет документов для трудоустройства",
        "type": "user",
        "color": "#daeef7",
        "exits": ["c79ccd17-c408-4fef-9fcb-3dcfb92c98a8"],
        "width": 80,
        "height": 64,
        "settings": {
          "name": "{$staff}: Подписать пакет документов для трудоустройства",
          "notify": true,
          "formCode": "form_9c4a5a1d-d700-4c18-b468-d82140cf40c1",
          "authorType": 0,
          "escalation": {
            "byTime": {
              "limit": {
                "days": 0,
                "kind": "duration",
                "hours": 4,
                "minutes": 0,
                "absolute": false
              },
              "action": {
                "notify": false,
                "interrupt": false,
                "receivers": []
              },
              "enabled": true
            }
          },
          "formFields": [],
          "priorityType": "context_var",
          "allowReassign": true,
          "descriptionType": "context_var",
          "placeContextVar": "",
          "planDatesSettings": {
            "enabled": false,
            "planCodes": {
              "endCode": "",
              "startCode": ""
            }
          },
          "disableEmailNotify": false,
          "externalParticipantsContextVar": ""
        }
      },
      "692cfc86-109e-4ccf-8c6a-7b1ea87559e0": {
        "x": 992,
        "y": 192,
        "id": "692cfc86-109e-4ccf-8c6a-7b1ea87559e0",
        "icon": "end",
        "lane": "ee9f0b7d-581c-49dd-b834-0d5380e45351",
        "name": "",
        "type": "end",
        "color": "#ffffff",
        "exits": [],
        "width": 32,
        "height": 32,
        "settings": {
          "actions": [],
          "isModal": false,
          "actionType": "nothing",
          "messageText": "",
          "redirectUrl": ""
        }
      },
      "90aa3f13-8dba-4a1c-a4bd-80ccec6ce9cf": {
        "x": 232,
        "y": 176,
        "id": "90aa3f13-8dba-4a1c-a4bd-80ccec6ce9cf",
        "icon": "script",
        "lane": "2d14e53f-4cce-477c-9159-b1cb0bffa9a0",
        "name": "Получить настройки КЭДО и подписантов",
        "type": "script",
        "color": "#fde9a0",
        "exits": ["9ba08b20-c444-45a4-8c6c-4223c3b6d116"],
        "width": 80,
        "height": 64,
        "settings": {
          "func": "getSigners",
          "count": 1,
          "delay": 5,
          "retry": true,
          "escalation": {
            "byError": {
              "notify": false,
              "interrupt": false,
              "receivers": []
            }
          }
        }
      },
      "a8206085-eaff-44eb-86f3-10bac8103738": {
        "x": 856,
        "y": 176,
        "id": "a8206085-eaff-44eb-86f3-10bac8103738",
        "lane": "ee9f0b7d-581c-49dd-b834-0d5380e45351",
        "name": "Оповещение пользователя",
        "type": "call",
        "color": "#ffffff",
        "exits": ["6521bd08-1ed7-40c7-8f46-fc1ff5d0bade"],
        "width": 80,
        "height": 64,
        "settings": {
          "code": "notification",
          "async": false,
          "input": [
            {
              "source": {
                "kind": "context",
                "value": "staff"
              },
              "target": {
                "kind": "context",
                "value": "staff"
              }
            },
            {
              "source": {
                "kind": "manual",
                "value": "Подпишите документы для трудоустройства"
              },
              "target": {
                "kind": "context",
                "value": "topic_of_the_letter"
              }
            },
            {
              "source": {
                "kind": "manual",
                "value": "КЭДО"
              },
              "target": {
                "kind": "context",
                "value": "alert_head"
              }
            },
            {
              "source": {
                "kind": "manual",
                "value": "Для вас подготовлен пакет документов, необходимых для вашего трудоустройства.\u003cbr\u003e       Перейдите на портал, проверьте и подпишите документы электронной подписью."
              },
              "target": {
                "kind": "context",
                "value": "alert_body"
              }
            },
            {
              "source": {
                "kind": "context",
                "value": "__createdBy"
              },
              "target": {
                "kind": "context",
                "value": "__createdBy"
              }
            },
            {
              "source": {
                "kind": "manual",
                "value": "Для вас подготовлен пакет документов, необходимых трудоустройства. (ссылка)"
              },
              "target": {
                "kind": "context",
                "value": "notification_text_for_sms"
              }
            }
          ],
          "output": [],
          "linkCode": "staff",
          "namespace": "kedo",
          "subProcessTargetFieldCode": "staff"
        }
      },
      "ad0a0a62-1d4c-46c3-bbc6-add8ce206c41": {
        "x": 584,
        "y": 176,
        "id": "ad0a0a62-1d4c-46c3-bbc6-add8ce206c41",
        "lane": "ee9f0b7d-581c-49dd-b834-0d5380e45351",
        "name": "Оповещение подписантам",
        "type": "call",
        "color": "#ffffff",
        "exits": ["67841035-215d-4063-8d37-df81a17edcc3"],
        "width": 80,
        "height": 64,
        "settings": {
          "code": "head_signing_notification_workflow",
          "async": true,
          "input": [
            {
              "source": {
                "kind": "manual",
                "value": "Подпишите документы для трудоустройства"
              },
              "target": {
                "kind": "context",
                "value": "topic_of_the_letter"
              }
            },
            {
              "source": {
                "kind": "manual",
                "value": "КЭДО"
              },
              "target": {
                "kind": "context",
                "value": "alert_head"
              }
            },
            {
              "source": {
                "kind": "manual",
                "value": "Для вас подготовлен пакет документов трудоустройства.\u003cbr\u003e       Перейдите на портал, проверьте и подпишите документы электронной подписью."
              },
              "target": {
                "kind": "context",
                "value": "notification_text_for_sms"
              }
            },
            {
              "source": {
                "kind": "manual",
                "value": "Для вас подготовлен пакет документов трудоустройства. (ссылка)"
              },
              "target": {
                "kind": "context",
                "value": "alert_body"
              }
            }
          ],
          "output": [],
          "linkCode": "signers_app",
          "namespace": "kedo_ext",
          "subProcessTargetFieldCode": "staff"
        }
      },
      "bba96e7d-dcbc-4e17-907d-60b7cc21ba23": {
        "x": 496,
        "y": 192,
        "id": "bba96e7d-dcbc-4e17-907d-60b7cc21ba23",
        "icon": "exclusive",
        "lane": "ee9f0b7d-581c-49dd-b834-0d5380e45351",
        "name": "Требуется уведомление  работодателю?",
        "type": "gateway",
        "color": "#ffffff",
        "exits": [
          "ce8aaf0a-7b53-452a-9847-bb986b2338b0",
          "0f342e91-1513-4633-95e0-a7528a81effa"
        ],
        "width": 32,
        "height": 32,
        "settings": {
          "func": "",
          "type": "exclusive",
          "useFunc": false,
          "funcType": "STRING",
          "description": ""
        }
      },
      "bd22df3c-2061-48af-b89a-15cabcfdb1b8": {
        "x": 128,
        "y": 176,
        "id": "bd22df3c-2061-48af-b89a-15cabcfdb1b8",
        "icon": "script",
        "lane": "2d14e53f-4cce-477c-9159-b1cb0bffa9a0",
        "name": "Находим элементы",
        "type": "script",
        "color": "#fde9a0",
        "exits": ["5a41d988-b331-4a42-8d86-574b0ec4dbe3"],
        "width": 80,
        "height": 64,
        "settings": {
          "func": "setDocsPermissions",
          "count": 1,
          "delay": 5,
          "retry": true,
          "escalation": {
            "byError": {
              "notify": false,
              "interrupt": false,
              "receivers": []
            }
          }
        }
      }
    },
    "lanes": {
      "2d14e53f-4cce-477c-9159-b1cb0bffa9a0": {
        "x": 8,
        "y": 8,
        "id": "2d14e53f-4cce-477c-9159-b1cb0bffa9a0",
        "name": "Инициатор",
        "color": "#d6f0cc",
        "width": 320,
        "height": 600,
        "settings": {
          "type": "dynamic",
          "variable": "__createdBy",
          "permissionExtend": {
            "kind": "simple"
          }
        },
        "direction": "vertical",
        "multiInstance": false
      },
      "ee9f0b7d-581c-49dd-b834-0d5380e45351": {
        "x": 328,
        "y": 8,
        "id": "ee9f0b7d-581c-49dd-b834-0d5380e45351",
        "name": "Подписанты",
        "color": "#d6f0cc",
        "width": 816,
        "height": 600,
        "settings": {
          "type": "dynamic",
          "groups": [null],
          "variable": "signing",
          "permissionExtend": {
            "kind": "simple"
          }
        },
        "direction": "vertical",
        "multiInstance": true
      }
    },
    "paper": {
      "format": "A4",
      "orientation": "landscape"
    },
    "transitions": {
      "0f342e91-1513-4633-95e0-a7528a81effa": {
        "id": "0f342e91-1513-4633-95e0-a7528a81effa",
        "name": "Нет",
        "path": [
          {
            "x": 512,
            "y": 224
          },
          {
            "x": 512,
            "y": 296
          },
          {
            "x": 744,
            "y": 296
          },
          {
            "x": 744,
            "y": 240
          }
        ],
        "type": "default",
        "source": "bba96e7d-dcbc-4e17-907d-60b7cc21ba23",
        "target": "65839fc2-f221-44b5-8e8a-8d513c73fb25",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "2b989c72-c553-4436-b24e-d31f4ecb16fa": {
        "id": "2b989c72-c553-4436-b24e-d31f4ecb16fa",
        "name": "",
        "path": [
          {
            "x": 64,
            "y": 104
          },
          {
            "x": 64,
            "y": 176
          }
        ],
        "type": "plain",
        "source": "00000000-0000-0000-0000-000000000000",
        "target": "120de5b8-75c4-4258-ad2e-f2dcfe137b62",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "5a41d988-b331-4a42-8d86-574b0ec4dbe3": {
        "id": "5a41d988-b331-4a42-8d86-574b0ec4dbe3",
        "name": "",
        "path": [
          {
            "x": 208,
            "y": 208
          },
          {
            "x": 232,
            "y": 208
          }
        ],
        "type": "plain",
        "source": "bd22df3c-2061-48af-b89a-15cabcfdb1b8",
        "target": "90aa3f13-8dba-4a1c-a4bd-80ccec6ce9cf",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "6521bd08-1ed7-40c7-8f46-fc1ff5d0bade": {
        "id": "6521bd08-1ed7-40c7-8f46-fc1ff5d0bade",
        "name": "",
        "path": [
          {
            "x": 936,
            "y": 208
          },
          {
            "x": 992,
            "y": 208
          }
        ],
        "type": "plain",
        "source": "a8206085-eaff-44eb-86f3-10bac8103738",
        "target": "692cfc86-109e-4ccf-8c6a-7b1ea87559e0",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "67841035-215d-4063-8d37-df81a17edcc3": {
        "id": "67841035-215d-4063-8d37-df81a17edcc3",
        "name": "",
        "path": [
          {
            "x": 664,
            "y": 208
          },
          {
            "x": 704,
            "y": 208
          }
        ],
        "type": "plain",
        "source": "ad0a0a62-1d4c-46c3-bbc6-add8ce206c41",
        "target": "65839fc2-f221-44b5-8e8a-8d513c73fb25",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "9ba08b20-c444-45a4-8c6c-4223c3b6d116": {
        "id": "9ba08b20-c444-45a4-8c6c-4223c3b6d116",
        "name": "",
        "path": [
          {
            "x": 312,
            "y": 208
          },
          {
            "x": 496,
            "y": 208
          }
        ],
        "type": "plain",
        "source": "90aa3f13-8dba-4a1c-a4bd-80ccec6ce9cf",
        "target": "bba96e7d-dcbc-4e17-907d-60b7cc21ba23",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "bbd6795d-9a80-4de9-bd53-9f04b7c1faa7": {
        "id": "bbd6795d-9a80-4de9-bd53-9f04b7c1faa7",
        "name": "",
        "path": [
          {
            "x": 104,
            "y": 208
          },
          {
            "x": 128,
            "y": 208
          }
        ],
        "type": "plain",
        "source": "120de5b8-75c4-4258-ad2e-f2dcfe137b62",
        "target": "bd22df3c-2061-48af-b89a-15cabcfdb1b8",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "c79ccd17-c408-4fef-9fcb-3dcfb92c98a8": {
        "id": "c79ccd17-c408-4fef-9fcb-3dcfb92c98a8",
        "name": "Готово",
        "path": [
          {
            "x": 784,
            "y": 208
          },
          {
            "x": 856,
            "y": 208
          }
        ],
        "type": "plain",
        "source": "65839fc2-f221-44b5-8e8a-8d513c73fb25",
        "target": "a8206085-eaff-44eb-86f3-10bac8103738",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "primary",
            "confirmText": "Убедитесь, что подписаны все документы",
            "popoverSize": "md",
            "checkSubtasks": false,
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "ce8aaf0a-7b53-452a-9847-bb986b2338b0": {
        "id": "ce8aaf0a-7b53-452a-9847-bb986b2338b0",
        "name": "Да",
        "path": [
          {
            "x": 528,
            "y": 208
          },
          {
            "x": 584,
            "y": 208
          }
        ],
        "type": "plain",
        "source": "bba96e7d-dcbc-4e17-907d-60b7cc21ba23",
        "target": "ad0a0a62-1d4c-46c3-bbc6-add8ce206c41",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [
            {
              "a": {
                "kind": "context",
                "value": "head_signing_notification"
              },
              "b": {
                "kind": "manual",
                "value": true
              },
              "type": "BOOLEAN",
              "inversion": false,
              "operation": {
                "relation": "equal",
                "inversion": false,
                "caseInsensitive": false
              },
              "conjunction": false
            }
          ],
          "descritpion": ""
        },
        "nameShift": 0
      }
    }
  },
  "scripts": "/**\nHere you can write scripts for complex server processing of the context during process execution.\nTo write scripts, use TypeScript (https://www.typescriptlang.org).\nELMA365 SDK documentation available on https://tssdk.elma365.com.\n**/\n\nasync function setDocsPermissions(): Promise\u003cvoid\u003e {\n  Context.data.docs = [];\n\n  // Трудовой договор.\n  const contract = await Namespace.app.labor_contract.search()\n    .where((f, g) =\u003e g.and(\n      f.__deletedAt.eq(null),\n      f.staff.link(Context.data.staff!),\n      f.__status.neq(Namespace.app.labor_contract.fields.__status.variants.removed),\n      f.__status.neq(Namespace.app.labor_contract.fields.__status.variants.signed)\n    ))\n    .first();\n  Context.data.docs = Context.data.docs.concat(contract || []);\n\n  // Приказ о приёме.\n  const admission_order = await Namespace.app.admission_order.search()\n    .where((f, g) =\u003e g.and(\n      f.__deletedAt.eq(null),\n      f.staff.link(Context.data.staff!),\n      f.__status.neq(Namespace.app.admission_order.fields.__status.variants.removed),\n      f.__status.neq(Namespace.app.admission_order.fields.__status.variants.signed)\n    ))\n    .first();\n  Context.data.docs = Context.data.docs.concat(admission_order || []);\n\n  // Прочие документы для трудоустройства.\n  const other_docs = await Namespace.app.additional_agreement_to_the_contract.search()\n    .where((f, g) =\u003e g.and(\n      f.__deletedAt.eq(null),\n      f.staff.link(Context.data.staff!),\n      f.__status.neq(Namespace.app.additional_agreement_to_the_contract.fields.__status.variants.removed),\n      f.__status.neq(Namespace.app.additional_agreement_to_the_contract.fields.__status.variants.signed)\n    ))\n    .size(10000)\n    .all();\n  const typesDocs = await Namespace.app.types_other_employment_docs.search().where(f =\u003e f.__deletedAt.eq(null)).size(10000).all();\n  if (other_docs \u0026\u0026 other_docs.length \u003e 0) {\n    const myOtherDocs = other_docs.filter(f =\u003e {\n      if (!f.data.doc_type) {\n        return;\n      };\n      const myType = typesDocs.find(i =\u003e i.id == f.data.doc_type!.id);\n      if (myType \u0026\u0026 myType.data.only_employee_signs != true)\n        return f\n    })\n    Context.data.docs = Context.data.docs.concat(myOtherDocs || [])\n  }\n\n  const additional_agreement = await Namespace.app.additional_agreement.search().where((f, g) =\u003e g.and(\n    f.__deletedAt.eq(null),\n    f.staff.link(Context.data.staff!),\n    f.__status.neq(Namespace.app.additional_agreement.fields.__status.variants.signed)\n  ))\n    .size(10000)\n    .all();\n\n  Context.data.docs = Context.data.docs.concat(additional_agreement || []);\n}\n\nasync function getSigners(): Promise\u003cvoid\u003e {\n  const kedo_settings = await Context.fields.kedo_settings.app.search()\n    .where((f, g) =\u003e g.and(\n      f.__deletedAt.eq(null),\n      f.code.eq('head_signing_notification')\n    ))\n    .first();\n  Context.data.head_signing_notification = kedo_settings ? kedo_settings.data.status : false;\n  \n  const staff = await Context.data.staff?.fetch();\n  const organization_staff = await staff?.data.organization?.fetch();\n  Context.data.signers_app = organization_staff?.data.signatories;\n}",
  "forms": [
    {
      "id": "",
      "code": "form_9c4a5a1d-d700-4c18-b468-d82140cf40c1",
      "name": "Подписать пакет документов для трудоустройства",
      "values": {
        "formType": "task-form",
        "formGroup": {
          "path": ["context"]
        }
      },
      "widget": {
        "draft": false,
        "deleted": false,
        "version": 4
      },
      "content": {
        "[footer]": [
          {
            "id": "31979bac-00bd-4123-a901-9d14190c8dde",
            "values": {
              "buttons": {
                "path": ["actionButtons"]
              }
            },
            "content": null,
            "descriptor": "buttons-panel",
            "descriptorVersion": null
          }
        ],
        "[content]": [
          {
            "id": "c18e9118-cda2-49f4-ae50-5414c9b970b2",
            "values": {
              "shadow": true
            },
            "content": {
              "": [
                {
                  "id": "dcdd3e4e-0c49-483b-87c2-8c782a8890f0",
                  "values": {
                    "form": {
                      "path": ["context"]
                    },
                    "fields": {
                      "path": ["fields"]
                    }
                  },
                  "content": null,
                  "descriptor": "dynamic-form",
                  "descriptorVersion": null
                }
              ]
            },
            "descriptor": "modal-body",
            "descriptorVersion": null
          }
        ],
        "[sidebar]": [
          {
            "id": "39d7757a-529f-4526-98f3-fddc66becf85",
            "values": null,
            "content": {
              "": [
                {
                  "id": "abe4b782-6e2d-49cc-a57e-81b636422ee5",
                  "values": {
                    "context": {
                      "path": ["context"]
                    }
                  },
                  "content": null,
                  "descriptor": "target-widget",
                  "descriptorVersion": null
                }
              ]
            },
            "descriptor": "sidebar-widget",
            "descriptorVersion": null
          },
          {
            "id": "231b371a-64ae-4b61-8014-cba6da318ac9",
            "values": null,
            "content": {
              "": [
                {
                  "id": "5e39b91d-aea4-467e-862f-0f8766eb44df",
                  "values": {
                    "context": {
                      "path": ["context"]
                    }
                  },
                  "content": null,
                  "descriptor": "linked-item",
                  "descriptorVersion": null
                }
              ]
            },
            "descriptor": "sidebar-widget",
            "descriptorVersion": null
          },
          {
            "id": "a4469de0-d7f3-11ec-9d64-0242ac120002",
            "values": null,
            "content": {
              "": [
                {
                  "id": "3ead7c41-6dfa-4144-80da-2bfb5f0ccf59",
                  "values": {
                    "formGroup": {
                      "path": ["context"]
                    }
                  },
                  "content": null,
                  "descriptor": "item-reminder",
                  "descriptorVersion": null
                }
              ]
            },
            "descriptor": "sidebar-widget",
            "descriptorVersion": null
          },
          {
            "id": "56d1d0e8-aa83-4cdd-ae43-294b26ad4d04",
            "values": null,
            "content": {
              "": [
                {
                  "id": "e1525e34-14ba-456b-b703-f407945c01e0",
                  "values": {
                    "formGroup": {
                      "path": ["context"]
                    }
                  },
                  "content": null,
                  "descriptor": "item-tasks",
                  "descriptorVersion": 4
                }
              ]
            },
            "descriptor": "sidebar-widget",
            "descriptorVersion": null
          },
          {
            "id": "eef018f2-1d3a-4600-a19d-791733b28b5e",
            "values": null,
            "content": {
              "": [
                {
                  "id": "e0a17dec-603a-461a-becf-861637630584",
                  "values": {
                    "target": {
                      "path": ["target"]
                    }
                  },
                  "content": null,
                  "descriptor": "messages-target",
                  "descriptorVersion": null
                }
              ]
            },
            "descriptor": "sidebar-widget",
            "descriptorVersion": null
          }
        ],
        "[formInfoPanel]": [
          {
            "id": "7f4a27b4-47e2-4f8c-a33f-e9dc66a8ef39",
            "values": {
              "__validateResult": {
                "path": ["context", "__validateResult"]
              }
            },
            "content": null,
            "descriptor": "validation-info-block",
            "descriptorVersion": null
          }
        ],
        "[headerControls]": [
          {
            "id": "475aa008-aaff-402f-8de2-408bae1f1928",
            "values": {
              "task": {
                "path": ["task"]
              }
            },
            "content": null,
            "descriptor": "task-percent-widget",
            "descriptorVersion": null
          },
          {
            "id": "702d9c59-77ae-4dd5-b71a-a5fe7b58858f",
            "values": {
              "item": {
                "path": ["__itemRef"]
              }
            },
            "content": null,
            "descriptor": "extension-zone-toolbar-widget",
            "descriptorVersion": null
          },
          {
            "id": "f7b11c79-4267-4f5b-a002-dd629d549682",
            "values": {
              "task": {
                "path": ["task"]
              },
              "skipRulesCheck": true
            },
            "content": null,
            "descriptor": "process-item-map",
            "descriptorVersion": null
          },
          {
            "id": "ff2500ee-6573-49cd-a9e8-2d5c93350f26",
            "values": {
              "icon": "menu_vertical",
              "view": "icon",
              "label": "bpm.tasks.item@menu",
              "action": {
                "path": ["menuAction"]
              }
            },
            "content": null,
            "descriptor": "button",
            "descriptorVersion": null
          }
        ],
        "[headerCustomization]": []
      },
      "descriptor": "item-form-complex-popup",
      "descriptorVersion": 2
    }
  ],
  "settings": {
    "logged": true,
    "debugForm": {
      "allFields": false,
      "formFields": []
    },
    "targetFeed": {
      "type": "object",
      "variable": "staff"
    },
    "allowGlobal": false,
    "instanceCard": {
      "allFields": true,
      "formFields": []
    },
    "notifyOnStart": false,
    "allowNamespace": true,
    "applicationContext": false,
    "importsDependencies": [],
    "useStartFormInDebug": true,
    "fieldVisibilityConditions": {
      "deug": {
        "enabled": false,
        "conditions": []
      },
      "docs": {
        "enabled": false,
        "conditions": []
      },
      "test": {
        "enabled": false,
        "conditions": []
      },
      "ssylka": {
        "enabled": false,
        "conditions": []
      },
      "signing": {
        "enabled": false,
        "conditions": []
      },
      "signers_app": {
        "enabled": false,
        "conditions": []
      },
      "docs_contract": {
        "enabled": false,
        "conditions": []
      },
      "kedo_settings": {
        "enabled": false,
        "conditions": []
      },
      "id_document_1c": {
        "enabled": false,
        "conditions": []
      },
      "delete_print_form": {
        "enabled": false,
        "conditions": []
      },
      "document_status_1c": {
        "enabled": false,
        "conditions": []
      },
      "alternative_integration": {
        "enabled": false,
        "conditions": []
      },
      "head_signing_notification": {
        "enabled": false,
        "conditions": []
      }
    }
  },
  "hideInList": false,
  "applicationLink": false,
  "__deletedAt": null
}
