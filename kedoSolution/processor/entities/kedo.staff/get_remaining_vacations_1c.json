{
  "__id": "018c8757-193c-7efa-9809-1ed1d0af0770",
  "namespace": "kedo.staff",
  "code": "get_remaining_vacations_1c",
  "category": "00000000-0000-0000-0000-000000000000",
  "__name": "(1С) Получение остатка отпуска",
  "type": "bpmn",
  "draft": false,
  "version": 3,
  "context": [
    {
      "code": "full_iteration_amount",
      "type": "FLOAT",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Количество итераций",
        "data": {
          "additionalType": "integer",
          "showRowSeparator": true
        }
      }
    },
    {
      "code": "error",
      "type": "STRING",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Ошибка",
        "data": {
          "additionalType": "string"
        }
      }
    },
    {
      "code": "current_iteration",
      "type": "FLOAT",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Номер Текущей страницы",
        "data": {
          "additionalType": "integer",
          "showRowSeparator": true
        }
      }
    },
    {
      "code": "debug",
      "type": "STRING",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Debug",
        "data": {
          "additionalType": "string"
        }
      }
    },
    {
      "code": "staff",
      "type": "SYS_COLLECTION",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": true,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {
        "code": "staff",
        "filter": null,
        "bindings": null,
        "namespace": "kedo",
        "isDependent": false,
        "linkedFieldCode": ""
      },
      "view": {
        "name": "Сотрудник"
      }
    },
    {
      "code": "request_url",
      "type": "STRING",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "url запроса",
        "data": {
          "additionalType": "string"
        }
      }
    },
    {
      "code": "is_alternative",
      "type": "BOOLEAN",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": false,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Альтернативная интеграция",
        "data": {
          "additionalType": "radio",
          "noValue": "Нет",
          "yesValue": "Да"
        }
      }
    },
    {
      "code": "vacations_data",
      "type": "STRING",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Данные отпусков",
        "data": {
          "additionalType": "string"
        }
      }
    },
    {
      "code": "integration_is_on",
      "type": "BOOLEAN",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Интеграция включена",
        "data": {
          "additionalType": "radio",
          "noValue": "Нет",
          "yesValue": "Да"
        }
      }
    },
    {
      "code": "amount_of_data",
      "type": "FLOAT",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Количество записей",
        "data": {
          "additionalType": "integer",
          "showRowSeparator": true
        }
      }
    },
    {
      "code": "response",
      "type": "STRING",
      "searchable": false,
      "indexed": false,
      "deleted": false,
      "array": false,
      "required": false,
      "single": true,
      "defaultValue": null,
      "calcByFormula": false,
      "formula": "",
      "data": {},
      "view": {
        "name": "Ответ",
        "data": {
          "additionalType": "string"
        }
      }
    }
  ],
  "manualRun": false,
  "readonly": false,
  "__createdAt": "2022-10-11T13:18:00.760422546Z",
  "__createdBy": "b3904ee1-c631-4888-88ee-3922dc2fcbea",
  "__updatedAt": "2023-08-29T05:09:08.344442712Z",
  "__updatedBy": "7303b866-4220-4086-a09e-348a76b12c73",
  "process": {
    "items": {
      "00000000-0000-0000-0000-000000000000": {
        "x": -232,
        "y": 72,
        "id": "00000000-0000-0000-0000-000000000000",
        "lane": "072fd7ad-7c88-4b5e-a123-aefc68ba8c19",
        "type": "start",
        "color": "#ffffff",
        "exits": ["35729e22-8d42-4811-9d25-edff8c19a2a3"],
        "width": 32,
        "height": 32,
        "settings": {
          "formFields": [],
          "instruction": "",
          "notifyMessage": "Запущен процесс",
          "titleTemplate": "Получение остатка отпуска из 1С ({$staff})",
          "titleGenerateMethod": "template"
        }
      },
      "027be13a-a02f-4eb3-ab35-04edae1478cd": {
        "x": 8,
        "y": 72,
        "id": "027be13a-a02f-4eb3-ab35-04edae1478cd",
        "icon": "exclusive",
        "lane": "072fd7ad-7c88-4b5e-a123-aefc68ba8c19",
        "name": "",
        "type": "gateway",
        "color": "#ffffff",
        "exits": [
          "bcf3577e-7b04-4bb9-a963-356a6027647e",
          "73ada71c-400f-4ed3-ad91-f46d0b9463e8"
        ],
        "width": 32,
        "height": 32,
        "settings": {
          "func": "",
          "type": "exclusive",
          "useFunc": false,
          "funcType": "STRING",
          "description": ""
        }
      },
      "07e4f05e-f181-4e93-9231-b48c0d8ecf55": {
        "x": 520,
        "y": 296,
        "id": "07e4f05e-f181-4e93-9231-b48c0d8ecf55",
        "icon": "system",
        "lane": "072fd7ad-7c88-4b5e-a123-aefc68ba8c19",
        "name": "Получить остатки отпусков",
        "type": "ca",
        "color": "#fde9a0",
        "exits": [
          "db9d9297-49e1-41c0-98c3-7b4f80c129cb",
          "5e2d60a4-2a88-45dd-9fc9-39d2b48893d7"
        ],
        "width": 80,
        "height": 64,
        "settings": {
          "code": "request_in_1c",
          "name": "",
          "input": [
            {
              "source": {
                "kind": "context",
                "value": "request_url"
              },
              "target": {
                "kind": "context",
                "value": "request_parameters"
              }
            },
            {
              "target": {
                "kind": "context",
                "value": "request_body"
              }
            },
            {
              "target": {
                "kind": "context",
                "value": "request_type_string"
              }
            }
          ],
          "output": [
            {
              "source": {
                "kind": "context",
                "value": "error"
              },
              "target": {
                "kind": "context",
                "value": "error"
              }
            },
            {
              "source": {
                "kind": "context",
                "value": "response"
              },
              "target": {
                "kind": "context",
                "value": "response_1c_json"
              }
            }
          ],
          "namespace": "ext_7fe3de7d-f459-4f75-940c-271c6e9ea1ed",
          "escalation": {
            "byTime": {
              "limit": {
                "days": 0,
                "kind": "duration",
                "hours": 0,
                "minutes": 0,
                "absolute": false
              },
              "action": {
                "notify": false,
                "interrupt": false,
                "receivers": []
              },
              "enabled": false
            },
            "byError": {
              "exit": "5e2d60a4-2a88-45dd-9fc9-39d2b48893d7",
              "notify": true,
              "interrupt": true,
              "receivers": [
                {
                  "kind": "current"
                }
              ]
            }
          },
          "bindingForm": {
            "fieldValues": {}
          },
          "targetAppCode": "",
          "dynamicBinding": {}
        }
      },
      "1c9d69ed-1505-4155-956b-e6be38436c50": {
        "x": 8,
        "y": 312,
        "id": "1c9d69ed-1505-4155-956b-e6be38436c50",
        "icon": "end",
        "lane": "072fd7ad-7c88-4b5e-a123-aefc68ba8c19",
        "name": "",
        "type": "end",
        "color": "#ffffff",
        "exits": [],
        "width": 32,
        "height": 32,
        "settings": {
          "actions": [],
          "isModal": false,
          "actionType": "nothing",
          "messageText": "",
          "redirectUrl": ""
        }
      },
      "2616f556-953b-4142-b7ab-82f0aaa44c8f": {
        "x": 352,
        "y": 200,
        "id": "2616f556-953b-4142-b7ab-82f0aaa44c8f",
        "icon": "script",
        "lane": "072fd7ad-7c88-4b5e-a123-aefc68ba8c19",
        "name": "Заполнить данные итерации",
        "type": "script",
        "color": "#fde9a0",
        "exits": ["cf7d19c6-b0db-437b-aa5d-10d1a7a0551c"],
        "width": 80,
        "height": 64,
        "settings": {
          "func": "fillIterData",
          "count": 1,
          "delay": 5,
          "retry": true,
          "escalation": {
            "byError": {
              "notify": false,
              "interrupt": false,
              "receivers": []
            }
          }
        }
      },
      "3439501c-deae-43c2-8dce-94404b33bd8b": {
        "x": 352,
        "y": 296,
        "id": "3439501c-deae-43c2-8dce-94404b33bd8b",
        "icon": "script",
        "lane": "072fd7ad-7c88-4b5e-a123-aefc68ba8c19",
        "name": "Заполнение данных запроса",
        "type": "script",
        "color": "#fde9a0",
        "exits": ["c33f5653-6619-4e0c-a666-592fb104e410"],
        "width": 80,
        "height": 64,
        "settings": {
          "func": "getRequestData",
          "count": 1,
          "delay": 5,
          "retry": true,
          "escalation": {
            "byError": {
              "notify": false,
              "interrupt": false,
              "receivers": []
            }
          }
        }
      },
      "37c61a02-780b-4da8-90ae-bfae5b9d0a35": {
        "x": 784,
        "y": 296,
        "id": "37c61a02-780b-4da8-90ae-bfae5b9d0a35",
        "icon": "script",
        "lane": "072fd7ad-7c88-4b5e-a123-aefc68ba8c19",
        "name": "Обновить данные остатка отпусков",
        "type": "script",
        "color": "#fde9a0",
        "exits": ["aac6edf8-e288-4067-9212-ce88c18ffa3a"],
        "width": 80,
        "height": 64,
        "settings": {
          "func": "updateVacationData",
          "count": 1,
          "delay": 5,
          "retry": true,
          "escalation": {
            "byError": {
              "notify": false,
              "interrupt": false,
              "receivers": []
            }
          }
        }
      },
      "4c545fa0-e2d0-4d16-920f-233472b93413": {
        "x": 520,
        "y": 144,
        "id": "4c545fa0-e2d0-4d16-920f-233472b93413",
        "icon": "exclusive",
        "lane": "072fd7ad-7c88-4b5e-a123-aefc68ba8c19",
        "name": "",
        "type": "gateway",
        "color": "#ffffff",
        "exits": [
          "8e83ba11-873f-4c07-a8cf-2a591e69a54d",
          "4bc418a0-f1a6-4d00-94fc-536c3501ee78"
        ],
        "width": 32,
        "height": 32,
        "settings": {
          "func": "",
          "type": "exclusive",
          "useFunc": false,
          "funcType": "STRING",
          "description": ""
        }
      },
      "4ffb089f-990e-440c-b525-3c26e1bc6703": {
        "x": -16,
        "y": 176,
        "id": "4ffb089f-990e-440c-b525-3c26e1bc6703",
        "lane": "072fd7ad-7c88-4b5e-a123-aefc68ba8c19",
        "name": "Загрузка из таблицы",
        "type": "call",
        "color": "#ffffff",
        "exits": ["33212cb0-4964-44f2-b9f0-d3cf54acc830"],
        "width": 80,
        "height": 64,
        "settings": {
          "code": "load_vacation_days_left_from_exchange_table",
          "async": false,
          "input": [],
          "output": [],
          "namespace": "kedo.staff",
          "subProcessTargetFieldCode": ""
        }
      },
      "613d5fe1-0347-4b5f-a768-94aab66a3687": {
        "x": 392,
        "y": 56,
        "id": "613d5fe1-0347-4b5f-a768-94aab66a3687",
        "icon": "system",
        "lane": "072fd7ad-7c88-4b5e-a123-aefc68ba8c19",
        "name": "Получить количество записей",
        "type": "ca",
        "color": "#fde9a0",
        "exits": [
          "03f8b7fb-62c1-47d6-bb6d-9f9fc25de31e",
          "e09ba759-99b0-463f-a832-f021fbb03968"
        ],
        "width": 80,
        "height": 64,
        "settings": {
          "code": "request_in_1c",
          "name": "",
          "input": [
            {
              "source": {
                "kind": "context",
                "value": "request_url"
              },
              "target": {
                "kind": "context",
                "value": "request_parameters"
              }
            },
            {
              "target": {
                "kind": "context",
                "value": "request_body"
              }
            },
            {
              "target": {
                "kind": "context",
                "value": "request_type_string"
              }
            }
          ],
          "output": [
            {
              "source": {
                "kind": "context",
                "value": "error"
              },
              "target": {
                "kind": "context",
                "value": "error"
              }
            },
            {
              "source": {
                "kind": "context",
                "value": "response"
              },
              "target": {
                "kind": "context",
                "value": "response_1c_json"
              }
            }
          ],
          "namespace": "ext_7fe3de7d-f459-4f75-940c-271c6e9ea1ed",
          "escalation": {
            "byTime": {
              "limit": {
                "days": 0,
                "kind": "duration",
                "hours": 0,
                "minutes": 0,
                "absolute": false
              },
              "action": {
                "notify": false,
                "interrupt": false,
                "receivers": []
              },
              "enabled": false
            },
            "byError": {
              "exit": "e09ba759-99b0-463f-a832-f021fbb03968",
              "notify": true,
              "interrupt": true,
              "receivers": [
                {
                  "kind": "current"
                }
              ]
            }
          },
          "bindingForm": {
            "fieldValues": {}
          },
          "targetAppCode": "",
          "dynamicBinding": {}
        }
      },
      "9141685d-9ef9-42ca-9b72-69a6b4d0258d": {
        "x": 632,
        "y": 520,
        "id": "9141685d-9ef9-42ca-9b72-69a6b4d0258d",
        "icon": "script",
        "lane": "072fd7ad-7c88-4b5e-a123-aefc68ba8c19",
        "name": "Обновление данных итерации",
        "type": "script",
        "color": "#fde9a0",
        "exits": ["e222a28f-8f5c-4207-a56b-5e3f3f0c2621"],
        "width": 80,
        "height": 64,
        "settings": {
          "func": "updateIterationData",
          "count": 1,
          "delay": 5,
          "retry": true,
          "escalation": {
            "byError": {
              "notify": false,
              "interrupt": false,
              "receivers": []
            }
          }
        }
      },
      "935265fd-9648-4599-b158-ba34916d4f7d": {
        "x": 632,
        "y": 416,
        "id": "935265fd-9648-4599-b158-ba34916d4f7d",
        "icon": "script",
        "lane": "072fd7ad-7c88-4b5e-a123-aefc68ba8c19",
        "name": "Парсинг данных",
        "type": "script",
        "color": "#fde9a0",
        "exits": ["b7a6d8da-bf39-496f-8fc0-2047d4a09027"],
        "width": 80,
        "height": 64,
        "settings": {
          "func": "parseData",
          "count": 1,
          "delay": 5,
          "retry": true,
          "escalation": {
            "byError": {
              "notify": false,
              "interrupt": false,
              "receivers": []
            }
          }
        }
      },
      "96edc3b9-6526-4fbf-973e-4e584e8ce08f": {
        "x": 320,
        "y": 72,
        "id": "96edc3b9-6526-4fbf-973e-4e584e8ce08f",
        "icon": "exclusive",
        "lane": "072fd7ad-7c88-4b5e-a123-aefc68ba8c19",
        "name": "",
        "type": "gateway",
        "color": "#ffffff",
        "exits": [
          "955f1fa9-8b32-411d-92b6-6fb036941577",
          "c721d3df-53cd-4e6f-b14f-649b7a384f00"
        ],
        "width": 32,
        "height": 32,
        "settings": {
          "func": "",
          "type": "exclusive",
          "useFunc": false,
          "funcType": "STRING",
          "description": ""
        }
      },
      "9d0b8ece-51bc-4a48-9e01-6bb0fc1d6a13": {
        "x": 656,
        "y": 312,
        "id": "9d0b8ece-51bc-4a48-9e01-6bb0fc1d6a13",
        "icon": "exclusive",
        "lane": "072fd7ad-7c88-4b5e-a123-aefc68ba8c19",
        "name": "",
        "type": "gateway",
        "color": "#ffffff",
        "exits": [
          "e8daa87c-9148-497a-8817-1afcd4111faa",
          "d3e7256f-e0e8-4c1f-929e-b9236b73ab47"
        ],
        "width": 32,
        "height": 32,
        "settings": {
          "func": "",
          "type": "exclusive",
          "useFunc": false,
          "funcType": "STRING",
          "description": ""
        }
      },
      "aedadcec-9efe-408a-bd77-8ae147bbe39b": {
        "x": 192,
        "y": 56,
        "id": "aedadcec-9efe-408a-bd77-8ae147bbe39b",
        "icon": "script",
        "lane": "072fd7ad-7c88-4b5e-a123-aefc68ba8c19",
        "name": "Заполнения данных для получения сотрудников",
        "type": "script",
        "color": "#fde9a0",
        "exits": ["b0ed8e4b-f865-4bbb-9977-a7688317060c"],
        "width": 80,
        "height": 64,
        "settings": {
          "func": "fillEmployeesData",
          "count": 1,
          "delay": 5,
          "retry": true,
          "escalation": {
            "byError": {
              "notify": false,
              "interrupt": false,
              "receivers": []
            }
          }
        }
      },
      "b0908116-6064-45f5-881c-b6d4b6f5ff13": {
        "x": -144,
        "y": 56,
        "id": "b0908116-6064-45f5-881c-b6d4b6f5ff13",
        "icon": "script",
        "lane": "072fd7ad-7c88-4b5e-a123-aefc68ba8c19",
        "name": "Получить настройки КЭДО",
        "type": "script",
        "color": "#fde9a0",
        "exits": ["a37f15ff-aa94-4ef6-8f7b-cbb7f9e3f4e0"],
        "width": 80,
        "height": 64,
        "settings": {
          "func": "get_kedo_settings",
          "count": 1,
          "delay": 5,
          "retry": true,
          "escalation": {
            "byError": {
              "notify": false,
              "interrupt": false,
              "receivers": []
            }
          }
        }
      },
      "e499fe75-5950-4121-9847-018e599f0ed3": {
        "x": 808,
        "y": 432,
        "id": "e499fe75-5950-4121-9847-018e599f0ed3",
        "icon": "exclusive",
        "lane": "072fd7ad-7c88-4b5e-a123-aefc68ba8c19",
        "name": "",
        "type": "gateway",
        "color": "#ffffff",
        "exits": [
          "bda53a23-8bcf-4232-8c1c-59868c00e1c1",
          "e7031b1c-7cad-4795-9305-93fc4f89e6f4"
        ],
        "width": 32,
        "height": 32,
        "settings": {
          "func": "",
          "type": "exclusive",
          "useFunc": false,
          "funcType": "STRING",
          "description": ""
        }
      },
      "e4b5e218-2f13-4fce-ab9b-f531d797577b": {
        "x": 632,
        "y": 128,
        "id": "e4b5e218-2f13-4fce-ab9b-f531d797577b",
        "icon": "user",
        "lane": "072fd7ad-7c88-4b5e-a123-aefc68ba8c19",
        "name": "Ознакомиться с ошибкой",
        "type": "user",
        "color": "#daeef7",
        "exits": ["0ff8bc23-a857-41d2-8588-50499c61da93"],
        "width": 80,
        "height": 64,
        "settings": {
          "name": "",
          "notify": true,
          "escalation": {
            "byTime": {
              "limit": {
                "days": 0,
                "kind": "duration",
                "hours": 0,
                "minutes": 0,
                "absolute": false
              },
              "action": {
                "notify": false,
                "interrupt": false,
                "receivers": []
              },
              "enabled": false
            }
          },
          "formFields": [
            {
              "code": "__name",
              "tooltip": "",
              "readonly": false,
              "required": true,
              "hideEmpty": false
            },
            {
              "code": "error",
              "tooltip": "",
              "readonly": false,
              "required": false,
              "hideEmpty": false
            },
            {
              "code": "response",
              "tooltip": "",
              "readonly": false,
              "required": false,
              "hideEmpty": false
            }
          ],
          "allowReassign": true,
          "planDatesSettings": {
            "enabled": false,
            "planCodes": {
              "endCode": "",
              "startCode": ""
            }
          }
        }
      },
      "f81761d9-a443-4372-8d9c-d868b2ee1781": {
        "x": 808,
        "y": 144,
        "id": "f81761d9-a443-4372-8d9c-d868b2ee1781",
        "icon": "end",
        "lane": "072fd7ad-7c88-4b5e-a123-aefc68ba8c19",
        "name": "",
        "type": "end",
        "color": "#ffffff",
        "exits": [],
        "width": 32,
        "height": 32,
        "settings": {
          "actions": [],
          "isModal": false,
          "actionType": "nothing",
          "messageText": "",
          "redirectUrl": ""
        }
      }
    },
    "lanes": {
      "072fd7ad-7c88-4b5e-a123-aefc68ba8c19": {
        "x": -272,
        "y": 8,
        "id": "072fd7ad-7c88-4b5e-a123-aefc68ba8c19",
        "name": "Инициатор",
        "color": "#d6f0cc",
        "width": 1212,
        "height": 600,
        "settings": {
          "type": "dynamic",
          "variable": "__createdBy",
          "permissionExtend": {
            "kind": "simple"
          }
        },
        "direction": "vertical",
        "multiInstance": false
      }
    },
    "paper": {
      "format": "A4",
      "orientation": "landscape"
    },
    "transitions": {
      "03f8b7fb-62c1-47d6-bb6d-9f9fc25de31e": {
        "id": "03f8b7fb-62c1-47d6-bb6d-9f9fc25de31e",
        "name": "",
        "path": [
          {
            "x": 472,
            "y": 88
          },
          {
            "x": 536,
            "y": 88
          },
          {
            "x": 536,
            "y": 144
          }
        ],
        "type": "plain",
        "source": "613d5fe1-0347-4b5f-a768-94aab66a3687",
        "target": "4c545fa0-e2d0-4d16-920f-233472b93413",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "0ff8bc23-a857-41d2-8588-50499c61da93": {
        "id": "0ff8bc23-a857-41d2-8588-50499c61da93",
        "name": "",
        "path": [
          {
            "x": 712,
            "y": 160
          },
          {
            "x": 808,
            "y": 160
          }
        ],
        "type": "plain",
        "source": "e4b5e218-2f13-4fce-ab9b-f531d797577b",
        "target": "f81761d9-a443-4372-8d9c-d868b2ee1781",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "33212cb0-4964-44f2-b9f0-d3cf54acc830": {
        "id": "33212cb0-4964-44f2-b9f0-d3cf54acc830",
        "name": "",
        "path": [
          {
            "x": 24,
            "y": 240
          },
          {
            "x": 24,
            "y": 312
          }
        ],
        "type": "plain",
        "source": "4ffb089f-990e-440c-b525-3c26e1bc6703",
        "target": "1c9d69ed-1505-4155-956b-e6be38436c50",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "35729e22-8d42-4811-9d25-edff8c19a2a3": {
        "id": "35729e22-8d42-4811-9d25-edff8c19a2a3",
        "name": "",
        "path": [
          {
            "x": -200,
            "y": 88
          },
          {
            "x": -144,
            "y": 88
          }
        ],
        "type": "plain",
        "source": "00000000-0000-0000-0000-000000000000",
        "target": "b0908116-6064-45f5-881c-b6d4b6f5ff13",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "4bc418a0-f1a6-4d00-94fc-536c3501ee78": {
        "id": "4bc418a0-f1a6-4d00-94fc-536c3501ee78",
        "name": "",
        "path": [
          {
            "x": 552,
            "y": 160
          },
          {
            "x": 632,
            "y": 160
          }
        ],
        "type": "plain",
        "source": "4c545fa0-e2d0-4d16-920f-233472b93413",
        "target": "e4b5e218-2f13-4fce-ab9b-f531d797577b",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [
            {
              "a": {
                "kind": "context",
                "value": "error"
              },
              "type": "STRING",
              "inversion": false,
              "operation": {
                "relation": "empty",
                "inversion": true,
                "caseInsensitive": false
              },
              "conjunction": false
            }
          ],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "5e2d60a4-2a88-45dd-9fc9-39d2b48893d7": {
        "id": "5e2d60a4-2a88-45dd-9fc9-39d2b48893d7",
        "name": "",
        "path": [
          {
            "x": 580,
            "y": 296
          },
          {
            "x": 580,
            "y": 176
          },
          {
            "x": 632,
            "y": 176
          }
        ],
        "type": "error",
        "source": "07e4f05e-f181-4e93-9231-b48c0d8ecf55",
        "target": "e4b5e218-2f13-4fce-ab9b-f531d797577b",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "73ada71c-400f-4ed3-ad91-f46d0b9463e8": {
        "id": "73ada71c-400f-4ed3-ad91-f46d0b9463e8",
        "name": "Альтернативная интеграция",
        "path": [
          {
            "x": 24,
            "y": 104
          },
          {
            "x": 24,
            "y": 176
          }
        ],
        "type": "plain",
        "source": "027be13a-a02f-4eb3-ab35-04edae1478cd",
        "target": "4ffb089f-990e-440c-b525-3c26e1bc6703",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [
            {
              "a": {
                "kind": "context",
                "value": "is_alternative"
              },
              "b": {
                "kind": "manual",
                "value": true
              },
              "type": "BOOLEAN",
              "inversion": false,
              "operation": {
                "relation": "equal",
                "inversion": false,
                "caseInsensitive": false
              },
              "conjunction": false
            }
          ],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "8e83ba11-873f-4c07-a8cf-2a591e69a54d": {
        "id": "8e83ba11-873f-4c07-a8cf-2a591e69a54d",
        "name": "",
        "path": [
          {
            "x": 536,
            "y": 176
          },
          {
            "x": 536,
            "y": 232
          },
          {
            "x": 432,
            "y": 232
          }
        ],
        "type": "default",
        "source": "4c545fa0-e2d0-4d16-920f-233472b93413",
        "target": "2616f556-953b-4142-b7ab-82f0aaa44c8f",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "955f1fa9-8b32-411d-92b6-6fb036941577": {
        "id": "955f1fa9-8b32-411d-92b6-6fb036941577",
        "name": "",
        "path": [
          {
            "x": 352,
            "y": 88
          },
          {
            "x": 392,
            "y": 88
          }
        ],
        "type": "plain",
        "source": "96edc3b9-6526-4fbf-973e-4e584e8ce08f",
        "target": "613d5fe1-0347-4b5f-a768-94aab66a3687",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [
            {
              "a": {
                "kind": "context",
                "value": "integration_is_on"
              },
              "b": {
                "kind": "manual",
                "value": true
              },
              "type": "BOOLEAN",
              "inversion": false,
              "operation": {
                "relation": "equal",
                "inversion": false,
                "caseInsensitive": false
              },
              "conjunction": false
            }
          ],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "a37f15ff-aa94-4ef6-8f7b-cbb7f9e3f4e0": {
        "id": "a37f15ff-aa94-4ef6-8f7b-cbb7f9e3f4e0",
        "name": "",
        "path": [
          {
            "x": -64,
            "y": 88
          },
          {
            "x": 8,
            "y": 88
          }
        ],
        "type": "plain",
        "source": "b0908116-6064-45f5-881c-b6d4b6f5ff13",
        "target": "027be13a-a02f-4eb3-ab35-04edae1478cd",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "aac6edf8-e288-4067-9212-ce88c18ffa3a": {
        "id": "aac6edf8-e288-4067-9212-ce88c18ffa3a",
        "name": "",
        "path": [
          {
            "x": 824,
            "y": 296
          },
          {
            "x": 824,
            "y": 176
          }
        ],
        "type": "plain",
        "source": "37c61a02-780b-4da8-90ae-bfae5b9d0a35",
        "target": "f81761d9-a443-4372-8d9c-d868b2ee1781",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "b0ed8e4b-f865-4bbb-9977-a7688317060c": {
        "id": "b0ed8e4b-f865-4bbb-9977-a7688317060c",
        "name": "",
        "path": [
          {
            "x": 272,
            "y": 88
          },
          {
            "x": 320,
            "y": 88
          }
        ],
        "type": "plain",
        "source": "aedadcec-9efe-408a-bd77-8ae147bbe39b",
        "target": "96edc3b9-6526-4fbf-973e-4e584e8ce08f",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "b7a6d8da-bf39-496f-8fc0-2047d4a09027": {
        "id": "b7a6d8da-bf39-496f-8fc0-2047d4a09027",
        "name": "",
        "path": [
          {
            "x": 712,
            "y": 448
          },
          {
            "x": 808,
            "y": 448
          }
        ],
        "type": "plain",
        "source": "935265fd-9648-4599-b158-ba34916d4f7d",
        "target": "e499fe75-5950-4121-9847-018e599f0ed3",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "bcf3577e-7b04-4bb9-a963-356a6027647e": {
        "id": "bcf3577e-7b04-4bb9-a963-356a6027647e",
        "name": "",
        "path": [
          {
            "x": 40,
            "y": 88
          },
          {
            "x": 192,
            "y": 88
          }
        ],
        "type": "default",
        "source": "027be13a-a02f-4eb3-ab35-04edae1478cd",
        "target": "aedadcec-9efe-408a-bd77-8ae147bbe39b",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "bda53a23-8bcf-4232-8c1c-59868c00e1c1": {
        "id": "bda53a23-8bcf-4232-8c1c-59868c00e1c1",
        "name": "",
        "path": [
          {
            "x": 824,
            "y": 464
          },
          {
            "x": 824,
            "y": 552
          },
          {
            "x": 712,
            "y": 552
          }
        ],
        "type": "default",
        "source": "e499fe75-5950-4121-9847-018e599f0ed3",
        "target": "9141685d-9ef9-42ca-9b72-69a6b4d0258d",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "c33f5653-6619-4e0c-a666-592fb104e410": {
        "id": "c33f5653-6619-4e0c-a666-592fb104e410",
        "name": "",
        "path": [
          {
            "x": 432,
            "y": 328
          },
          {
            "x": 520,
            "y": 328
          }
        ],
        "type": "plain",
        "source": "3439501c-deae-43c2-8dce-94404b33bd8b",
        "target": "07e4f05e-f181-4e93-9231-b48c0d8ecf55",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "c721d3df-53cd-4e6f-b14f-649b7a384f00": {
        "id": "c721d3df-53cd-4e6f-b14f-649b7a384f00",
        "name": "",
        "path": [
          {
            "x": 336,
            "y": 72
          },
          {
            "x": 336,
            "y": 48
          },
          {
            "x": 820,
            "y": 48
          },
          {
            "x": 820,
            "y": 136
          },
          {
            "x": 824,
            "y": 136
          },
          {
            "x": 824,
            "y": 144
          }
        ],
        "type": "default",
        "source": "96edc3b9-6526-4fbf-973e-4e584e8ce08f",
        "target": "f81761d9-a443-4372-8d9c-d868b2ee1781",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "cf7d19c6-b0db-437b-aa5d-10d1a7a0551c": {
        "id": "cf7d19c6-b0db-437b-aa5d-10d1a7a0551c",
        "name": "",
        "path": [
          {
            "x": 392,
            "y": 264
          },
          {
            "x": 392,
            "y": 296
          }
        ],
        "type": "plain",
        "source": "2616f556-953b-4142-b7ab-82f0aaa44c8f",
        "target": "3439501c-deae-43c2-8dce-94404b33bd8b",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "d3e7256f-e0e8-4c1f-929e-b9236b73ab47": {
        "id": "d3e7256f-e0e8-4c1f-929e-b9236b73ab47",
        "name": "",
        "path": [
          {
            "x": 672,
            "y": 344
          },
          {
            "x": 672,
            "y": 416
          }
        ],
        "type": "default",
        "source": "9d0b8ece-51bc-4a48-9e01-6bb0fc1d6a13",
        "target": "935265fd-9648-4599-b158-ba34916d4f7d",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "db9d9297-49e1-41c0-98c3-7b4f80c129cb": {
        "id": "db9d9297-49e1-41c0-98c3-7b4f80c129cb",
        "name": "",
        "path": [
          {
            "x": 600,
            "y": 328
          },
          {
            "x": 656,
            "y": 328
          }
        ],
        "type": "plain",
        "source": "07e4f05e-f181-4e93-9231-b48c0d8ecf55",
        "target": "9d0b8ece-51bc-4a48-9e01-6bb0fc1d6a13",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "e09ba759-99b0-463f-a832-f021fbb03968": {
        "id": "e09ba759-99b0-463f-a832-f021fbb03968",
        "name": "",
        "path": [
          {
            "x": 472,
            "y": 72
          },
          {
            "x": 824,
            "y": 72
          },
          {
            "x": 824,
            "y": 144
          }
        ],
        "type": "error",
        "source": "613d5fe1-0347-4b5f-a768-94aab66a3687",
        "target": "f81761d9-a443-4372-8d9c-d868b2ee1781",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "e222a28f-8f5c-4207-a56b-5e3f3f0c2621": {
        "id": "e222a28f-8f5c-4207-a56b-5e3f3f0c2621",
        "name": "",
        "path": [
          {
            "x": 632,
            "y": 552
          },
          {
            "x": 392,
            "y": 552
          },
          {
            "x": 392,
            "y": 360
          }
        ],
        "type": "plain",
        "source": "9141685d-9ef9-42ca-9b72-69a6b4d0258d",
        "target": "3439501c-deae-43c2-8dce-94404b33bd8b",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "e7031b1c-7cad-4795-9305-93fc4f89e6f4": {
        "id": "e7031b1c-7cad-4795-9305-93fc4f89e6f4",
        "name": "",
        "path": [
          {
            "x": 824,
            "y": 432
          },
          {
            "x": 824,
            "y": 360
          }
        ],
        "type": "plain",
        "source": "e499fe75-5950-4121-9847-018e599f0ed3",
        "target": "37c61a02-780b-4da8-90ae-bfae5b9d0a35",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [
            {
              "a": {
                "kind": "context",
                "value": "full_iteration_amount"
              },
              "b": {
                "kind": "context",
                "value": "current_iteration"
              },
              "type": "FLOAT",
              "inversion": false,
              "operation": {
                "relation": "greater",
                "inversion": true,
                "caseInsensitive": false
              },
              "conjunction": false
            }
          ],
          "descritpion": ""
        },
        "nameShift": 0
      },
      "e8daa87c-9148-497a-8817-1afcd4111faa": {
        "id": "e8daa87c-9148-497a-8817-1afcd4111faa",
        "name": "",
        "path": [
          {
            "x": 672,
            "y": 312
          },
          {
            "x": 672,
            "y": 192
          }
        ],
        "type": "plain",
        "source": "9d0b8ece-51bc-4a48-9e01-6bb0fc1d6a13",
        "target": "e4b5e218-2f13-4fce-ab9b-f531d797577b",
        "settings": {
          "exit": {
            "confirm": "none",
            "interrupt": false,
            "skipCheck": false,
            "formFields": [],
            "buttonClass": "default",
            "confirmText": "",
            "popoverSize": "md",
            "formDescription": ""
          },
          "conditions": [
            {
              "a": {
                "kind": "context",
                "value": "error"
              },
              "type": "STRING",
              "inversion": false,
              "operation": {
                "relation": "empty",
                "inversion": true,
                "caseInsensitive": false
              },
              "conjunction": false
            }
          ],
          "descritpion": ""
        },
        "nameShift": 0
      }
    }
  },
  "scripts": "/**\nHere you can write scripts for complex server processing of the context during process execution.\nTo write scripts, use TypeScript (https://www.typescriptlang.org).\nELMA365 SDK documentation available on https://tssdk.elma365.com.\n**/\nconst iterationBatch = 100;\n\nasync function fillEmployeesData(): Promise\u003cvoid\u003e {\n    Context.data.request_url = \"InformationRegister_EM_ОстаткиОтпусков?$format=json\u0026$skip=999999\u0026$inlinecount=allpages\";\n}\n\nasync function fillIterData(): Promise\u003cvoid\u003e {\n    const response = JSON.parse(Context.data.response!);\n    const count = parseInt(response[\"odata.count\"]);\n    Context.data.amount_of_data = count;\n    Context.data.current_iteration = 0;\n    Context.data.full_iteration_amount = Math.ceil(count / iterationBatch) - 1;\n    Context.data.vacations_data = JSON.stringify([])\n}\n\nasync function getRequestData(): Promise\u003cvoid\u003e {\n    const startSkip = Context.data.current_iteration! * iterationBatch;\n    Context.data.request_url = `InformationRegister_EM_ОстаткиОтпусков?$format=json\u0026$skip=${startSkip}\u0026$top=${iterationBatch}`;\n}\n\nasync function parseData(): Promise\u003cvoid\u003e {\n    const response = JSON.parse(Context.data.response!)\n    const vacations = JSON.parse(Context.data.vacations_data!)\n\n    for(let i = 0; i \u003c response.value.length; i++) {\n\n        const employee = vacations.find((item: any) =\u003e item.employeeId === response.value[i][\"Сотрудник_Key\"])\n        if(!!employee) {\n            employee.amount += response.value[i][\"ОстатокДней\"]\n        } else {\n            vacations.push({\n                employeeId: response.value[i][\"Сотрудник_Key\"],\n                amount: response.value[i][\"ОстатокДней\"]\n            })\n        }\n    }\n\n    Context.data.vacations_data = JSON.stringify(vacations)\n}\n\nasync function updateIterationData(): Promise\u003cvoid\u003e {\n    Context.data.current_iteration = Context.data.current_iteration! + 1\n}\n\nasync function updateVacationData(): Promise\u003cvoid\u003e {\n    const vacations = JSON.parse(Context.data.vacations_data!)\n    const employees = await Namespace.app.staff.search().where((f, g) =\u003e \n        f.__deletedAt.eq(null)\n    ).all();\n    for(let i = 0; i \u003c vacations.length; i++) {\n        const employee = employees.find((item: any) =\u003e {\n            return item.data.id_1c === vacations[i].employeeId\n        })\n\n        if (!!employee) {\n            employee.data.remaining_vacation_days = Math.ceil(vacations[i].amount);\n            await employee.save()\n        }\n    }\n}\n\nasync function get_kedo_settings(): Promise\u003cvoid\u003e {\n    const settings = await Namespace.app.settings.search().where(f =\u003e f.__deletedAt.eq(null)).size(10000).all();\n\n    const integration_1c = settings.find(f =\u003e f.data.code == 'integration_1c');\n    Context.data.integration_is_on = integration_1c ? integration_1c.data.status : false;\n\n    const use_alternative_integration = settings.find(f =\u003e f.data.code == 'use_alternative_integration');\n    Context.data.is_alternative = use_alternative_integration ? use_alternative_integration.data.status : false;\n}\n",
  "forms": [],
  "settings": {
    "logged": true,
    "targetFeed": {
      "type": "object",
      "variable": "staff"
    },
    "allowGlobal": false,
    "instanceCard": {
      "allFields": true,
      "formFields": []
    },
    "notifyOnStart": true,
    "allowNamespace": true,
    "applicationContext": false,
    "fieldVisibilityConditions": {
      "debug": {
        "enabled": false,
        "conditions": []
      },
      "error": {
        "enabled": false,
        "conditions": []
      },
      "response": {
        "enabled": false,
        "conditions": []
      },
      "request_url": {
        "enabled": false,
        "conditions": []
      },
      "amount_of_data": {
        "enabled": false,
        "conditions": []
      },
      "is_alternative": {
        "enabled": false,
        "conditions": []
      },
      "vacations_data": {
        "enabled": false,
        "conditions": []
      },
      "dannye_otpuskov": {
        "enabled": false,
        "conditions": []
      },
      "current_iteration": {
        "enabled": false,
        "conditions": []
      },
      "integration_is_on": {
        "enabled": false,
        "conditions": []
      },
      "kolichestvo_iteracii": {
        "enabled": false,
        "conditions": []
      },
      "full_iteration_amount": {
        "enabled": false,
        "conditions": []
      }
    }
  },
  "hideInList": false,
  "applicationLink": false,
  "__deletedAt": null
}
